(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("os0x"),s=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("q/0M"),a=n("zVF4"),u=n("x7I3"),l=n("S+S0"),c=new o.Logger("@firebase/firestore");function h(){return c.logLevel}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(c.logLevel<=o.LogLevel.DEBUG){var r=e.map(p);c.debug.apply(c,i.__spreadArrays(["Firestore (7.17.1): "+t],r))}}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(c.logLevel<=o.LogLevel.ERROR){var r=e.map(p);c.error.apply(c,i.__spreadArrays(["Firestore (7.17.1): "+t],r))}}function p(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(i){return t}}function m(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.17.1) INTERNAL ASSERTION FAILED: "+t;throw f(e),new Error(e)}function g(t,e){t||m()}function y(t,e){return t}function _(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var v=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=_(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function b(t,e){return t<e?-1:t>e?1:0}function w(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function E(t){return t+"\0"}var C=function(t,e,n,r,i){this.s=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},S=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"i",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.o=function(t){return b(this.projectId,t.projectId)||b(this.database,t.database)},t}();function A(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function x(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function T(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var D=function(){function t(t,e){this.h=t,this.u=e,this.l={}}return t.prototype.get=function(t){var e=this.h(t),n=this.l[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.u(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.h(t),r=this.l[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.u(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.l[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.h(t),n=this.l[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.u(n[r][0],t))return 1===n.length?delete this.l[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){x(this.l,(function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}}))},t.prototype._=function(){return T(this.l)},t}(),I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},k=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return i.__extends(e,t),e}(Error),O=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new k(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new k(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new k(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new k(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.T=function(t){return this.seconds===t.seconds?b(this.nanoseconds,t.nanoseconds):b(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),N=function(){function t(t){this.timestamp=t}return t.I=function(e){return new t(e)},t.min=function(){return new t(new O(0,0))},t.prototype.o=function(t){return this.timestamp.T(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.m=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.A=function(){return this.timestamp},t}(),R=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&m(),void 0===n?n=t.length-e:n>t.length-e&&m(),this.segments=t,this.offset=e,this.R=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.R},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.P(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.g(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.V=function(t){return this.g(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.p=function(){return this.g(this.segments,this.offset,this.length-1)},t.prototype.v=function(){return this.segments[this.offset]},t.prototype.S=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype._=function(){return 0===this.length},t.prototype.D=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.C=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.F=function(){return this.segments.slice(this.offset,this.limit())},t.P=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.g=function(t,n,r){return new e(t,n,r)},e.prototype.$=function(){return this.F().join("/")},e.prototype.toString=function(){return this.$()},e.N=function(t){if(t.indexOf("//")>=0)throw new k(I.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.k=function(){return new e([])},e}(R),V=/^[_a-zA-Z][_a-zA-Z0-9]*$/,F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.g=function(t,n,r){return new e(t,n,r)},e.M=function(t){return V.test(t)},e.prototype.$=function(){return this.F().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.M(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.$()},e.prototype.O=function(){return 1===this.length&&"__name__"===this.get(0)},e.L=function(){return new e(["__name__"])},e.q=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new k(I.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new k(I.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new k(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new k(I.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.k=function(){return new e([])},e}(R),M=function(){function t(t){this.path=t}return t.B=function(e){return new t(P.N(e).V(5))},t.prototype.U=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===P.P(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.P=function(t,e){return P.P(t.path,e.path)},t.W=function(t){return t.length%2==0},t.j=function(e){return new t(new P(e.slice()))},t}();function L(t){return null==t}function j(t){return-0===t&&1/t==-1/0}function U(t){return"number"==typeof t&&Number.isInteger(t)&&!j(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var B=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.K=null};function q(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new B(t,e,n,r,i,s,o)}function z(t){var e=y(t);if(null===e.K){var n=e.path.$();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.$()+t.op.toString()+Pt(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.$()+e.dir;var e})).join(","),L(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Dn(e.startAt)),e.endAt&&(n+="|ub:",n+=Dn(e.endAt)),e.K=n}return e.K}function H(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Rn(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(s=e.filters[r],!((i=t.filters[r])instanceof wn&&s instanceof wn&&i.op===s.op&&i.field.isEqual(s.field)&&kt(i.value,s.value)))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kn(t.startAt,e.startAt)&&kn(t.endAt,e.endAt)}function $(t){return M.W(t.path)&&null===t.collectionGroup&&0===t.filters.length}var G=function(){function t(t){this.G=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.G)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.G)},t.prototype.H=function(){return 2*this.G.length},t.prototype.o=function(t){return b(this.G,t.G)},t.prototype.isEqual=function(t){return this.G===t.G},t}();G.Y=new G("");var W,Y,K=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=N.min()),void 0===s&&(s=N.min()),void 0===o&&(o=G.Y),this.target=t,this.targetId=e,this.J=n,this.sequenceNumber=r,this.X=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.Z=function(e){return new t(this.target,this.targetId,this.J,e,this.X,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.tt=function(e,n){return new t(this.target,this.targetId,this.J,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.et=function(e){return new t(this.target,this.targetId,this.J,this.sequenceNumber,this.X,e,this.resumeToken)},t}(),Q=function(t){this.count=t};function Z(t){switch(t){case I.OK:return m();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0;default:return m()}}function X(t){if(void 0===t)return f("GRPC error has no .code"),I.UNKNOWN;switch(t){case W.OK:return I.OK;case W.CANCELLED:return I.CANCELLED;case W.UNKNOWN:return I.UNKNOWN;case W.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case W.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case W.INTERNAL:return I.INTERNAL;case W.UNAVAILABLE:return I.UNAVAILABLE;case W.UNAUTHENTICATED:return I.UNAUTHENTICATED;case W.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case W.NOT_FOUND:return I.NOT_FOUND;case W.ALREADY_EXISTS:return I.ALREADY_EXISTS;case W.PERMISSION_DENIED:return I.PERMISSION_DENIED;case W.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case W.ABORTED:return I.ABORTED;case W.OUT_OF_RANGE:return I.OUT_OF_RANGE;case W.UNIMPLEMENTED:return I.UNIMPLEMENTED;case W.DATA_LOSS:return I.DATA_LOSS;default:return m()}}(Y=W||(W={}))[Y.OK=0]="OK",Y[Y.CANCELLED=1]="CANCELLED",Y[Y.UNKNOWN=2]="UNKNOWN",Y[Y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Y[Y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Y[Y.NOT_FOUND=5]="NOT_FOUND",Y[Y.ALREADY_EXISTS=6]="ALREADY_EXISTS",Y[Y.PERMISSION_DENIED=7]="PERMISSION_DENIED",Y[Y.UNAUTHENTICATED=16]="UNAUTHENTICATED",Y[Y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Y[Y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Y[Y.ABORTED=10]="ABORTED",Y[Y.OUT_OF_RANGE=11]="OUT_OF_RANGE",Y[Y.UNIMPLEMENTED=12]="UNIMPLEMENTED",Y[Y.INTERNAL=13]="INTERNAL",Y[Y.UNAVAILABLE=14]="UNAVAILABLE",Y[Y.DATA_LOSS=15]="DATA_LOSS";var J=function(){function t(t,e){this.P=t,this.root=e||et.EMPTY}return t.prototype.nt=function(e,n){return new t(this.P,this.root.nt(e,n,this.P).copy(null,null,et.st,null,null))},t.prototype.remove=function(e){return new t(this.P,this.root.remove(e,this.P).copy(null,null,et.st,null,null))},t.prototype.get=function(t){for(var e=this.root;!e._();){var n=this.P(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n._();){var r=this.P(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype._=function(){return this.root._()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.it=function(){return this.root.it()},t.prototype.rt=function(){return this.root.rt()},t.prototype.ot=function(t){return this.root.ot(t)},t.prototype.forEach=function(t){this.ot((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ot((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.at=function(){return new tt(this.root,null,this.P,!1)},t.prototype.ut=function(t){return new tt(this.root,t,this.P,!1)},t.prototype.ct=function(){return new tt(this.root,null,this.P,!0)},t.prototype.lt=function(t){return new tt(this.root,t,this.P,!0)},t}(),tt=function(){function t(t,e,n,r){this._t=r,this.ft=[];for(var i=1;!t._();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this._t?t.left:t.right;else{if(0===i){this.ft.push(t);break}this.ft.push(t),t=this._t?t.right:t.left}}return t.prototype.dt=function(){var t=this.ft.pop(),e={key:t.key,value:t.value};if(this._t)for(t=t.left;!t._();)this.ft.push(t),t=t.right;else for(t=t.right;!t._();)this.ft.push(t),t=t.left;return e},t.prototype.wt=function(){return this.ft.length>0},t.prototype.Tt=function(){if(0===this.ft.length)return null;var t=this.ft[this.ft.length-1];return{key:t.key,value:t.value}},t}(),et=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype._=function(){return!1},t.prototype.ot=function(t){return this.left.ot(t)||t(this.key,this.value)||this.right.ot(t)},t.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},t.prototype.min=function(){return this.left._()?this:this.left.min()},t.prototype.it=function(){return this.min().key},t.prototype.rt=function(){return this.right._()?this.key:this.right.rt()},t.prototype.nt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.nt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.nt(t,e,n))).Et()},t.prototype.It=function(){if(this.left._())return t.EMPTY;var e=this;return e.left.At()||e.left.left.At()||(e=e.Rt()),(e=e.copy(null,null,null,e.left.It(),null)).Et()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left._()||i.left.At()||i.left.left.At()||(i=i.Rt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.At()&&(i=i.Pt()),i.right._()||i.right.At()||i.right.left.At()||(i=i.gt()),0===n(e,i.key)){if(i.right._())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.It())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Et()},t.prototype.At=function(){return this.color},t.prototype.Et=function(){var t=this;return t.right.At()&&!t.left.At()&&(t=t.Vt()),t.left.At()&&t.left.left.At()&&(t=t.Pt()),t.left.At()&&t.right.At()&&(t=t.yt()),t},t.prototype.Rt=function(){var t=this.yt();return t.right.left.At()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Pt())).Vt()).yt()),t},t.prototype.gt=function(){var t=this.yt();return t.left.left.At()&&(t=(t=t.Pt()).yt()),t},t.prototype.Vt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Pt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.yt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.pt=function(){var t=this.bt();return Math.pow(2,t)<=this.size+1},t.prototype.bt=function(){if(this.At()&&this.left.At())throw m();if(this.right.At())throw m();var t=this.left.bt();if(t!==this.right.bt())throw m();return t+(this.At()?0:1)},t}();et.EMPTY=null,et.RED=!0,et.st=!1,et.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw m()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.nt=function(t,e,n){return new et(t,e)},t.prototype.remove=function(t,e){return this},t.prototype._=function(){return!0},t.prototype.ot=function(t){return!1},t.prototype.ht=function(t){return!1},t.prototype.it=function(){return null},t.prototype.rt=function(){return null},t.prototype.At=function(){return!1},t.prototype.pt=function(){return!0},t.prototype.bt=function(){return 0},t}());var nt=function(){function t(t){this.P=t,this.data=new J(this.P)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.it()},t.prototype.last=function(){return this.data.rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ot((function(e,n){return t(e),!1}))},t.prototype.vt=function(t,e){for(var n=this.data.ut(t[0]);n.wt();){var r=n.dt();if(this.P(r.key,t[1])>=0)return;e(r.key)}},t.prototype.St=function(t,e){var n;for(n=void 0!==e?this.data.ut(e):this.data.at();n.wt();)if(!t(n.dt().key))return},t.prototype.Dt=function(t){var e=this.data.ut(t);return e.wt()?e.dt().key:null},t.prototype.at=function(){return new rt(this.data.at())},t.prototype.ut=function(t){return new rt(this.data.ut(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).nt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype._=function(){return this.data._()},t.prototype.Ct=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.at(),r=e.data.at();n.wt();){var i=n.dt().key,s=r.dt().key;if(0!==this.P(i,s))return!1}return!0},t.prototype.F=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.P);return n.data=e,n},t}(),rt=function(){function t(t){this.Ft=t}return t.prototype.dt=function(){return this.Ft.dt().key},t.prototype.wt=function(){return this.Ft.wt()},t}(),it=new J(M.P);function st(){return it}function ot(){return st()}var at=new J(M.P);function ut(){return at}var lt=new J(M.P),ct=new nt(M.P);function ht(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ct,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var dt=new nt(b);function ft(){return dt}var pt=function(){function t(t){this.P=t?function(e,n){return t(e,n)||M.P(e.key,n.key)}:function(t,e){return M.P(t.key,e.key)},this.$t=ut(),this.Nt=new J(this.P)}return t.kt=function(e){return new t(e.P)},t.prototype.has=function(t){return null!=this.$t.get(t)},t.prototype.get=function(t){return this.$t.get(t)},t.prototype.first=function(){return this.Nt.it()},t.prototype.last=function(){return this.Nt.rt()},t.prototype._=function(){return this.Nt._()},t.prototype.indexOf=function(t){var e=this.$t.get(t);return e?this.Nt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Nt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Nt.ot((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.$t.nt(t.key,t),e.Nt.nt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.$t.remove(t),this.Nt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Nt.at(),r=e.Nt.at();n.wt();){var i=n.dt().key,s=r.dt().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.P=this.P,r.$t=e,r.Nt=n,r},t}(),mt=function(){function t(){this.xt=new J(M.P)}return t.prototype.track=function(t){var e=t.doc.key,n=this.xt.get(e);n?0!==t.type&&3===n.type?this.xt=this.xt.nt(e,t):3===t.type&&1!==n.type?this.xt=this.xt.nt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.xt=this.xt.nt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.xt=this.xt.nt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.xt=this.xt.remove(e):1===t.type&&2===n.type?this.xt=this.xt.nt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.xt=this.xt.nt(e,{type:2,doc:t.doc}):m():this.xt=this.xt.nt(e,t)},t.prototype.Mt=function(){var t=[];return this.xt.ot((function(e,n){t.push(n)})),t},t}(),gt=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.Ot=n,this.docChanges=r,this.Lt=i,this.fromCache=s,this.qt=o,this.Bt=a}return t.Ut=function(e,n,r,i){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,pt.kt(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Lt._()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.qt===t.qt&&this.Lt.isEqual(t.Lt)&&gn(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ot.isEqual(t.Ot)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),yt=function(){function t(t,e,n,r,i){this.X=t,this.Wt=e,this.Qt=n,this.jt=r,this.Kt=i}return t.Gt=function(e,n){var r=new Map;return r.set(e,_t.zt(e,n)),new t(N.min(),r,ft(),st(),ht())},t}(),_t=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Ht=e,this.Yt=n,this.Jt=r,this.Xt=i}return t.zt=function(e,n){return new t(G.Y,n,ht(),ht(),ht())},t}(),vt=function(t,e,n,r){this.Zt=t,this.removedTargetIds=e,this.key=n,this.te=r},bt=function(t,e){this.targetId=t,this.ee=e},wt=function(t,e,n,r){void 0===n&&(n=G.Y),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Et=function(){function t(){this.ne=0,this.se=At(),this.ie=G.Y,this.re=!1,this.oe=!0}return Object.defineProperty(t.prototype,"Ht",{get:function(){return this.re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"he",{get:function(){return 0!==this.ne},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ae",{get:function(){return this.oe},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){t.H()>0&&(this.oe=!0,this.ie=t)},t.prototype.ce=function(){var t=ht(),e=ht(),n=ht();return this.se.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:m()}})),new _t(this.ie,this.re,t,e,n)},t.prototype.le=function(){this.oe=!1,this.se=At()},t.prototype._e=function(t,e){this.oe=!0,this.se=this.se.nt(t,e)},t.prototype.fe=function(t){this.oe=!0,this.se=this.se.remove(t)},t.prototype.de=function(){this.ne+=1},t.prototype.we=function(){this.ne-=1},t.prototype.Te=function(){this.oe=!0,this.re=!0},t}(),Ct=function(){function t(t){this.Ee=t,this.Ie=new Map,this.me=st(),this.Ae=St(),this.Re=new nt(b)}return t.prototype.Pe=function(t){for(var e=0,n=t.Zt;e<n.length;e++){var r=n[e];t.te instanceof nn?this.ge(r,t.te):t.te instanceof rn&&this.Ve(r,t.key,t.te)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Ve(s[i],t.key,t.te)},t.prototype.ye=function(t){var e=this;this.pe(t,(function(n){var r=e.be(n);switch(t.state){case 0:e.ve(n)&&r.ue(t.resumeToken);break;case 1:r.we(),r.he||r.le(),r.ue(t.resumeToken);break;case 2:r.we(),r.he||e.removeTarget(n);break;case 3:e.ve(n)&&(r.Te(),r.ue(t.resumeToken));break;case 4:e.ve(n)&&(e.Se(n),r.ue(t.resumeToken));break;default:m()}}))},t.prototype.pe=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Ie.forEach((function(t,r){n.ve(r)&&e(r)}))},t.prototype.De=function(t){var e=t.targetId,n=t.ee.count,r=this.Ce(e);if(r){var i=r.target;if($(i))if(0===n){var s=new M(i.path);this.Ve(e,s,new rn(s,N.min()))}else g(1===n);else this.Fe(e)!==n&&(this.Se(e),this.Re=this.Re.add(e))}},t.prototype.$e=function(t){var e=this,n=new Map;this.Ie.forEach((function(r,i){var s=e.Ce(i);if(s){if(r.Ht&&$(s.target)){var o=new M(s.target.path);null!==e.me.get(o)||e.Ne(i,o)||e.Ve(i,o,new rn(o,t))}r.ae&&(n.set(i,r.ce()),r.le())}}));var r=ht();this.Ae.forEach((function(t,n){var i=!0;n.St((function(t){var n=e.Ce(t);return!n||2===n.J||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new yt(t,n,this.Re,this.me,r);return this.me=st(),this.Ae=St(),this.Re=new nt(b),i},t.prototype.ge=function(t,e){if(this.ve(t)){var n=this.Ne(t,e.key)?2:0;this.be(t)._e(e.key,n),this.me=this.me.nt(e.key,e),this.Ae=this.Ae.nt(e.key,this.ke(e.key).add(t))}},t.prototype.Ve=function(t,e,n){if(this.ve(t)){var r=this.be(t);this.Ne(t,e)?r._e(e,1):r.fe(e),this.Ae=this.Ae.nt(e,this.ke(e).delete(t)),n&&(this.me=this.me.nt(e,n))}},t.prototype.removeTarget=function(t){this.Ie.delete(t)},t.prototype.Fe=function(t){var e=this.be(t).ce();return this.Ee.xe(t).size+e.Yt.size-e.Xt.size},t.prototype.de=function(t){this.be(t).de()},t.prototype.be=function(t){var e=this.Ie.get(t);return e||(e=new Et,this.Ie.set(t,e)),e},t.prototype.ke=function(t){var e=this.Ae.get(t);return e||(e=new nt(b),this.Ae=this.Ae.nt(t,e)),e},t.prototype.ve=function(t){var e=null!==this.Ce(t);return e||d("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ce=function(t){var e=this.Ie.get(t);return e&&e.he?null:this.Ee.Me(t)},t.prototype.Se=function(t){var e=this;this.Ie.set(t,new Et),this.Ee.xe(t).forEach((function(n){e.Ve(t,n,null)}))},t.prototype.Ne=function(t,e){return this.Ee.xe(t).has(e)},t}();function St(){return new J(M.P)}function At(){return new J(M.P)}function xt(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Tt(t){var e=Vt(t.mapValue.fields.__local_write_time__.timestampValue);return new O(e.seconds,e.nanos)}var Dt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function It(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xt(t)?4:10:m()}function kt(t,e){var n=It(t);if(n!==It(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tt(t).isEqual(Tt(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Vt(t.timestampValue),r=Vt(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Mt(t.bytesValue).isEqual(Mt(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ft(t.geoPointValue.latitude)===Ft(e.geoPointValue.latitude)&&Ft(t.geoPointValue.longitude)===Ft(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ft(t.integerValue)===Ft(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ft(t.doubleValue),r=Ft(e.doubleValue);return n===r?j(n)===j(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return w(t.arrayValue.values||[],e.arrayValue.values||[],kt);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(A(n)!==A(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!kt(n[i],r[i])))return!1;return!0}(t,e);default:return m()}}function Ot(t,e){return void 0!==(t.values||[]).find((function(t){return kt(t,e)}))}function Nt(t,e){var n=It(t),r=It(e);if(n!==r)return b(n,r);switch(n){case 0:return 0;case 1:return b(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ft(t.integerValue||t.doubleValue),r=Ft(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Rt(t.timestampValue,e.timestampValue);case 4:return Rt(Tt(t),Tt(e));case 5:return b(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Mt(t),r=Mt(e);return n.o(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=b(n[i],r[i]);if(0!==s)return s}return b(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=b(Ft(t.latitude),Ft(e.latitude));return 0!==n?n:b(Ft(t.longitude),Ft(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Nt(n[i],r[i]);if(s)return s}return b(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=b(r[o],s[o]);if(0!==a)return a;var u=Nt(n[r[o]],i[s[o]]);if(0!==u)return u}return b(r.length,s.length)}(t.mapValue,e.mapValue);default:throw m()}}function Rt(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return b(t,e);var n=Vt(t),r=Vt(e),i=b(n.seconds,r.seconds);return 0!==i?i:b(n.nanos,r.nanos)}function Pt(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Vt(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Mt(e.bytesValue).toBase64():"referenceValue"in e?M.B(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,s=e.values||[];i<s.length;i++)r?r=!1:n+=",",n+=t(s[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,s=Object.keys(e.fields||{}).sort();i<s.length;i++){var o=s[i];r?r=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):m();var n}(t)}function Vt(t){if(g(!!t),"string"==typeof t){var e=0,n=Dt.exec(t);if(g(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ft(t.seconds),nanos:Ft(t.nanos)}}function Ft(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Mt(t){return"string"==typeof t?G.fromBase64String(t):G.fromUint8Array(t)}function Lt(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.$()}}function jt(t){return!!t&&"integerValue"in t}function Ut(t){return!!t&&"arrayValue"in t}function Bt(t){return!!t&&"nullValue"in t}function qt(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zt(t){return!!t&&"mapValue"in t}var Ht={asc:"ASCENDING",desc:"DESCENDING"},$t={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gt=function(t,e){this.s=t,this.Oe=e};function Wt(t){return{integerValue:""+t}}function Yt(t,e){if(t.Oe){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:j(e)?"-0":e}}function Kt(t,e){return U(e)?Wt(e):Yt(t,e)}function Qt(t,e){return t.Oe?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zt(t,e){return t.Oe?e.toBase64():e.toUint8Array()}function Xt(t,e){return Qt(t,e.A())}function Jt(t){return g(!!t),N.I(function(t){var e=Vt(t);return new O(e.seconds,e.nanos)}(t))}function te(t,e){return function(t){return new P(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).$()}function ee(t){var e=P.N(t);return g(be(e)),e}function ne(t,e){return te(t.s,e.path)}function re(t,e){var n=ee(e);return g(n.get(1)===t.s.projectId),g(!n.get(3)&&!t.s.database||n.get(3)===t.s.database),new M(ae(n))}function ie(t,e){return te(t.s,e)}function se(t){var e=ee(t);return 4===e.length?P.k():ae(e)}function oe(t){return new P(["projects",t.s.projectId,"databases",t.s.database]).$()}function ae(t){return g(t.length>4&&"documents"===t.get(4)),t.V(5)}function ue(t,e,n){return{name:ne(t,e),fields:n.proto.mapValue.fields}}function le(t,e){var n;if(e instanceof He)n={update:ue(t,e.key,e.value)};else if(e instanceof Qe)n={delete:ne(t,e.key)};else if(e instanceof $e)n={update:ue(t,e.key,e.data),updateMask:ve(e.Le)};else if(e instanceof We)n={transform:{document:ne(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Ae)return{fieldPath:e.field.$(),setToServerValue:"REQUEST_TIME"};if(n instanceof xe)return{fieldPath:e.field.$(),appendMissingElements:{values:n.elements}};if(n instanceof De)return{fieldPath:e.field.$(),removeAllFromArray:{values:n.elements}};if(n instanceof ke)return{fieldPath:e.field.$(),increment:n.qe};throw m()}(0,t)}))}};else{if(!(e instanceof Ze))return m();n={verify:ne(t,e.key)}}return e.Ue.Be||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Xt(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:m()}(t,e.Ue)),n}function ce(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Fe.updateTime(Jt(t.updateTime)):void 0!==t.exists?Fe.exists(t.exists):Fe.We()}(e.currentDocument):Fe.We();if(e.update){var r=re(t,e.update.name),i=new Xe({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Re((t.fieldPaths||[]).map((function(t){return F.q(t)})))}(e.updateMask);return new $e(r,i,s,n)}return new He(r,i,n)}if(e.delete){var o=re(t,e.delete);return new Qe(o,n)}if(e.transform){var a=re(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(g("REQUEST_TIME"===e.setToServerValue),n=new Ae):"appendMissingElements"in e?n=new xe(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new De(e.removeAllFromArray.values||[]):"increment"in e?n=new ke(t,e.increment):m();var r=F.q(e.fieldPath);return new Pe(r,n)}(t,e)}));return g(!0===n.exists),new We(a,u)}if(e.verify){var l=re(t,e.verify);return new Ze(l,n)}return m()}function he(t,e){return{documents:[ie(t,e.path)]}}function de(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ie(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ie(t,r.p()),n.structuredQuery.from=[{collectionId:r.S()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return t instanceof wn?function(t){if("=="===t.op){if(qt(t.value))return{unaryFilter:{field:me(t.field),op:"IS_NAN"}};if(Bt(t.value))return{unaryFilter:{field:me(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:me(t.field),op:(e=t.op,$t[e]),value:t.value}};var e}(t):m()}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map((function(t){return{field:me((e=t).field),direction:(n=e.dir,Ht[n])};var e,n}))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.Oe||L(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=fe(e.startAt)),e.endAt&&(n.structuredQuery.endAt=fe(e.endAt)),n}function fe(t){return{before:t.before,values:t.position}}function pe(t){return new Tn(t.values||[],!!t.before)}function me(t){return{fieldPath:t.$()}}function ge(t){return F.q(t.fieldPath)}function ye(t){return wn.create(ge(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return m()}}(t.fieldFilter.op),t.fieldFilter.value)}function _e(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ge(t.unaryFilter.field);return wn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ge(t.unaryFilter.field);return wn.create(n,"==",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return m()}}function ve(t){var e=[];return t.fields.forEach((function(t){return e.push(t.$())})),{fieldPaths:e}}function be(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var we=function(){this.Qe=void 0};function Ee(t,e,n){return t instanceof Ae?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof xe?Te(t,e):t instanceof De?Ie(t,e):function(t,e){var n=Se(t,e),r=Oe(n)+Oe(t.qe);return jt(n)&&jt(t.qe)?Wt(r):Yt(t.serializer,r)}(t,e)}function Ce(t,e,n){return t instanceof xe?Te(t,e):t instanceof De?Ie(t,e):n}function Se(t,e){return t instanceof ke?jt(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ae=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(we),xe=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return i.__extends(e,t),e}(we);function Te(t,e){for(var n=Ne(e),r=function(t){n.some((function(e){return kt(e,t)}))||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var De=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return i.__extends(e,t),e}(we);function Ie(t,e){for(var n=Ne(e),r=function(t){n=n.filter((function(e){return!kt(e,t)}))},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var ke=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.qe=n,r}return i.__extends(e,t),e}(we);function Oe(t){return Ft(t.integerValue||t.doubleValue)}function Ne(t){return Ut(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Re=function(){function t(t){this.fields=t,t.sort(F.P)}return t.prototype.je=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].D(t))return!0;return!1},t.prototype.isEqual=function(t){return w(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Pe=function(t,e){this.field=t,this.transform=e},Ve=function(t,e){this.version=t,this.transformResults=e},Fe=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.We=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Be",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Me(t,e){return void 0!==t.updateTime?e instanceof nn&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof nn}var Le=function(){};function je(t,e,n){return t instanceof He?function(t,e,n){return new nn(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof $e?function(t,e,n){if(!Me(t.Ue,e))return new sn(t.key,n.version);var r=Ge(t,e);return new nn(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof We?function(t,e,n){if(g(null!=n.transformResults),!Me(t.Ue,e))return new sn(t.key,n.version);var r=Ye(0,e),i=function(t,e,n){var r=[];g(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof nn&&(a=e.field(s.field)),r.push(Ce(o,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),s=n.version,o=Ke(t,r.data(),i);return new nn(t.key,s,o,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new rn(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Ue(t,e,n,r){return t instanceof He?function(t,e){if(!Me(t.Ue,e))return e;var n=ze(e);return new nn(t.key,n,t.value,{Ke:!0})}(t,e):t instanceof $e?function(t,e){if(!Me(t.Ue,e))return e;var n=ze(e),r=Ge(t,e);return new nn(t.key,n,r,{Ke:!0})}(t,e):t instanceof We?function(t,e,n,r){if(!Me(t.Ue,e))return e;var i=Ye(0,e),s=function(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,l=null;n instanceof nn&&(l=n.field(a.field)),null===l&&r instanceof nn&&(l=r.field(a.field)),i.push(Ee(u,l,e))}return i}(t.fieldTransforms,n,e,r),o=Ke(t,i.data(),s);return new nn(t.key,i.version,o,{Ke:!0})}(t,e,r,n):function(t,e){return Me(t.Ue,e)?new rn(t.key,N.min()):e}(t,e)}function Be(t,e){return t instanceof We?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e instanceof nn?e.field(s.field):void 0,a=Se(s.transform,o||null);null!=a&&(n=null==n?(new Je).set(s.field,a):n.set(s.field,a))}return n?n.Ge():null}(t,e):null}function qe(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ue.isEqual(e.Ue)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Le.isEqual(e.Le):2!==t.type||w(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof xe&&e instanceof xe||t instanceof De&&e instanceof De?w(t.elements,e.elements,kt):t instanceof ke&&e instanceof ke?kt(t.qe,e.qe):t instanceof Ae&&e instanceof Ae}(t.transform,e.transform)}(t,e)})))}function ze(t){return t instanceof nn?t.version:N.min()}var He=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ue=r,i.type=0,i}return i.__extends(e,t),e}(Le),$e=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Le=r,s.Ue=i,s.type=1,s}return i.__extends(e,t),e}(Le);function Ge(t,e){return function(t,e){var n=new Je(e);return t.Le.fields.forEach((function(e){if(!e._()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Ge()}(t,e instanceof nn?e.data():Xe.empty())}var We=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ue=Fe.exists(!0),r}return i.__extends(e,t),e}(Le);function Ye(t,e){return e}function Ke(t,e,n){for(var r=new Je(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.Ge()}var Qe=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ue=n,r.type=3,r}return i.__extends(e,t),e}(Le),Ze=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ue=n,r.type=4,r}return i.__extends(e,t),e}(Le),Xe=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t._())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!zt(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.S()])||null},t.prototype.isEqual=function(t){return kt(this.proto,t.proto)},t}(),Je=function(){function t(t){void 0===t&&(t=Xe.empty()),this.ze=t,this.He=new Map}return t.prototype.set=function(t,e){return this.Ye(t,e),this},t.prototype.delete=function(t){return this.Ye(t,null),this},t.prototype.Ye=function(t,e){for(var n=this.He,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===It(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.S(),e)},t.prototype.Ge=function(){var t=this.Je(F.k(),this.He);return null!=t?new Xe(t):this.ze},t.prototype.Je=function(t,e){var n=this,r=!1,i=this.ze.field(t),s=zt(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var o=n.Je(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)})),r?{mapValue:{fields:s}}:null},t}();function tn(t){var e=[];return x(t.fields||{},(function(t,n){var r=new F([t]);if(zt(n)){var i=tn(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)})),new Re(e)}var en=function(t,e){this.key=t,this.version=e},nn=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).Xe=r,s.Ke=!!i.Ke,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return i.__extends(e,t),e.prototype.field=function(t){return this.Xe.field(t)},e.prototype.data=function(){return this.Xe},e.prototype.Ze=function(){return this.Xe.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ke===t.Ke&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Xe.isEqual(t.Xe)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Xe.toString()+", {hasLocalMutations: "+this.Ke+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Ke||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(en),rn=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return i.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(en),sn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(en);function on(t,e){if(!(t instanceof e))throw new k(I.INVALID_ARGUMENT,e.name===t.constructor.name?"Type does not match the expected instance. Did you pass '"+e.name+"' from a different Firestore SDK?":"Expected type '"+e.name+"', but was '"+t.constructor.name+"'");return t}var an=function(){function t(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.tn=n,this.filters=r,this.limit=i,this.en=s,this.startAt=o,this.endAt=a,this.nn=null,this.sn=null}return t.prototype.rn=function(e){return new t(e,null,this.tn.slice(),this.filters.slice(),this.limit,this.en,this.startAt,this.endAt)},t.prototype.on=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.tn.length||1===this.tn.length&&this.tn[0].field.O())},t.prototype.hn=function(){return!L(this.limit)&&"F"===this.en},t.prototype.an=function(){return!L(this.limit)&&"L"===this.en},t.prototype.un=function(){return this.tn.length>0?this.tn[0].field:null},t.prototype.cn=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n.ln())return n.field}return null},t.prototype._n=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(t.indexOf(r.op)>=0)return r.op}return null},t}();function un(t,e,n,r,i,s,o,a){return new an(t,e,n,r,i,s,o,a)}function ln(t){return new an(t)}function cn(t){return null!==t.collectionGroup}function hn(t){var e=on(t,an);if(null===e.nn){e.nn=[];var n=e.cn(),r=e.un();if(null!==n&&null===r)n.O()||e.nn.push(new On(n)),e.nn.push(new On(F.L(),"asc"));else{for(var i=!1,s=0,o=e.tn;s<o.length;s++){var a=o[s];e.nn.push(a),a.field.O()&&(i=!0)}if(!i){var u=e.tn.length>0?e.tn[e.tn.length-1].dir:"asc";e.nn.push(new On(F.L(),u))}}}return e.nn}function dn(t){var e=on(t,an);if(!e.sn)if("F"===e.en)e.sn=q(e.path,e.collectionGroup,hn(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=hn(e);r<i.length;r++){var s=i[r];n.push(new On(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Tn(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Tn(e.startAt.position,!e.startAt.before):null;e.sn=q(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.sn}function fn(t,e,n){return new an(t.path,t.collectionGroup,t.tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pn(t,e){return new an(t.path,t.collectionGroup,t.tn.slice(),t.filters.slice(),t.limit,t.en,e,t.endAt)}function mn(t,e){return new an(t.path,t.collectionGroup,t.tn.slice(),t.filters.slice(),t.limit,t.en,t.startAt,e)}function gn(t,e){return H(dn(t),dn(e))&&t.en===e.en}function yn(t){return z(dn(t))+"|lt:"+t.en}function _n(t){return"Query(target="+function(t){var e=t.path.$();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.$()+" "+e.op+" "+Pt(e.value);var e})).join(", ")+"]"),L(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.$()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Dn(t.startAt)),t.endAt&&(e+=", endAt: "+Dn(t.endAt)),"Target("+e+")"}(dn(t))+"; limitType="+t.en+")"}function vn(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.U(t.collectionGroup)&&t.path.D(n):M.W(t.path)?t.path.isEqual(n):t.path.C(n)}(t,e)&&function(t,e){for(var n=0,r=t.tn;n<r.length;n++){var i=r[n];if(!i.field.O()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!In(t.startAt,hn(t),e)||t.endAt&&In(t.endAt,hn(t),e))}(t,e)}function bn(t){return function(e,n){for(var r=!1,i=0,s=hn(t);i<s.length;i++){var o=s[i],a=Nn(o,e,n);if(0!==a)return a;r=r||o.field.O()}return 0}}var wn=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return i.__extends(e,t),e.create=function(t,n,r){if(t.O())return"in"===n?new Cn(t,r):new En(t,n,r);if(Bt(r)){if("=="!==n)throw new k(I.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(qt(r)){if("=="!==n)throw new k(I.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return"array-contains"===n?new Sn(t,r):"in"===n?new An(t,r):"array-contains-any"===n?new xn(t,r):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&It(this.value)===It(e)&&this.fn(Nt(e,this.value))},e.prototype.fn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case">":return t>0;case">=":return t>=0;default:return m()}},e.prototype.ln=function(){return["<","<=",">",">="].indexOf(this.op)>=0},e}((function(){})),En=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=M.B(r.referenceValue),i}return i.__extends(e,t),e.prototype.matches=function(t){var e=M.P(t.key,this.key);return this.fn(e)},e}(wn),Cn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=(n.arrayValue.values||[]).map((function(t){return M.B(t.referenceValue)})),r}return i.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(wn),Sn=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Ut(e)&&Ot(e.arrayValue,this.value)},e}(wn),An=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Ot(this.value.arrayValue,e)},e}(wn),xn=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Ut(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Ot(e.value.arrayValue,t)}))},e}(wn),Tn=function(t,e){this.position=t,this.before=e};function Dn(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Pt(t)})).join(",")}function In(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.O()?M.P(M.B(o.referenceValue),n.key):Nt(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function kn(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!kt(t.position[n],e.position[n]))return!1;return!0}var On=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Nn(t,e,n){var r=t.field.O()?M.P(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Nt(r,i):m()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return m()}}function Rn(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Pn=function(){function t(t,e,n,r){this.batchId=t,this.dn=e,this.baseMutations=n,this.mutations=r}return t.prototype.wn=function(t,e,n){for(var r=n.Tn,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=je(s,e,r[i]))}return e},t.prototype.En=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Ue(i,e,e,this.dn))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var u=a[o];u.key.isEqual(t)&&(e=Ue(u,e,s,this.dn))}return e},t.prototype.In=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.En(r.key,t.get(r.key));i&&(n=n.nt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ht())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&w(this.mutations,t.mutations,(function(t,e){return qe(t,e)}))&&w(this.baseMutations,t.baseMutations,(function(t,e){return qe(t,e)}))},t}(),Vn=function(){function t(t,e,n,r){this.batch=t,this.mn=e,this.Tn=n,this.An=r}return t.from=function(e,n,r){g(e.mutations.length===r.length);for(var i=lt,s=e.mutations,o=0;o<s.length;o++)i=i.nt(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Fn=function(){function t(t){var e=this;this.Rn=null,this.Pn=null,this.result=void 0,this.error=void 0,this.gn=!1,this.Vn=!1,t((function(t){e.gn=!0,e.result=t,e.Rn&&e.Rn(t)}),(function(t){e.gn=!0,e.error=t,e.Pn&&e.Pn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Vn&&m(),this.Vn=!0,this.gn?this.error?this.yn(n,this.error):this.pn(e,this.result):new t((function(t,i){r.Rn=function(n){r.pn(e,n).next(t,i)},r.Pn=function(e){r.yn(n,e).next(t,i)}}))},t.prototype.bn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.vn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.pn=function(e,n){return e?this.vn((function(){return e(n)})):t.resolve(n)},t.prototype.yn=function(e,n){return e?this.vn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Sn=function(e){return new t((function(t,n){var r=0,i=0,s=!1;e.forEach((function(e){++r,e.next((function(){++i,s&&i===r&&t()}),(function(t){return n(t)}))})),s=!0,i===r&&t()}))},t.Dn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Sn(r)},t}(),Mn=function(){function t(){this.Cn=new D((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Fn=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.$n},set:function(t){this.$n=t},enumerable:!1,configurable:!0}),t.prototype.Nn=function(t,e){this.kn(),this.readTime=e,this.Cn.set(t.key,t)},t.prototype.xn=function(t,e){this.kn(),e&&(this.readTime=e),this.Cn.set(t,null)},t.prototype.Mn=function(t,e){this.kn();var n=this.Cn.get(e);return void 0!==n?Fn.resolve(n):this.On(t,e)},t.prototype.getEntries=function(t,e){return this.Ln(t,e)},t.prototype.apply=function(t){return this.kn(),this.Fn=!0,this.qn(t)},t.prototype.kn=function(){},t}(),Ln="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",jn=function(){function t(){this.Bn=[]}return t.prototype.Un=function(t){this.Bn.push(t)},t.prototype.Wn=function(){this.Bn.forEach((function(t){return t()}))},t}(),Un=function(){function t(t,e,n){this.Qn=t,this.jn=e,this.Kn=n}return t.prototype.Gn=function(t,e){var n=this;return this.jn.zn(t,e).next((function(r){return n.Hn(t,e,r)}))},t.prototype.Hn=function(t,e,n){return this.Qn.Mn(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].En(e,t);return t}))},t.prototype.Yn=function(t,e,n){var r=ot();return e.forEach((function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].En(t,e);r=r.nt(t,e)})),r},t.prototype.Jn=function(t,e){var n=this;return this.Qn.getEntries(t,e).next((function(e){return n.Xn(t,e)}))},t.prototype.Xn=function(t,e){var n=this;return this.jn.Zn(t,e).next((function(r){var i=n.Yn(t,e,r),s=st();return i.forEach((function(t,e){e||(e=new rn(t,N.min())),s=s.nt(t,e)})),s}))},t.prototype.ts=function(t,e,n){return function(t){return M.W(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.es(t,e.path):cn(e)?this.ns(t,e,n):this.ss(t,e,n)},t.prototype.es=function(t,e){return this.Gn(t,new M(e)).next((function(t){var e=ut();return t instanceof nn&&(e=e.nt(t.key,t)),e}))},t.prototype.ns=function(t,e,n){var r=this,i=e.collectionGroup,s=ut();return this.Kn.rs(t,i).next((function(o){return Fn.forEach(o,(function(o){var a=e.rn(o.child(i));return r.ss(t,a,n).next((function(t){t.forEach((function(t,e){s=s.nt(t,e)}))}))})).next((function(){return s}))}))},t.prototype.ss=function(t,e,n){var r,i,s=this;return this.Qn.ts(t,e,n).next((function(n){return r=n,s.jn.os(t,e)})).next((function(e){return s.hs(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],l=u.key,c=r.get(l),h=Ue(u,c,c,s.dn);r=h instanceof nn?r.nt(l,h):r.remove(l)}}))})).next((function(){return r.forEach((function(t,n){vn(e,n)||(r=r.remove(t))})),r}))},t.prototype.hs=function(t,e,n){for(var r=ht(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof $e&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.Qn.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof nn&&(l=l.nt(t,e))})),l}))},t}(),Bn=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.as=n,this.us=r}return t.cs=function(e,n){for(var r=ht(),i=ht(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),qn=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ls=function(t){return n._s(t)},this.fs=function(t){return e.ds(t)})}return t.prototype._s=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.fs&&this.fs(t),t},t}();qn.ws=-1;var zn=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Hn=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Ts=t,this.Es=e,this.Is=n,this.ms=r,this.As=i,this.Rs=0,this.Ps=null,this.gs=Date.now(),this.reset()}return t.prototype.reset=function(){this.Rs=0},t.prototype.Vs=function(){this.Rs=this.As},t.prototype.ys=function(t){var e=this;this.cancel();var n=Math.floor(this.Rs+this.ps()),r=Math.max(0,Date.now()-this.gs),i=Math.max(0,n-r);i>0&&d("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Rs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ps=this.Ts.bs(this.Es,i,(function(){return e.gs=Date.now(),t()})),this.Rs*=this.ms,this.Rs<this.Is&&(this.Rs=this.Is),this.Rs>this.As&&(this.Rs=this.As)},t.prototype.vs=function(){null!==this.Ps&&(this.Ps.Ss(),this.Ps=null)},t.prototype.cancel=function(){null!==this.Ps&&(this.Ps.cancel(),this.Ps=null)},t.prototype.ps=function(){return(Math.random()-.5)*this.Rs},t}();function $n(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Wn(e)),e=Gn(t.get(n),e);return Wn(e)}function Gn(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Wn(t){return t+"\x01\x01"}function Yn(t){var e=t.length;if(g(e>=2),2===e)return g("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),P.k();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&m(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:m()}s=o+2}return new P(r)}var Kn=function(){function t(){this.Ds=new Qn}return t.prototype.Cs=function(t,e){return this.Ds.add(e),Fn.resolve()},t.prototype.rs=function(t,e){return Fn.resolve(this.Ds.getEntries(e))},t}(),Qn=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.S(),n=t.p(),r=this.index[e]||new nt(P.P),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.S(),n=t.p(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new nt(P.P)).F()},t}(),Zn=function(){function t(){this.Fs=new Qn}return t.prototype.Cs=function(t,e){var n=this;if(!this.Fs.has(e)){var r=e.S(),i=e.p();t.Un((function(){n.Fs.add(e)}));var s={collectionId:r,parent:$n(i)};return Xn(t).put(s)}return Fn.resolve()},t.prototype.rs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[E(e),""],!1,!0);return Xn(t).$s(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Yn(s.parent))}return n}))},t}();function Xn(t){return wr.Ns(t,Wr.store)}var Jn=function(t){this.ks=t};function tr(t,e){if(e.document)return function(t,e,n){var r=re(t,e.name),i=Jt(e.updateTime),s=new Xe({mapValue:{fields:e.fields}});return new nn(r,i,s,{hasCommittedMutations:!!n})}(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=M.j(e.noDocument.path),r=sr(e.noDocument.readTime);return new rn(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=M.j(e.unknownDocument.path),s=sr(e.unknownDocument.version);return new sn(i,s)}return m()}function er(t,e,n){var r=nr(n),i=e.key.path.p().F();if(e instanceof nn){var s=function(t,e){return{name:ne(t,e.key),fields:e.Ze().mapValue.fields,updateTime:Qt(t,e.version.A())}}(t.ks,e);return new qr(null,null,s,e.hasCommittedMutations,r,i)}if(e instanceof rn){var o=e.key.path.F(),a=ir(e.version),u=e.hasCommittedMutations;return new qr(null,new Ur(o,a),null,u,r,i)}if(e instanceof sn){var l=e.key.path.F(),c=ir(e.version);return new qr(new Br(l,c),null,null,!0,r,i)}return m()}function nr(t){var e=t.A();return[e.seconds,e.nanoseconds]}function rr(t){var e=new O(t[0],t[1]);return N.I(e)}function ir(t){var e=t.A();return new Vr(e.seconds,e.nanoseconds)}function sr(t){var e=new O(t.seconds,t.nanoseconds);return N.I(e)}function or(t,e){var n=(e.baseMutations||[]).map((function(e){return ce(t.ks,e)})),r=e.mutations.map((function(e){return ce(t.ks,e)})),i=O.fromMillis(e.localWriteTimeMs);return new Pn(e.batchId,i,n,r)}function ar(t){var e,n,r=sr(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?sr(t.lastLimboFreeSnapshotVersion):N.min();return void 0!==t.query.documents?(g(1===(n=t.query).documents.length),e=dn(ln(se(n.documents[0])))):e=function(t){var e=se(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){g(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[_e(e)]:void 0!==e.fieldFilter?[ye(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):m():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return new On(ge((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var u=null;n.limit&&(u=function(t){var e;return L(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=pe(n.startAt));var c=null;return n.endAt&&(c=pe(n.endAt)),dn(un(e,i,a,o,u,"F",l,c))}(t.query),new K(e,t.targetId,0,t.lastListenSequenceNumber,r,i,G.fromBase64String(t.resumeToken))}function ur(t,e){var n,r=ir(e.X),i=ir(e.lastLimboFreeSnapshotVersion);n=$(e.target)?he(t.ks,e.target):de(t.ks,e.target);var s=e.resumeToken.toBase64();return new Hr(e.targetId,z(e.target),r,s,e.sequenceNumber,i,n)}var lr=function(){function t(t,e){this.serializer=t,this.Kn=e}return t.prototype.Nn=function(t,e,n){return hr(t).put(dr(e),n)},t.prototype.xn=function(t,e){var n=hr(t),r=dr(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.xs(t,r)}))},t.prototype.Mn=function(t,e){var n=this;return hr(t).get(dr(e)).next((function(t){return n.Ms(t)}))},t.prototype.Os=function(t,e){var n=this;return hr(t).get(dr(e)).next((function(t){var e=n.Ms(t);return e?{Ls:e,size:fr(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=ot();return this.qs(t,e,(function(t,e){var i=n.Ms(e);r=r.nt(t,i)})).next((function(){return r}))},t.prototype.Bs=function(t,e){var n=this,r=ot(),i=new J(M.P);return this.qs(t,e,(function(t,e){var s=n.Ms(e);s?(r=r.nt(t,s),i=i.nt(t,fr(e))):(r=r.nt(t,null),i=i.nt(t,0))})).next((function(){return{Us:r,Ws:i}}))},t.prototype.qs=function(t,e,n){if(e._())return Fn.resolve();var r=IDBKeyRange.bound(e.first().path.F(),e.last().path.F()),i=e.at(),s=i.dt();return hr(t).Qs({range:r},(function(t,e,r){for(var o=M.j(t);s&&M.P(s,o)<0;)n(s,null),s=i.dt();s&&s.isEqual(o)&&(n(s,e),s=i.wt()?i.dt():null),s?r.js(s.path.F()):r.done()})).next((function(){for(;s;)n(s,null),s=i.wt()?i.dt():null}))},t.prototype.ts=function(t,e,n){var r=this,i=ut(),s=e.path.length+1,o={};if(n.isEqual(N.min())){var a=e.path.F();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.F(),l=nr(n);o.range=IDBKeyRange.lowerBound([u,l],!0),o.index=qr.collectionReadTimeIndex}return hr(t).Qs(o,(function(t,n,o){if(t.length===s){var a=tr(r.serializer,n);e.path.D(a.key.path)?a instanceof nn&&vn(e,a)&&(i=i.nt(a.key,a)):o.done()}})).next((function(){return i}))},t.prototype.Ks=function(t,e){var n=this,r=st(),i=nr(e),s=hr(t),o=IDBKeyRange.lowerBound(i,!0);return s.Qs({index:qr.readTimeIndex,range:o},(function(t,e){var s=tr(n.serializer,e);r=r.nt(s.key,s),i=e.readTime})).next((function(){return{Gs:r,readTime:rr(i)}}))},t.prototype.zs=function(t){var e=hr(t),n=N.min();return e.Qs({index:qr.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=rr(e.readTime)),r.done()})).next((function(){return n}))},t.prototype.Hs=function(e){return new t.Ys(this,!!e&&e.Js)},t.prototype.Xs=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return cr(t).get(zr.key).next((function(t){return g(!!t),t}))},t.prototype.xs=function(t,e){return cr(t).put(zr.key,e)},t.prototype.Ms=function(t){if(t){var e=tr(this.serializer,t);return e instanceof rn&&e.version.isEqual(N.min())?null:e}return null},t}();function cr(t){return wr.Ns(t,zr.store)}function hr(t){return wr.Ns(t,qr.store)}function dr(t){return t.path.F()}function fr(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw m();e=t.noDocument}return JSON.stringify(e).length}lr.Ys=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Zs=e,r.Js=n,r.ti=new D((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return i.__extends(e,t),e.prototype.qn=function(t){var e=this,n=[],r=0,i=new nt((function(t,e){return b(t.$(),e.$())}));return this.Cn.forEach((function(s,o){var a=e.ti.get(s);if(o){var u=er(e.Zs.serializer,o,e.readTime);i=i.add(s.path.p());var l=fr(u);r+=l-a,n.push(e.Zs.Nn(t,s,u))}else if(r-=a,e.Js){var c=er(e.Zs.serializer,new rn(s,N.min()),e.readTime);n.push(e.Zs.Nn(t,s,c))}else n.push(e.Zs.xn(t,s))})),i.forEach((function(r){n.push(e.Zs.Kn.Cs(t,r))})),n.push(this.Zs.updateMetadata(t,r)),Fn.Sn(n)},e.prototype.On=function(t,e){var n=this;return this.Zs.Os(t,e).next((function(t){return null===t?(n.ti.set(e,0),null):(n.ti.set(e,t.size),t.Ls)}))},e.prototype.Ln=function(t,e){var n=this;return this.Zs.Bs(t,e).next((function(t){var e=t.Us;return t.Ws.forEach((function(t,e){n.ti.set(t,e)})),e}))},e}(Mn);var pr=function(){function t(t){this.ei=t}return t.prototype.next=function(){return this.ei+=2,this.ei},t.ni=function(){return new t(0)},t.si=function(){return new t(-1)},t}(),mr=function(){function t(t,e){this.ii=t,this.serializer=e}return t.prototype.ri=function(t){var e=this;return this.oi(t).next((function(n){var r=new pr(n.highestTargetId);return n.highestTargetId=r.next(),e.hi(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.ai=function(t){return this.oi(t).next((function(t){return N.I(new O(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.ui=function(t){return this.oi(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.ci=function(t,e,n){var r=this;return this.oi(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.A()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.hi(t,i)}))},t.prototype.li=function(t,e){var n=this;return this._i(t,e).next((function(){return n.oi(t).next((function(r){return r.targetCount+=1,n.fi(e,r),n.hi(t,r)}))}))},t.prototype.di=function(t,e){return this._i(t,e)},t.prototype.wi=function(t,e){var n=this;return this.Ti(t,e.targetId).next((function(){return gr(t).delete(e.targetId)})).next((function(){return n.oi(t)})).next((function(e){return g(e.targetCount>0),e.targetCount-=1,n.hi(t,e)}))},t.prototype.Ei=function(t,e,n){var r=this,i=0,s=[];return gr(t).Qs((function(o,a){var u=ar(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.wi(t,u)))})).next((function(){return Fn.Sn(s)})).next((function(){return i}))},t.prototype.pe=function(t,e){return gr(t).Qs((function(t,n){var r=ar(n);e(r)}))},t.prototype.oi=function(t){return yr(t).get(Gr.key).next((function(t){return g(null!==t),t}))},t.prototype.hi=function(t,e){return yr(t).put(Gr.key,e)},t.prototype._i=function(t,e){return gr(t).put(ur(this.serializer,e))},t.prototype.fi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Ii=function(t){return this.oi(t).next((function(t){return t.targetCount}))},t.prototype.mi=function(t,e){var n=z(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return gr(t).Qs({range:r,index:Hr.queryTargetsIndexName},(function(t,n,r){var s=ar(n);H(e,s.target)&&(i=s,r.done())})).next((function(){return i}))},t.prototype.Ai=function(t,e,n){var r=this,i=[],s=_r(t);return e.forEach((function(e){var o=$n(e.path);i.push(s.put(new $r(n,o))),i.push(r.ii.Ri(t,n,e))})),Fn.Sn(i)},t.prototype.Pi=function(t,e,n){var r=this,i=_r(t);return Fn.forEach(e,(function(e){var s=$n(e.path);return Fn.Sn([i.delete([n,s]),r.ii.gi(t,n,e)])}))},t.prototype.Ti=function(t,e){var n=_r(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Vi=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=_r(t),i=ht();return r.Qs({range:n,yi:!0},(function(t,e,n){var r=Yn(t[1]),s=new M(r);i=i.add(s)})).next((function(){return i}))},t.prototype.pi=function(t,e){var n=$n(e.path),r=IDBKeyRange.bound([n],[E(n)],!1,!0),i=0;return _r(t).Qs({index:$r.documentTargetsIndex,yi:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Me=function(t,e){return gr(t).get(e).next((function(t){return t?ar(t):null}))},t}();function gr(t){return wr.Ns(t,Hr.store)}function yr(t){return wr.Ns(t,Gr.store)}function _r(t){return wr.Ns(t,$r.store)}var vr="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",br=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bi=e,r.vi=n,r}return i.__extends(e,t),e}(jn),wr=function(){function t(e,n,r,i,s,o,a,u,l,c){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Ts=s,this.window=o,this.document=a,this.Si=l,this.Di=c,this.Ci=null,this.Fi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.$i=null,this.inForeground=!1,this.Ni=null,this.ki=null,this.xi=Number.NEGATIVE_INFINITY,this.Mi=function(t){return Promise.resolve()},!t.Oi())throw new k(I.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.ii=new Sr(this,i),this.Li=n+"main",this.serializer=new Jn(u),this.qi=new mr(this.ii,this.serializer),this.Kn=new Zn,this.Qn=new lr(this.serializer,this.Kn),this.window&&this.window.localStorage?this.Bi=this.window.localStorage:(this.Bi=null,!1===c&&f("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ns=function(t,e){if(t instanceof br)return Zr.Ns(t.bi,e);throw m()},t.prototype.start=function(){var t=this;return Zr.Ui(this.Li,Rr,new Pr(this.serializer)).then((function(e){return t.Wi=e,t.Qi()})).then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new k(I.FAILED_PRECONDITION,vr);return t.ji(),t.Ki(),t.Gi(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qi.ui(e)}))})).then((function(e){t.Ci=new qn(e,t.Si)})).then((function(){t.Fi=!0})).catch((function(e){return t.Wi&&t.Wi.close(),Promise.reject(e)}))},t.prototype.zi=function(t){var e=this;return this.Mi=function(n){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.Hi?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Yi=function(t){var e=this;this.Wi.Ji((function(n){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Xi=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Ts.Zi((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Hi?[4,this.Qi()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Qi=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Cr(e).put(new Kr(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.tr(e).next((function(e){e||(t.isPrimary=!1,t.Ts.er((function(){return t.Mi(!1)})))}))})).next((function(){return t.nr(e)})).next((function(n){return t.isPrimary&&!n?t.sr(e).next((function(){return!1})):!!n&&t.ir(e).next((function(){return!0}))}))})).catch((function(e){if(ti(e))return d("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return d("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Ts.er((function(){return t.Mi(e)})),t.isPrimary=e}))},t.prototype.tr=function(t){var e=this;return Er(t).get(Fr.key).next((function(t){return Fn.resolve(e.rr(t))}))},t.prototype.or=function(t){return Cr(t).delete(this.clientId)},t.prototype.hr=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,s=this;return i.__generator(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.ar(this.xi,18e5)?[3,2]:(this.xi=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Ns(e,Kr.store);return n.$s().next((function(t){var e=s.ur(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return Fn.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=i.sent(),this.Bi)for(n=0,r=e;n<r.length;n++)this.Bi.removeItem(this.cr(r[n].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Gi=function(){var t=this;this.ki=this.Ts.bs("client_metadata_refresh",4e3,(function(){return t.Qi().then((function(){return t.hr()})).then((function(){return t.Gi()}))}))},t.prototype.rr=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.nr=function(t){var e=this;return this.Di?Fn.resolve(!0):Er(t).get(Fr.key).next((function(n){if(null!==n&&e.ar(n.leaseTimestampMs,5e3)&&!e.lr(n.ownerId)){if(e.rr(n)&&e.networkEnabled)return!0;if(!e.rr(n)){if(!n.allowTabSynchronization)throw new k(I.FAILED_PRECONDITION,vr);return!1}}return!(!e.networkEnabled||!e.inForeground)||Cr(t).$s().next((function(t){return void 0===e.ur(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&d("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype._r=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(e){switch(e.label){case 0:return this.Fi=!1,this.dr(),this.ki&&(this.ki.cancel(),this.ki=null),this.wr(),this.Tr(),[4,this.runTransaction("shutdown","readwrite",(function(e){return t.sr(e).next((function(){return t.or(e)}))})).catch((function(t){d("IndexedDbPersistence","Proceeding with shutdown despite failure: ",t)}))];case 1:return e.sent(),this.Wi.close(),this.Er(),[2]}}))}))},t.prototype.ur=function(t,e){var n=this;return t.filter((function(t){return n.ar(t.updateTimeMs,e)&&!n.lr(t.clientId)}))},t.prototype.Ir=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Cr(e).$s().next((function(e){return t.ur(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Hi",{get:function(){return this.Fi},enumerable:!1,configurable:!0}),t.prototype.mr=function(t){return Tr.Ar(t,this.serializer,this.Kn,this.ii)},t.prototype.Rr=function(){return this.qi},t.prototype.Pr=function(){return this.Qn},t.prototype.gr=function(){return this.Kn},t.prototype.runTransaction=function(t,e,n){var r,i=this;return d("IndexedDbPersistence","Starting transaction:",t),this.Wi.runTransaction("readonly"===e?"readonly":"readwrite",Qr,(function(s){return r=new br(s,i.Ci?i.Ci.next():qn.ws),"readwrite-primary"===e?i.tr(r).next((function(t){return!!t||i.nr(r)})).next((function(e){if(!e)throw f("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Ts.er((function(){return i.Mi(!1)})),new k(I.FAILED_PRECONDITION,Ln);return n(r)})).next((function(t){return i.ir(r).next((function(){return t}))})):i.Vr(r).next((function(){return n(r)}))})).then((function(t){return r.Wn(),t}))},t.prototype.Vr=function(t){var e=this;return Er(t).get(Fr.key).next((function(t){if(null!==t&&e.ar(t.leaseTimestampMs,5e3)&&!e.lr(t.ownerId)&&!e.rr(t)&&!(e.Di||e.allowTabSynchronization&&t.allowTabSynchronization))throw new k(I.FAILED_PRECONDITION,vr)}))},t.prototype.ir=function(t){var e=new Fr(this.clientId,this.allowTabSynchronization,Date.now());return Er(t).put(Fr.key,e)},t.Oi=function(){return Zr.Oi()},t.prototype.sr=function(t){var e=this,n=Er(t);return n.get(Fr.key).next((function(t){return e.rr(t)?(d("IndexedDbPersistence","Releasing primary lease."),n.delete(Fr.key)):Fn.resolve()}))},t.prototype.ar=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(f("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.ji=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ni=function(){t.Ts.Zi((function(){return t.inForeground="visible"===t.document.visibilityState,t.Qi()}))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground="visible"===this.document.visibilityState)},t.prototype.wr=function(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)},t.prototype.Ki=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.$i=function(){e.dr(),e.Ts.Zi((function(){return e._r()}))},this.window.addEventListener("unload",this.$i))},t.prototype.Tr=function(){this.$i&&(this.window.removeEventListener("unload",this.$i),this.$i=null)},t.prototype.lr=function(t){var e;try{var n=null!==(null===(e=this.Bi)||void 0===e?void 0:e.getItem(this.cr(t)));return d("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return f("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.dr=function(){if(this.Bi)try{this.Bi.setItem(this.cr(this.clientId),String(Date.now()))}catch(t){f("Failed to set zombie client id.",t)}},t.prototype.Er=function(){if(this.Bi)try{this.Bi.removeItem(this.cr(this.clientId))}catch(t){}},t.prototype.cr=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Er(t){return wr.Ns(t,Fr.store)}function Cr(t){return wr.Ns(t,Kr.store)}var Sr=function(){function t(t,e){this.db=t,this.yr=new mi(this,e)}return t.prototype.pr=function(t){var e=this.br(t);return this.db.Rr().Ii(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.br=function(t){var e=0;return this.vr(t,(function(t){e++})).next((function(){return e}))},t.prototype.pe=function(t,e){return this.db.Rr().pe(t,e)},t.prototype.vr=function(t,e){return this.Sr(t,(function(t,n){return e(n)}))},t.prototype.Ri=function(t,e,n){return Ar(t,n)},t.prototype.gi=function(t,e,n){return Ar(t,n)},t.prototype.Ei=function(t,e,n){return this.db.Rr().Ei(t,e,n)},t.prototype.Dr=function(t,e){return Ar(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return Nr(t).Fr((function(r){return Dr(t,r,e).next((function(t){return t&&(n=!0),Fn.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.$r=function(t,e){var n=this,r=this.db.Pr().Hs(),i=[],s=0;return this.Sr(t,(function(o,a){if(a<=e){var u=n.Cr(t,o).next((function(e){if(!e)return s++,r.Mn(t,o).next((function(){return r.xn(o),_r(t).delete([0,$n(o.path)])}))}));i.push(u)}})).next((function(){return Fn.Sn(i)})).next((function(){return r.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.Z(t.vi);return this.db.Rr().di(t,n)},t.prototype.Nr=function(t,e){return Ar(t,e)},t.prototype.Sr=function(t,e){var n,r=_r(t),i=qn.ws;return r.Qs({index:$r.documentTargetsIndex},(function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==qn.ws&&e(new M(Yn(n)),i),i=o,n=s):i=qn.ws})).next((function(){i!==qn.ws&&e(new M(Yn(n)),i)}))},t.prototype.kr=function(t){return this.db.Pr().Xs(t)},t}();function Ar(t,e){return _r(t).put(function(t,e){return new $r(0,$n(t.path),e)}(e,t.vi))}function xr(t,e){var n=t.projectId;return t.i||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Tr=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Kn=n,this.ii=r,this.xr={}}return t.Ar=function(e,n,r,i){return g(""!==e.uid),new t(e.Mr()?e.uid:"",n,r,i)},t.prototype.Or=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kr(t).Qs({index:Lr.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Lr=function(t,e,n,r){var i=this,s=Or(t),o=kr(t);return o.add({}).next((function(a){g("number"==typeof a);for(var u=new Pn(a,e,n,r),l=function(t,e,n){var r=n.baseMutations.map((function(e){return le(t.ks,e)})),i=n.mutations.map((function(e){return le(t.ks,e)}));return new Lr(e,n.batchId,n.dn.toMillis(),r,i)}(i.serializer,i.userId,u),c=[],h=new nt((function(t,e){return b(t.$(),e.$())})),d=0,f=r;d<f.length;d++){var p=f[d],m=jr.key(i.userId,p.key.path,a);h=h.add(p.key.path.p()),c.push(o.put(l)),c.push(s.put(m,jr.PLACEHOLDER))}return h.forEach((function(e){c.push(i.Kn.Cs(t,e))})),t.Un((function(){i.xr[a]=u.keys()})),Fn.Sn(c).next((function(){return u}))}))},t.prototype.qr=function(t,e){var n=this;return kr(t).get(e).next((function(t){return t?(g(t.userId===n.userId),or(n.serializer,t)):null}))},t.prototype.Br=function(t,e){var n=this;return this.xr[e]?Fn.resolve(this.xr[e]):this.qr(t,e).next((function(t){if(t){var r=t.keys();return n.xr[e]=r,r}return null}))},t.prototype.Ur=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return kr(t).Qs({index:Lr.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(g(e.batchId>=r),s=or(n.serializer,e)),i.done()})).next((function(){return s}))},t.prototype.Wr=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return kr(t).Qs({index:Lr.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Qr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kr(t).$s(Lr.userMutationsIndex,n).next((function(t){return t.map((function(t){return or(e.serializer,t)}))}))},t.prototype.zn=function(t,e){var n=this,r=jr.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Or(t).Qs({range:i},(function(r,i,o){var a=r[0],u=r[2],l=Yn(r[1]);if(a===n.userId&&e.path.isEqual(l))return kr(t).get(u).next((function(t){if(!t)throw m();g(t.userId===n.userId),s.push(or(n.serializer,t))}));o.done()})).next((function(){return s}))},t.prototype.Zn=function(t,e){var n=this,r=new nt(b),i=[];return e.forEach((function(e){var s=jr.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Or(t).Qs({range:o},(function(t,i,s){var o=t[0],a=t[2],u=Yn(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()}));i.push(a)})),Fn.Sn(i).next((function(){return n.jr(t,r)}))},t.prototype.os=function(t,e){var n=this,r=e.path,i=r.length+1,s=jr.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new nt(b);return Or(t).Qs({range:o},(function(t,e,s){var o=t[0],u=t[2],l=Yn(t[1]);o===n.userId&&r.D(l)?l.length===i&&(a=a.add(u)):s.done()})).next((function(){return n.jr(t,a)}))},t.prototype.jr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(kr(t).get(e).next((function(t){if(null===t)throw m();g(t.userId===n.userId),r.push(or(n.serializer,t))})))})),Fn.Sn(i).next((function(){return r}))},t.prototype.Kr=function(t,e){var n=this;return Ir(t.bi,this.userId,e).next((function(r){return t.Un((function(){n.Gr(e.batchId)})),Fn.forEach(r,(function(e){return n.ii.Dr(t,e)}))}))},t.prototype.Gr=function(t){delete this.xr[t]},t.prototype.zr=function(t){var e=this;return this.Or(t).next((function(n){if(!n)return Fn.resolve();var r=IDBKeyRange.lowerBound(jr.prefixForUser(e.userId)),i=[];return Or(t).Qs({range:r},(function(t,n,r){if(t[0]===e.userId){var s=Yn(t[1]);i.push(s)}else r.done()})).next((function(){g(0===i.length)}))}))},t.prototype.pi=function(t,e){return Dr(t,this.userId,e)},t.prototype.Hr=function(t){var e=this;return Nr(t).get(this.userId).next((function(t){return t||new Mr(e.userId,-1,"")}))},t}();function Dr(t,e,n){var r=jr.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Or(t).Qs({range:s,yi:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()})).next((function(){return o}))}function Ir(t,e,n){var r=t.store(Lr.store),i=t.store(jr.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.Qs({range:o},(function(t,e,n){return a++,n.delete()}));s.push(u.next((function(){g(1===a)})));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],f=jr.key(e,d.key.path,n.batchId);s.push(i.delete(f)),l.push(d.key)}return Fn.Sn(s).next((function(){return l}))}function kr(t){return wr.Ns(t,Lr.store)}function Or(t){return wr.Ns(t,jr.store)}function Nr(t){return wr.Ns(t,Mr.store)}var Rr=10,Pr=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;g(n<r&&n>=0&&r<=Rr);var s=new ei(e);n<1&&r>=1&&(function(t){t.createObjectStore(Fr.store)}(t),function(t){t.createObjectStore(Mr.store,{keyPath:Mr.keyPath}),t.createObjectStore(Lr.store,{keyPath:Lr.keyPath,autoIncrement:!0}).createIndex(Lr.userMutationsIndex,Lr.userMutationsKeyPath,{unique:!0}),t.createObjectStore(jr.store)}(t),Yr(t),function(t){t.createObjectStore(qr.store)}(t));var o=Fn.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore($r.store),t.deleteObjectStore(Hr.store),t.deleteObjectStore(Gr.store)}(t),Yr(t)),o=o.next((function(){return function(t){var e=t.store(Gr.store),n=new Gr(0,0,N.min().A(),0);return e.put(Gr.key,n)}(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(Lr.store).$s().next((function(n){t.deleteObjectStore(Lr.store),t.createObjectStore(Lr.store,{keyPath:Lr.keyPath,autoIncrement:!0}).createIndex(Lr.userMutationsIndex,Lr.userMutationsKeyPath,{unique:!0});var r=e.store(Lr.store),i=n.map((function(t){return r.put(t)}));return Fn.Sn(i)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(Kr.store,{keyPath:Kr.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.removeAcknowledgedMutations(s)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(zr.store)}(t),i.addDocumentGlobal(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.ensureSequenceNumbers(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.createCollectionParentIndex(t,s)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(qr.store);e.createIndex(qr.readTimeIndex,qr.readTimeIndexPath,{unique:!1}),e.createIndex(qr.collectionReadTimeIndex,qr.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.rewriteCanonicalIds(s)}))),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(qr.store).Qs((function(t,n){e+=fr(n)})).next((function(){var n=new zr(e);return t.store(zr.store).put(zr.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Mr.store),r=t.store(Lr.store);return n.$s().next((function(n){return Fn.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.$s(Lr.userMutationsIndex,i).next((function(r){return Fn.forEach(r,(function(r){g(r.userId===n.userId);var i=or(e.serializer,r);return Ir(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store($r.store),n=t.store(qr.store);return t.store(Gr.store).get(Gr.key).next((function(t){var r=[];return n.Qs((function(n,i){var s=new P(n),o=function(t){return[0,$n(t)]}(s);r.push(e.get(o).next((function(n){return n?Fn.resolve():function(n){return e.put(new $r(0,$n(n),t.highestListenSequenceNumber))}(s)})))})).next((function(){return Fn.Sn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Wr.store,{keyPath:Wr.keyPath});var n=e.store(Wr.store),r=new Qn,i=function(t){if(r.add(t)){var e=t.S(),i=t.p();return n.put({collectionId:e,parent:$n(i)})}};return e.store(qr.store).Qs({yi:!0},(function(t,e){var n=new P(t);return i(n.p())})).next((function(){return e.store(jr.store).Qs({yi:!0},(function(t,e){var n=Yn(t[1]);return i(n.p())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Hr.store);return n.Qs((function(t,r){var i=ar(r),s=ur(e.serializer,i);return n.put(s)}))},t}(),Vr=function(t,e){this.seconds=t,this.nanoseconds=e},Fr=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Fr.store="owner",Fr.key="owner";var Mr=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Mr.store="mutationQueues",Mr.keyPath="userId";var Lr=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Lr.store="mutations",Lr.keyPath="batchId",Lr.userMutationsIndex="userMutationsIndex",Lr.userMutationsKeyPath=["userId","batchId"];var jr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,$n(e)]},t.key=function(t,e,n){return[t,$n(e),n]},t}();jr.store="documentMutations",jr.PLACEHOLDER=new jr;var Ur=function(t,e){this.path=t,this.readTime=e},Br=function(t,e){this.path=t,this.version=e},qr=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};qr.store="remoteDocuments",qr.readTimeIndex="readTimeIndex",qr.readTimeIndexPath="readTime",qr.collectionReadTimeIndex="collectionReadTimeIndex",qr.collectionReadTimeIndexPath=["parentPath","readTime"];var zr=function(t){this.byteSize=t};zr.store="remoteDocumentGlobal",zr.key="remoteDocumentGlobalKey";var Hr=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Hr.store="targets",Hr.keyPath="targetId",Hr.queryTargetsIndexName="queryTargetsIndex",Hr.queryTargetsKeyPath=["canonicalId","targetId"];var $r=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};$r.store="targetDocuments",$r.keyPath=["targetId","path"],$r.documentTargetsIndex="documentTargetsIndex",$r.documentTargetsKeyPath=["path","targetId"];var Gr=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Gr.key="targetGlobalKey",Gr.store="targetGlobal";var Wr=function(t,e){this.collectionId=t,this.parent=e};function Yr(t){t.createObjectStore($r.store,{keyPath:$r.keyPath}).createIndex($r.documentTargetsIndex,$r.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Hr.store,{keyPath:Hr.keyPath}).createIndex(Hr.queryTargetsIndexName,Hr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Gr.store)}Wr.store="collectionParents",Wr.keyPath=["collectionId","parent"];var Kr=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Kr.store="clientMetadata",Kr.keyPath="clientId";var Qr=i.__spreadArrays(i.__spreadArrays(i.__spreadArrays([Mr.store,Lr.store,jr.store,qr.store,Hr.store,Fr.store,Gr.store,$r.store],[Kr.store]),[zr.store]),[Wr.store]),Zr=function(){function t(e){this.db=e,12.2===t.Yr(a.getUA())&&f("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.Ui=function(e,n,r){return d("SimpleDb","Opening database:",e),new Fn((function(i,s){var o=indexedDB.open(e,n);o.onsuccess=function(e){i(new t(e.target.result))},o.onblocked=function(){s(new k(I.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(t){var e=t.target.error;s("VersionError"===e.name?new k(I.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},o.onupgradeneeded=function(t){d("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion),r.createOrUpgrade(t.target.result,o.transaction,t.oldVersion,Rr).next((function(){d("SimpleDb","Database upgrade to version "+Rr+" complete")}))}})).bn()},t.delete=function(t){return d("SimpleDb","Removing database:",t),ri(window.indexedDB.deleteDatabase(t)).bn()},t.Oi=function(){if("undefined"==typeof indexedDB)return!1;if(t.Jr())return!0;var e=a.getUA(),n=t.Yr(e),r=0<n&&n<10,i=t.Xr(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Jr=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Zr)},t.Ns=function(t,e){return t.store(e)},t.Yr=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Xr=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Ji=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,s,o,a,u;return i.__generator(this,(function(l){switch(l.label){case 0:r="readonly"===t,s=0,o=function(){var t,o,u,l,c;return i.__generator(this,(function(i){switch(i.label){case 0:++s,t=ei.open(a.db,r?"readonly":"readwrite",e),i.label=1;case 1:return i.trys.push([1,3,,4]),o=n(t).catch((function(e){return t.abort(e),Fn.reject(e)})).bn(),u={},o.catch((function(){})),[4,t.to];case 2:return[2,(u.value=(i.sent(),o),u)];case 3:return d("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(l=i.sent()).message,c="FirebaseError"!==l.name&&s<3),c?[3,4]:[2,{value:Promise.reject(l)}];case 4:return[2]}}))},a=this,l.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=l.sent()))return[2,u.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),Xr=function(){function t(t){this.eo=t,this.no=!1,this.so=null}return Object.defineProperty(t.prototype,"gn",{get:function(){return this.no},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"io",{get:function(){return this.so},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.eo=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.no=!0},t.prototype.js=function(t){this.so=t},t.prototype.delete=function(){return ri(this.eo.delete())},t}(),Jr=function(t){function e(e){var n=this;return(n=t.call(this,I.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return i.__extends(e,t),e}(k);function ti(t){return"IndexedDbTransactionError"===t.name}var ei=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.ro=new zn,this.transaction.oncomplete=function(){e.ro.resolve()},this.transaction.onabort=function(){t.error?e.ro.reject(new Jr(t.error)):e.ro.resolve()},this.transaction.onerror=function(t){var n=si(t.target.error);e.ro.reject(new Jr(n))}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"to",{get:function(){return this.ro.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ro.reject(t),this.aborted||(d("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ni(e)},t}(),ni=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(d("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(d("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ri(n)},t.prototype.add=function(t){return d("SimpleDb","ADD",this.store.name,t,t),ri(this.store.add(t))},t.prototype.get=function(t){var e=this;return ri(this.store.get(t)).next((function(n){return void 0===n&&(n=null),d("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return d("SimpleDb","DELETE",this.store.name,t),ri(this.store.delete(t))},t.prototype.count=function(){return d("SimpleDb","COUNT",this.store.name),ri(this.store.count())},t.prototype.$s=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.oo(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.ho=function(t,e){d("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.yi=!1;var r=this.cursor(n);return this.oo(r,(function(t,e,n){return n.delete()}))},t.prototype.Qs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.oo(r,e)},t.prototype.Fr=function(t){var e=this.cursor({});return new Fn((function(n,r){e.onerror=function(t){var e=si(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.oo=function(t,e){var n=[];return new Fn((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Xr(i),o=e(i.primaryKey,i.value,s);if(o instanceof Fn){var a=o.catch((function(t){return s.done(),Fn.reject(t)}));n.push(a)}s.gn?r():null===s.io?i.continue():i.continue(s.io)}else r()}})).next((function(){return Fn.Sn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.yi?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ri(t){return new Fn((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=si(t.target.error);n(e)}}))}var ii=!1;function si(t){var e=Zr.Yr(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new k("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ii||(ii=!0,setTimeout((function(){throw r}),0)),r}}return t}function oi(){return"undefined"!=typeof window?window:null}var ai=function(){function t(t,e,n,r,i){this.ao=t,this.Es=e,this.uo=n,this.op=r,this.co=i,this.lo=new zn,this.then=this.lo.promise.then.bind(this.lo.promise),this.lo.promise.catch((function(t){}))}return t._o=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.fo=setTimeout((function(){return e.do()}),t)},t.prototype.Ss=function(){return this.do()},t.prototype.cancel=function(t){null!==this.fo&&(this.clearTimeout(),this.lo.reject(new k(I.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.do=function(){var t=this;this.ao.Zi((function(){return null!==t.fo?(t.clearTimeout(),t.op().then((function(e){return t.lo.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.fo&&(this.co(this),clearTimeout(this.fo),this.fo=null)},t}(),ui=function(){function t(){var t=this;this.wo=Promise.resolve(),this.To=[],this.Eo=!1,this.Io=[],this.mo=null,this.Ao=!1,this.Ro=[],this.Po=new Hn(this,"async_queue_retry"),this.Vo=function(){return t.Po.vs()};var e=oi();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vo)}return Object.defineProperty(t.prototype,"yo",{get:function(){return this.Eo},enumerable:!1,configurable:!0}),t.prototype.Zi=function(t){this.enqueue(t)},t.prototype.po=function(t){this.bo(),this.vo(t)},t.prototype.So=function(t){return this.bo(),this.vo(t)},t.prototype.Do=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:return this.bo(),this.Eo?[3,2]:(this.Eo=!0,(e=oi())&&e.removeEventListener("visibilitychange",this.Vo),[4,this.So(t)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.bo(),this.Eo?new Promise((function(t){})):this.vo(t)},t.prototype.er=function(t){var e=this;this.To.push(t),this.Zi((function(){return e.Co()}))},t.prototype.Co=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(0===this.To.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.To[0]()];case 2:return n.sent(),this.To.shift(),this.Po.reset(),[3,4];case 3:if(!ti(t=n.sent()))throw t;return d("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.To.length>0&&this.Po.ys((function(){return e.Co()})),n.label=5;case 5:return[2]}}))}))},t.prototype.vo=function(t){var e=this,n=this.wo.then((function(){return e.Ao=!0,t().catch((function(t){throw e.mo=t,e.Ao=!1,f("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.Ao=!1,t}))}));return this.wo=n,n},t.prototype.bs=function(t,e,n){var r=this;this.bo(),this.Ro.indexOf(t)>-1&&(e=0);var i=ai._o(this,t,e,n,(function(t){return r.Fo(t)}));return this.Io.push(i),i},t.prototype.bo=function(){this.mo&&m()},t.prototype.$o=function(){},t.prototype.No=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.wo];case 1:e.sent(),e.label=2;case 2:if(t!==this.wo)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.ko=function(t){for(var e=0,n=this.Io;e<n.length;e++)if(n[e].Es===t)return!0;return!1},t.prototype.xo=function(t){var e=this;return this.No().then((function(){e.Io.sort((function(t,e){return t.uo-e.uo}));for(var n=0,r=e.Io;n<r.length;n++){var i=r[n];if(i.Ss(),"all"!==t&&i.Es===t)break}return e.No()}))},t.prototype.Mo=function(t){this.Ro.push(t)},t.prototype.Fo=function(t){var e=this.Io.indexOf(t);this.Io.splice(e,1)},t}();function li(t,e){if(f("AsyncQueue",e+": "+t),ti(t))return new k(I.UNAVAILABLE,e+": "+t);throw t}function ci(t,e){var n=t[1],r=e[1],i=b(t[0],e[0]);return 0===i?b(n,r):i}var hi=function(){function t(t){this.Oo=t,this.buffer=new nt(ci),this.Lo=0}return t.prototype.qo=function(){return++this.Lo},t.prototype.Bo=function(t){var e=[t,this.qo()];if(this.buffer.size<this.Oo)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ci(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),di={Uo:!1,Wo:0,Qo:0,jo:0},fi=function(){function t(t,e,n){this.Ko=t,this.Go=e,this.zo=n}return t.Ho=function(e){return new t(e,t.Yo,t.Jo)},t}();fi.Xo=-1,fi.Zo=1048576,fi.th=41943040,fi.Yo=10,fi.Jo=1e3,fi.eh=new fi(fi.th,fi.Yo,fi.Jo),fi.nh=new fi(fi.Xo,0,0);var pi=function(){function t(t,e){this.yr=t,this.ao=e,this.sh=!1,this.ih=null}return t.prototype.start=function(t){this.yr.params.Ko!==fi.Xo&&this.rh(t)},t.prototype.stop=function(){this.ih&&(this.ih.cancel(),this.ih=null)},Object.defineProperty(t.prototype,"Hi",{get:function(){return null!==this.ih},enumerable:!1,configurable:!0}),t.prototype.rh=function(t){var e=this,n=this.sh?3e5:6e4;d("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ih=this.ao.bs("lru_garbage_collection",n,(function(){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:this.ih=null,this.sh=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.oh(this.yr)];case 2:return n.sent(),[3,7];case 3:return ti(e=n.sent())?(d("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,vi(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.rh(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),mi=function(){function t(t,e){this.hh=t,this.params=e}return t.prototype.ah=function(t,e){return this.hh.pr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.uh=function(t,e){var n=this;if(0===e)return Fn.resolve(qn.ws);var r=new hi(e);return this.hh.pe(t,(function(t){return r.Bo(t.sequenceNumber)})).next((function(){return n.hh.vr(t,(function(t){return r.Bo(t)}))})).next((function(){return r.maxValue}))},t.prototype.Ei=function(t,e,n){return this.hh.Ei(t,e,n)},t.prototype.$r=function(t,e){return this.hh.$r(t,e)},t.prototype.lh=function(t,e){var n=this;return this.params.Ko===fi.Xo?(d("LruGarbageCollector","Garbage collection skipped; disabled"),Fn.resolve(di)):this.kr(t).next((function(r){return r<n.params.Ko?(d("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Ko),di):n._h(t,e)}))},t.prototype.kr=function(t){return this.hh.kr(t)},t.prototype._h=function(t,e){var n,r,i,s,a,u,l,c=this,f=Date.now();return this.ah(t,this.params.Go).next((function(e){return e>c.params.zo?(d("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.zo+" from "+e),r=c.params.zo):r=e,s=Date.now(),c.uh(t,r)})).next((function(r){return n=r,a=Date.now(),c.Ei(t,n,e)})).next((function(e){return i=e,u=Date.now(),c.$r(t,n)})).next((function(t){return l=Date.now(),h()<=o.LogLevel.DEBUG&&d("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-f)+"ms\n\tDetermined least recently used "+r+" in "+(a-s)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(l-u)+"ms\nTotal Duration: "+(l-f)+"ms"),Fn.resolve({Uo:!0,Wo:r,Qo:i,jo:t})}))},t}(),gi=function(){function t(t,e,n){this.persistence=t,this.fh=e,this.dh=new J(b),this.wh=new D((function(t){return z(t)}),H),this.Th=N.min(),this.jn=t.mr(n),this.Eh=t.Pr(),this.qi=t.Rr(),this.Ih=new Un(this.Eh,this.jn,this.persistence.gr()),this.fh.mh(this.Ih)}return t.prototype.Ah=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,s=this;return i.__generator(this,(function(i){switch(i.label){case 0:return e=this.jn,n=this.Ih,[4,this.persistence.runTransaction("Handle user change","readonly",(function(r){var i;return s.jn.Qr(r).next((function(o){return i=o,e=s.persistence.mr(t),n=new Un(s.Eh,e,s.persistence.gr()),e.Qr(r)})).next((function(t){for(var e=[],s=[],o=ht(),a=0,u=i;a<u.length;a++){var l=u[a];e.push(l.batchId);for(var c=0,h=l.mutations;c<h.length;c++)o=o.add(h[c].key)}for(var d=0,f=t;d<f.length;d++){var p=f[d];s.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return n.Jn(r,o).next((function(t){return{Rh:t,Ph:e,gh:s}}))}))}))];case 1:return r=i.sent(),[2,(this.jn=e,this.Ih=n,this.fh.mh(this.Ih),r)]}}))}))},t.prototype.Vh=function(t){var e,n=this,r=O.now(),i=t.reduce((function(t,e){return t.add(e.key)}),ht());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(s){return n.Ih.Jn(s,i).next((function(i){e=i;for(var o=[],a=0,u=t;a<u.length;a++){var l=u[a],c=Be(l,e.get(l.key));null!=c&&o.push(new $e(l.key,c,tn(c.proto.mapValue),Fe.exists(!0)))}return n.jn.Lr(s,r,o,t)}))})).then((function(t){var n=t.In(e);return{batchId:t.batchId,Cn:n}}))},t.prototype.yh=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=t.batch.keys(),i=e.Eh.Hs({Js:!0});return e.ph(n,t,i).next((function(){return i.apply(n)})).next((function(){return e.jn.zr(n)})).next((function(){return e.Ih.Jn(n,r)}))}))},t.prototype.bh=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return e.jn.qr(n,t).next((function(t){return g(null!==t),r=t.keys(),e.jn.Kr(n,t)})).next((function(){return e.jn.zr(n)})).next((function(){return e.Ih.Jn(n,r)}))}))},t.prototype.Wr=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.jn.Wr(e)}))},t.prototype.ai=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qi.ai(e)}))},t.prototype.vh=function(e){var n=this,r=e.X,i=this.dh;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(s){var o=n.Eh.Hs({Js:!0});i=n.dh;var a=[];e.Wt.forEach((function(e,o){var u=i.get(o);if(u){a.push(n.qi.Pi(s,e.Xt,o).next((function(){return n.qi.Ai(s,e.Yt,o)})));var l=e.resumeToken;if(l.H()>0){var c=u.tt(l,r).Z(s.vi);i=i.nt(o,c),t.Sh(u,c,e)&&a.push(n.qi.di(s,c))}}}));var u=st(),l=ht();if(e.jt.forEach((function(t,e){l=l.add(t)})),a.push(o.getEntries(s,l).next((function(t){e.jt.forEach((function(i,l){var c=t.get(i);l instanceof rn&&l.version.isEqual(N.min())?(o.xn(i,r),u=u.nt(i,l)):null==c||l.version.o(c.version)>0||0===l.version.o(c.version)&&c.hasPendingWrites?(o.Nn(l,r),u=u.nt(i,l)):d("LocalStore","Ignoring outdated watch update for ",i,". Current version:",c.version," Watch version:",l.version),e.Kt.has(i)&&a.push(n.persistence.ii.Nr(s,i))}))}))),!r.isEqual(N.min())){var c=n.qi.ai(s).next((function(t){return n.qi.ci(s,s.vi,r)}));a.push(c)}return Fn.Sn(a).next((function(){return o.apply(s)})).next((function(){return n.Ih.Xn(s,u)}))})).then((function(t){return n.dh=i,t}))},t.Sh=function(t,e,n){return g(e.resumeToken.H()>0),0===t.resumeToken.H()||e.X.m()-t.X.m()>=this.Dh||n.Yt.size+n.Jt.size+n.Xt.size>0},t.prototype.Ch=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,s,o,a,u,l=this;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Fn.forEach(t,(function(t){return Fn.forEach(t.as,(function(n){return l.persistence.ii.Ri(e,t.targetId,n)})).next((function(){return Fn.forEach(t.us,(function(n){return l.persistence.ii.gi(e,t.targetId,n)}))}))}))}))];case 1:return i.sent(),[3,3];case 2:if(!ti(e=i.sent()))throw e;return d("LocalStore","Failed to update sequence numbers: "+e),[3,3];case 3:for(n=0,r=t;n<r.length;n++)o=(s=r[n]).targetId,s.fromCache||(a=this.dh.get(o),u=a.et(a.X),this.dh=this.dh.nt(o,u));return[2]}}))}))},t.prototype.Fh=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.jn.Ur(n,t)}))},t.prototype.$h=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.Ih.Gn(n,t)}))},t.prototype.Nh=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var r;return e.qi.mi(n,t).next((function(i){return i?Fn.resolve(r=i):e.qi.ri(n).next((function(i){return r=new K(t,i,0,n.vi),e.qi.li(n,r).next((function(){return r}))}))}))})).then((function(n){var r=e.dh.get(n.targetId);return(null===r||n.X.o(r.X)>0)&&(e.dh=e.dh.nt(n.targetId,n),e.wh.set(t,n.targetId)),n}))},t.prototype.mi=function(t,e){var n=this.wh.get(e);return void 0!==n?Fn.resolve(this.dh.get(n)):this.qi.mi(t,e)},t.prototype.kh=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:n=this.dh.get(t),r=e?"readwrite":"readwrite-primary",i.label=1;case 1:return i.trys.push([1,4,,5]),e?[3,3]:[4,this.persistence.runTransaction("Release target",r,(function(t){return o.persistence.ii.removeTarget(t,n)}))];case 2:i.sent(),i.label=3;case 3:return[3,5];case 4:if(!ti(s=i.sent()))throw s;return d("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return this.dh=this.dh.remove(t),this.wh.delete(n.target),[2]}}))}))},t.prototype.xh=function(t,e){var n=this,r=N.min(),i=ht();return this.persistence.runTransaction("Execute query","readonly",(function(s){return n.mi(s,dn(t)).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.qi.Vi(s,t.targetId).next((function(t){i=t}))})).next((function(){return n.fh.ts(s,t,e?r:N.min(),e?i:ht())})).next((function(t){return{documents:t,Mh:i}}))}))},t.prototype.ph=function(t,e,n){var r=this,i=e.batch,s=i.keys(),o=Fn.resolve();return s.forEach((function(r){o=o.next((function(){return n.Mn(t,r)})).next((function(t){var s=t,o=e.An.get(r);g(null!==o),(!s||s.version.o(o)<0)&&(s=i.wn(r,s,e))&&n.Nn(s,e.mn)}))})),o.next((function(){return r.jn.Kr(t,i)}))},t.prototype.oh=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.lh(n,e.dh)}))},t}();function yi(t,e,n){return new gi(t,e,n)}function _i(t,e){var n=y(t),r=y(n.qi),i=n.dh.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Me(t,e).next((function(t){return t?t.target:null}))}))}function vi(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){if(t.code!==I.FAILED_PRECONDITION||t.message!==Ln)throw t;return d("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}gi.Dh=3e8;var bi=function(){function t(){this.Oh=new nt(wi.Lh),this.qh=new nt(wi.Bh)}return t.prototype._=function(){return this.Oh._()},t.prototype.Ri=function(t,e){var n=new wi(t,e);this.Oh=this.Oh.add(n),this.qh=this.qh.add(n)},t.prototype.Uh=function(t,e){var n=this;t.forEach((function(t){return n.Ri(t,e)}))},t.prototype.gi=function(t,e){this.Wh(new wi(t,e))},t.prototype.Qh=function(t,e){var n=this;t.forEach((function(t){return n.gi(t,e)}))},t.prototype.jh=function(t){var e=this,n=new M(new P([])),r=new wi(n,t),i=new wi(n,t+1),s=[];return this.qh.vt([r,i],(function(t){e.Wh(t),s.push(t.key)})),s},t.prototype.Kh=function(){var t=this;this.Oh.forEach((function(e){return t.Wh(e)}))},t.prototype.Wh=function(t){this.Oh=this.Oh.delete(t),this.qh=this.qh.delete(t)},t.prototype.Gh=function(t){var e=new M(new P([])),n=new wi(e,t),r=new wi(e,t+1),i=ht();return this.qh.vt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.pi=function(t){var e=new wi(t,0),n=this.Oh.Dt(e);return null!==n&&t.isEqual(n.key)},t}(),wi=function(){function t(t,e){this.key=t,this.zh=e}return t.Lh=function(t,e){return M.P(t.key,e.key)||b(t.zh,e.zh)},t.Bh=function(t,e){return b(t.zh,e.zh)||M.P(t.key,e.key)},t}();function Ei(t,e){if(0!==e.length)throw new k(I.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+Ui(e.length,"argument")+".")}function Ci(t,e,n){if(e.length!==n)throw new k(I.INVALID_ARGUMENT,"Function "+t+"() requires "+Ui(n,"argument")+", but was called with "+Ui(e.length,"argument")+".")}function Si(t,e,n){if(e.length<n)throw new k(I.INVALID_ARGUMENT,"Function "+t+"() requires at least "+Ui(n,"argument")+", but was called with "+Ui(e.length,"argument")+".")}function Ai(t,e,n,r){if(e.length<n||e.length>r)throw new k(I.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+Ui(e.length,"argument")+".")}function xi(t,e,n,r){Ni(t,e,ji(n)+" argument",r)}function Ti(t,e,n,r){void 0!==r&&xi(t,e,n,r)}function Di(t,e,n,r){Ni(t,e,n+" option",r)}function Ii(t,e,n,r){void 0!==r&&Di(t,e,n,r)}function ki(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var s=[],o=0,a=i;o<a.length;o++){var u=a[o];if(u===r)return;s.push(Pi(u))}var l=Pi(r);throw new k(I.INVALID_ARGUMENT,"Invalid value "+l+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+s.join(", "))}(t,0,n,r,i)}function Oi(t,e,n,r){if(!e.some((function(t){return t===r})))throw new k(I.INVALID_ARGUMENT,"Invalid value "+Pi(r)+" provided to function "+t+"() for its "+ji(n)+" argument. Acceptable values: "+e.join(", "));return r}function Ni(t,e,n,r){if(!("object"===e?Ri(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=Pi(r);throw new k(I.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function Ri(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function Pi(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":m()}function Vi(t,e,n){if(void 0===n)throw new k(I.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+ji(e)+" argument, but it was undefined.")}function Fi(t,e,n){x(e,(function(e,r){if(n.indexOf(e)<0)throw new k(I.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function Mi(t,e,n,r){var i=Pi(r);return new k(I.INVALID_ARGUMENT,"Function "+t+"() requires its "+ji(n)+" argument to be a "+e+", but it was: "+i)}function Li(t,e,n){if(n<=0)throw new k(I.INVALID_ARGUMENT,"Function "+t+"() requires its "+ji(e)+" argument to be a positive number, but it was: "+n+".")}function ji(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function Ui(t,e){return t+" "+e+(1===t?"":"s")}function Bi(){if("undefined"==typeof Uint8Array)throw new k(I.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function qi(){if("undefined"==typeof atob)throw new k(I.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var zi=function(){function t(t){qi(),this.Hh=t}return t.fromBase64String=function(e){Ci("Blob.fromBase64String",arguments,1),xi("Blob.fromBase64String","string",1,e),qi();try{return new t(G.fromBase64String(e))}catch(e){throw new k(I.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(Ci("Blob.fromUint8Array",arguments,1),Bi(),!(e instanceof Uint8Array))throw Mi("Blob.fromUint8Array","Uint8Array",1,e);return new t(G.fromUint8Array(e))},t.prototype.toBase64=function(){return Ci("Blob.toBase64",arguments,0),qi(),this.Hh.toBase64()},t.prototype.toUint8Array=function(){return Ci("Blob.toUint8Array",arguments,0),Bi(),this.Hh.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.Hh.isEqual(t.Hh)},t}(),Hi=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new k(I.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Ui(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(xi("FieldPath","string",e,t[e]),0===t[e].length)throw new k(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Yh=new F(t)},$i=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return i.__extends(e,t),e.documentId=function(){return new e(F.L().$())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Mi("isEqual","FieldPath",1,t);return this.Yh.isEqual(t.Yh)},e}(Hi),Gi=new RegExp("[~\\*/\\[\\]]"),Wi=function(){this.Jh=this},Yi=function(t){function e(e){var n=this;return(n=t.call(this)||this).Xh=e,n}return i.__extends(e,t),e.prototype.Zh=function(t){if(2!==t.ta)throw t.ea(1===t.ta?this.Xh+"() can only appear at the top level of your update data":this.Xh+"() cannot be used with set() unless you pass {merge:true}");return t.Le.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Wi);function Ki(t,e,n){return new ls({ta:3,na:e.settings.na,methodName:t.Xh,sa:n},e.s,e.serializer,e.ignoreUndefinedProperties)}var Qi=function(t){function e(e){var n=this;return(n=t.call(this)||this).Xh=e,n}return i.__extends(e,t),e.prototype.Zh=function(t){return new Pe(t.path,new Ae)},e.prototype.isEqual=function(t){return t instanceof e},e}(Wi),Zi=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xh=e,r.ia=n,r}return i.__extends(e,t),e.prototype.Zh=function(t){var e=Ki(this,t,!0),n=this.ia.map((function(t){return ms(t,e)})),r=new xe(n);return new Pe(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Wi),Xi=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xh=e,r.ia=n,r}return i.__extends(e,t),e.prototype.Zh=function(t){var e=Ki(this,t,!0),n=this.ia.map((function(t){return ms(t,e)})),r=new De(n);return new Pe(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Wi),Ji=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xh=e,r.ra=n,r}return i.__extends(e,t),e.prototype.Zh=function(t){var e=new ke(t.serializer,Kt(t.serializer,this.ra));return new Pe(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Wi),ts=function(t){function e(){return t.call(this)||this}return i.__extends(e,t),e.delete=function(){return Ei("FieldValue.delete",arguments),new es(new Yi("FieldValue.delete"))},e.serverTimestamp=function(){return Ei("FieldValue.serverTimestamp",arguments),new es(new Qi("FieldValue.serverTimestamp"))},e.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Si("FieldValue.arrayUnion",arguments,1),new es(new Zi("FieldValue.arrayUnion",t))},e.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Si("FieldValue.arrayRemove",arguments,1),new es(new Xi("FieldValue.arrayRemove",t))},e.increment=function(t){return xi("FieldValue.increment","number",1,t),Ci("FieldValue.increment",arguments,1),new es(new Ji("FieldValue.increment",t))},e}(Wi),es=function(t){function e(e){var n=this;return(n=t.call(this)||this).Jh=e,n.Xh=e.Xh,n}return i.__extends(e,t),e.prototype.Zh=function(t){return this.Jh.Zh(t)},e.prototype.isEqual=function(t){return t instanceof e&&this.Jh.isEqual(t.Jh)},e}(ts),ns=function(){function t(t,e){if(Ci("GeoPoint",arguments,2),xi("GeoPoint","number",1,t),xi("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new k(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new k(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.oa=t,this.ha=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.oa},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.ha},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.oa===t.oa&&this.ha===t.ha},t.prototype.T=function(t){return b(this.oa,t.oa)||b(this.ha,t.ha)},t}();function rs(t){return new Gt(t,!0)}var is=/^__.*__$/,ss=function(t,e,n){this.aa=t,this.ua=e,this.ca=n},os=function(){function t(t,e,n){this.data=t,this.Le=e,this.fieldTransforms=n}return t.prototype.la=function(t,e){var n=[];return n.push(null!==this.Le?new $e(t,this.data,this.Le,e):new He(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new We(t,this.fieldTransforms)),n},t}(),as=function(){function t(t,e,n){this.data=t,this.Le=e,this.fieldTransforms=n}return t.prototype.la=function(t,e){var n=[new $e(t,this.data,this.Le,e)];return this.fieldTransforms.length>0&&n.push(new We(t,this.fieldTransforms)),n},t}();function us(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw m()}}var ls=function(){function t(t,e,n,r,i,s){this.settings=t,this.s=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this._a(),this.fieldTransforms=i||[],this.Le=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ta",{get:function(){return this.settings.ta},enumerable:!1,configurable:!0}),t.prototype.fa=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.s,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Le)},t.prototype.da=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.fa({path:n,sa:!1});return r.wa(t),r},t.prototype.Ta=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.fa({path:n,sa:!1});return r._a(),r},t.prototype.Ea=function(t){return this.fa({path:void 0,sa:!0})},t.prototype.ea=function(t){return ws(t,this.settings.methodName,this.settings.Ia||!1,this.path,this.settings.na)},t.prototype.contains=function(t){return void 0!==this.Le.find((function(e){return t.D(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.D(e.field)}))},t.prototype._a=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.wa(this.path.get(t))},t.prototype.wa=function(t){if(0===t.length)throw this.ea("Document fields must not be empty");if(us(this.ta)&&is.test(t))throw this.ea('Document fields cannot begin and end with "__"')},t}(),cs=function(){function t(t,e,n){this.s=t,this.ignoreUndefinedProperties=e,this.serializer=n||rs(t)}return t.prototype.ma=function(t,e,n,r){return void 0===r&&(r=!1),new ls({ta:t,methodName:e,na:n,path:F.k(),sa:!1,Ia:r},this.s,this.serializer,this.ignoreUndefinedProperties)},t}();function hs(t,e,n,r,i,s){void 0===s&&(s={});var o=t.ma(s.merge||s.mergeFields?2:0,e,n,i);_s("Data must be an object, but it was:",o,r);var a,u,l=gs(r,o);if(s.merge)a=new Re(o.Le),u=o.fieldTransforms;else if(s.mergeFields){for(var c=[],h=0,d=s.mergeFields;h<d.length;h++){var f=d[h],p=void 0;if(f instanceof Hi)p=f.Yh;else{if("string"!=typeof f)throw m();p=bs(e,f,n)}if(!o.contains(p))throw new k(I.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Es(c,p)||c.push(p)}a=new Re(c),u=o.fieldTransforms.filter((function(t){return a.je(t.field)}))}else a=null,u=o.fieldTransforms;return new os(new Xe(l),a,u)}function ds(t,e,n,r){var i=t.ma(1,e,n);_s("Data must be an object, but it was:",i,r);var s=[],o=new Je;x(r,(function(t,r){var a=bs(e,t,n),u=i.Ta(a);if(r instanceof Wi&&r.Jh instanceof Yi)s.push(a);else{var l=ms(r,u);null!=l&&(s.push(a),o.set(a,l))}}));var a=new Re(s);return new as(o.Ge(),a,i.fieldTransforms)}function fs(t,e,n,r,i,s){var o=t.ma(1,e,n),a=[vs(e,r,n)],u=[i];if(s.length%2!=0)throw new k(I.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<s.length;l+=2)a.push(vs(e,s[l])),u.push(s[l+1]);for(var c=[],h=new Je,d=a.length-1;d>=0;--d)if(!Es(c,a[d])){var f=a[d],p=u[d],m=o.Ta(f);if(p instanceof Wi&&p.Jh instanceof Yi)c.push(f);else{var g=ms(p,m);null!=g&&(c.push(f),h.set(f,g))}}var y=new Re(c);return new as(h.Ge(),y,o.fieldTransforms)}function ps(t,e,n,r){return void 0===r&&(r=!1),ms(n,t.ma(r?4:3,e))}function ms(t,e){if(ys(t))return _s("Unsupported field value:",e,t),gs(t,e);if(t instanceof Wi)return function(t,e){if(!us(e.ta))throw e.ea(t.Xh+"() can only be used with update() and set()");if(!e.path)throw e.ea(t.Xh+"() is not currently supported inside arrays");var n=t.Zh(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Le.push(e.path),t instanceof Array){if(e.settings.sa&&4!==e.ta)throw e.ea("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=ms(s[i],e.Ea(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Kt(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=O.fromDate(t);return{timestampValue:Qt(e.serializer,n)}}if(t instanceof O){var r=new O(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Qt(e.serializer,r)}}if(t instanceof ns)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof zi)return{bytesValue:Zt(e.serializer,t)};if(t instanceof ss){var i=e.s,s=t.aa;if(!s.isEqual(i))throw e.ea("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:te(t.aa||e.s,t.ua.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.ea("Unsupported field value: "+Pi(t))}(t,e)}function gs(t,e){var n={};return T(t)?e.path&&e.path.length>0&&e.Le.push(e.path):x(t,(function(t,r){var i=ms(r,e.da(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function ys(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof O||t instanceof ns||t instanceof zi||t instanceof ss||t instanceof Wi)}function _s(t,e,n){if(!ys(n)||!Ri(n)){var r=Pi(n);throw e.ea("an object"===r?t+" a custom object":t+" "+r)}}function vs(t,e,n){if(e instanceof Hi)return e.Yh;if("string"==typeof e)return bs(t,e);throw ws("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function bs(t,e,n){try{return function(t){if(t.search(Gi)>=0)throw new k(I.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new($i.bind.apply($i,i.__spreadArrays([void 0],t.split("."))))}catch(i){throw new k(I.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Yh}catch(e){throw ws((r=e)instanceof Error?r.message:r.toString(),t,!1,void 0,n)}var r}function ws(t,e,n,r,i){var s=r&&!r._(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new k(I.INVALID_ARGUMENT,(a+=". ")+t+u)}function Es(t,e){return t.some((function(t){return t.isEqual(e)}))}var Cs=function(){function t(t){this.uid=t}return t.prototype.Mr=function(){return null!=this.uid},t.prototype.Aa=function(){return this.Mr()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Cs.UNAUTHENTICATED=new Cs(null),Cs.Ra=new Cs("google-credentials-uid"),Cs.Pa=new Cs("first-party-uid");var Ss=function(t,e){this.user=e,this.type="OAuth",this.ga={},this.ga.Authorization="Bearer "+t},As=function(){function t(){this.Va=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.ya=function(){},t.prototype.pa=function(t){this.Va=t,t(Cs.UNAUTHENTICATED)},t.prototype.ba=function(){this.Va=null},t}(),xs=function(){function t(t){var e=this;this.va=null,this.currentUser=Cs.UNAUTHENTICATED,this.Sa=!1,this.Da=0,this.Va=null,this.forceRefresh=!1,this.va=function(){e.Da++,e.currentUser=e.Ca(),e.Sa=!0,e.Va&&e.Va(e.currentUser)},this.Da=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.va):(this.va(null),t.get().then((function(t){e.auth=t,e.va&&e.auth.addAuthTokenListener(e.va)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.Da,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.Da!==e?(d("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(g("string"==typeof n.accessToken),new Ss(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.ya=function(){this.forceRefresh=!0},t.prototype.pa=function(t){this.Va=t,this.Sa&&t(this.currentUser)},t.prototype.ba=function(){this.auth&&this.auth.removeAuthTokenListener(this.va),this.va=null,this.Va=null},t.prototype.Ca=function(){var t=this.auth&&this.auth.getUid();return g(null===t||"string"==typeof t),new Cs(t)},t}(),Ts=function(){function t(t,e){this.Fa=t,this.$a=e,this.type="FirstParty",this.user=Cs.Pa}return Object.defineProperty(t.prototype,"ga",{get:function(){var t={"X-Goog-AuthUser":this.$a},e=this.Fa.auth.Na([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Ds=function(){function t(t,e){this.Fa=t,this.$a=e}return t.prototype.getToken=function(){return Promise.resolve(new Ts(this.Fa,this.$a))},t.prototype.pa=function(t){t(Cs.Pa)},t.prototype.ba=function(){},t.prototype.ya=function(){},t}(),Is=function(){function t(t,e,n,r,i,s){this.Ts=t,this.ka=n,this.xa=r,this.Ma=i,this.listener=s,this.state=0,this.Oa=0,this.La=null,this.stream=null,this.Po=new Hn(t,e)}return t.prototype.qa=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ba=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ua()},t.prototype.stop=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.qa()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Wa=function(){this.state=0,this.Po.reset()},t.prototype.Qa=function(){var t=this;this.Ba()&&null===this.La&&(this.La=this.Ts.bs(this.ka,6e4,(function(){return t.ja()})))},t.prototype.Ka=function(t){this.Ga(),this.stream.send(t)},t.prototype.ja=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.Ba()?[2,this.close(0)]:[2]}))}))},t.prototype.Ga=function(){this.La&&(this.La.cancel(),this.La=null)},t.prototype.close=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.Ga(),this.Po.cancel(),this.Oa++,3!==t?this.Po.reset():e&&e.code===I.RESOURCE_EXHAUSTED?(f(e.toString()),f("Using maximum backoff delay to prevent overloading the backend."),this.Po.Vs()):e&&e.code===I.UNAUTHENTICATED&&this.Ma.ya(),null!==this.stream&&(this.za(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ha(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.za=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Ya(this.Oa),n=this.Oa;this.Ma.getToken().then((function(e){t.Oa===n&&t.Ja(e)}),(function(n){e((function(){var e=new k(I.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Xa(e)}))}))},t.prototype.Ja=function(t){var e=this,n=this.Ya(this.Oa);this.stream=this.Za(t),this.stream.tu((function(){n((function(){return e.state=2,e.listener.tu()}))})),this.stream.Ha((function(t){n((function(){return e.Xa(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Ua=function(){var t=this;this.state=4,this.Po.ys((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Xa=function(t){return d("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Ya=function(t){var e=this;return function(n){e.Ts.Zi((function(){return e.Oa===t?n():(d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),ks=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).serializer=i,o}return i.__extends(e,t),e.prototype.Za=function(t){return this.xa.eu("Listen",t)},e.prototype.onMessage=function(t){this.Po.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:m()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.Oe?(g(void 0===e||"string"==typeof e),G.fromBase64String(e||"")):(g(void 0===e||e instanceof Uint8Array),G.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){var e=void 0===t.code?I.UNKNOWN:X(t.code);return new k(e,t.message||"")}(o);n=new wt(r,i,s,a||null)}else if("documentChange"in e){var u=e.documentChange,l=re(t,u.document.name),c=Jt(u.document.updateTime),h=new Xe({mapValue:{fields:u.document.fields}}),d=new nn(l,c,h,{});n=new vt(u.targetIds||[],u.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){var f=e.documentDelete,p=re(t,f.document),y=f.readTime?Jt(f.readTime):N.min(),_=new rn(p,y);n=new vt([],f.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){var v=e.documentRemove,b=re(t,v.document);n=new vt([],v.removedTargetIds||[],b,null)}else{if(!("filter"in e))return m();var w=e.filter,E=new Q(w.count||0);n=new bt(w.targetId,E)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return N.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?N.min():e.readTime?Jt(e.readTime):N.min()}(t);return this.listener.nu(e,n)},e.prototype.su=function(t){var e={};e.database=oe(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=$(r)?{documents:he(t,r)}:{query:de(t,r)}).targetId=e.targetId,e.resumeToken.H()>0&&(n.resumeToken=Zt(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return m()}}(0,e.J);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.Ka(e)},e.prototype.iu=function(t){var e={};e.database=oe(this.serializer),e.removeTarget=t,this.Ka(e)},e}(Is),Os=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).serializer=i,o.ru=!1,o}return i.__extends(e,t),Object.defineProperty(e.prototype,"ou",{get:function(){return this.ru},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.ru=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.za=function(){this.ru&&this.hu([])},e.prototype.Za=function(t){return this.xa.eu("Write",t)},e.prototype.onMessage=function(t){if(g(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.Po.reset();var e=function(t,e){return t&&t.length>0?(g(void 0!==e),t.map((function(t){return function(t,e){var n=Jt(t.updateTime?t.updateTime:e);n.isEqual(N.min())&&(n=Jt(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Ve(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Jt(t.commitTime);return this.listener.au(n,e)}return g(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.uu()},e.prototype.cu=function(){var t={};t.database=oe(this.serializer),this.Ka(t)},e.prototype.hu=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return le(e.serializer,t)}))};this.Ka(n)},e}(Is),Ns=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).credentials=e,r.serializer=n,r.lu=!1,r}return i.__extends(e,t),e.prototype._u=function(){if(this.lu)throw new k(I.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.start=function(t){this.xa=t},e.prototype.fu=function(t,e){var n=this;return this._u(),this.credentials.getToken().then((function(r){return n.xa.fu(t,e,r)})).catch((function(t){throw t.code===I.UNAUTHENTICATED&&n.credentials.ya(),t}))},e.prototype.du=function(t,e){var n=this;return this._u(),this.credentials.getToken().then((function(r){return n.xa.du(t,e,r)})).catch((function(t){throw t.code===I.UNAUTHENTICATED&&n.credentials.ya(),t}))},e}((function(){})),Rs=function(){function t(t){this.wu=t,this.Tu=new Map,this.mutations=[],this.Eu=!1,this.Iu=null,this.mu=new Set}return t.prototype.Au=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(this.Ru(),this.mutations.length>0)throw new k(I.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s,o,a;return i.__generator(this,(function(i){switch(i.label){case 0:return n=y(t),r={database:oe(n.serializer),documents:e.map((function(t){return ne(n.serializer,t)}))},[4,n.du("BatchGetDocuments",r)];case 1:return s=i.sent(),o=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){g(!!e.found);var n=re(t,e.found.name),r=Jt(e.found.updateTime),i=new Xe({mapValue:{fields:e.found.fields}});return new nn(n,r,i,{})}(t,e):"missing"in e?function(t,e){g(!!e.missing),g(!!e.readTime);var n=re(t,e.missing),r=Jt(e.readTime);return new rn(n,r)}(t,e):m()}(n.serializer,t);o.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=o.get(t.toString());g(!!e),a.push(e)})),a)]}}))}))}(this.wu,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof rn||t instanceof nn?n.Pu(t):m()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.la(t,this.Ue(t))),this.mu.add(t)},t.prototype.update=function(t,e){try{this.write(e.la(t,this.gu(t)))}catch(t){this.Iu=t}this.mu.add(t)},t.prototype.delete=function(t){this.write([new Qe(t,this.Ue(t))]),this.mu.add(t)},t.prototype.commit=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(this.Ru(),this.Iu)throw this.Iu;return t=this.Tu,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=new M(P.N(n));e.mutations.push(new Ze(r,e.Ue(r)))})),[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r;return i.__generator(this,(function(i){switch(i.label){case 0:return n=y(t),r={database:oe(n.serializer),writes:e.map((function(t){return le(n.serializer,t)}))},[4,n.fu("Commit",r)];case 1:return i.sent(),[2]}}))}))}(this.wu,this.mutations)];case 1:return n.sent(),this.Eu=!0,[2]}}))}))},t.prototype.Pu=function(t){var e;if(t instanceof nn)e=t.version;else{if(!(t instanceof rn))throw m();e=N.min()}var n=this.Tu.get(t.key.toString());if(n){if(!e.isEqual(n))throw new k(I.ABORTED,"Document version changed between two reads.")}else this.Tu.set(t.key.toString(),e)},t.prototype.Ue=function(t){var e=this.Tu.get(t.toString());return!this.mu.has(t)&&e?Fe.updateTime(e):Fe.We()},t.prototype.gu=function(t){var e=this.Tu.get(t.toString());if(!this.mu.has(t)&&e){if(e.isEqual(N.min()))throw new k(I.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fe.updateTime(e)}return Fe.exists(!0)},t.prototype.write=function(t){this.Ru(),this.mutations=this.mutations.concat(t)},t.prototype.Ru=function(){},t}(),Ps=function(){function t(t,e){this.ao=t,this.Vu=e,this.state="Unknown",this.yu=0,this.pu=null,this.bu=!0}return t.prototype.vu=function(){var t=this;0===this.yu&&(this.Su("Unknown"),this.pu=this.ao.bs("online_state_timeout",1e4,(function(){return t.pu=null,t.Du("Backend didn't respond within 10 seconds."),t.Su("Offline"),Promise.resolve()})))},t.prototype.Cu=function(t){"Online"===this.state?this.Su("Unknown"):(this.yu++,this.yu>=1&&(this.Fu(),this.Du("Connection failed 1 times. Most recent error: "+t.toString()),this.Su("Offline")))},t.prototype.set=function(t){this.Fu(),this.yu=0,"Online"===t&&(this.bu=!1),this.Su(t)},t.prototype.Su=function(t){t!==this.state&&(this.state=t,this.Vu(t))},t.prototype.Du=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.bu?(f(e),this.bu=!1):d("OnlineStateTracker",e)},t.prototype.Fu=function(){null!==this.pu&&(this.pu.cancel(),this.pu=null)},t}(),Vs=function(){function t(t,e,n,r,s){var o=this;this.$u=t,this.wu=e,this.ao=n,this.Nu=[],this.ku=new Map,this.xu=null,this.Mu=new Set,this.Ou=s,this.Ou.Lu((function(t){n.Zi((function(){return i.__awaiter(o,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.qu()?(d("RemoteStore","Restarting streams for network reachability change."),[4,this.Bu()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Uu=new Ps(n,r),this.Wu=function(t,e,n){var r=y(t);return r._u(),new ks(e,r.xa,r.credentials,r.serializer,n)}(this.wu,n,{tu:this.Qu.bind(this),Ha:this.ju.bind(this),nu:this.Ku.bind(this)}),this.Gu=function(t,e,n){var r=y(t);return r._u(),new Os(e,r.xa,r.credentials,r.serializer,n)}(this.wu,n,{tu:this.zu.bind(this),Ha:this.Hu.bind(this),uu:this.Yu.bind(this),au:this.au.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return this.Mu.delete(0),this.Ju()},t.prototype.Ju=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.qu()?(this.Xu()?this.Zu():this.Uu.set("Unknown"),[4,this.tc()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.disableNetwork=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Mu.add(0),[4,this.ec()];case 1:return t.sent(),this.Uu.set("Offline"),[2]}}))}))},t.prototype.ec=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.Gu.stop()];case 1:return t.sent(),[4,this.Wu.stop()];case 2:return t.sent(),this.Nu.length>0&&(d("RemoteStore","Stopping write stream with "+this.Nu.length+" pending writes"),this.Nu=[]),this.nc(),[2]}}))}))},t.prototype._r=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return d("RemoteStore","RemoteStore shutting down."),this.Mu.add(5),[4,this.ec()];case 1:return t.sent(),this.Ou._r(),this.Uu.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.ku.has(t.targetId)||(this.ku.set(t.targetId,t),this.Xu()?this.Zu():this.Wu.Ba()&&this.sc(t))},t.prototype.ic=function(t){this.ku.delete(t),this.Wu.Ba()&&this.rc(t),0===this.ku.size&&(this.Wu.Ba()?this.Wu.Qa():this.qu()&&this.Uu.set("Unknown"))},t.prototype.Me=function(t){return this.ku.get(t)||null},t.prototype.xe=function(t){return this.oc.xe(t)},t.prototype.sc=function(t){this.xu.de(t.targetId),this.Wu.su(t)},t.prototype.rc=function(t){this.xu.de(t),this.Wu.iu(t)},t.prototype.Zu=function(){this.xu=new Ct(this),this.Wu.start(),this.Uu.vu()},t.prototype.Xu=function(){return this.qu()&&!this.Wu.qa()&&this.ku.size>0},t.prototype.qu=function(){return 0===this.Mu.size},t.prototype.nc=function(){this.xu=null},t.prototype.Qu=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(e){return this.ku.forEach((function(e,n){t.sc(e)})),[2]}))}))},t.prototype.ju=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.nc(),this.Xu()?(this.Uu.Cu(t),this.Zu()):this.Uu.set("Unknown"),[2]}))}))},t.prototype.Ku=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s;return i.__generator(this,(function(i){switch(i.label){case 0:if(this.Uu.set("Online"),!(t instanceof wt&&2===t.state&&t.cause))return[3,6];i.label=1;case 1:return i.trys.push([1,3,,5]),[4,this.hc(t)];case 2:return i.sent(),[3,5];case 3:return n=i.sent(),d("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),[4,this.ac(n)];case 4:return i.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof vt?this.xu.Pe(t):t instanceof bt?this.xu.De(t):this.xu.ye(t),e.isEqual(N.min()))return[3,13];i.label=7;case 7:return i.trys.push([7,11,,13]),[4,this.$u.ai()];case 8:return r=i.sent(),e.o(r)>=0?[4,this.uc(e)]:[3,10];case 9:i.sent(),i.label=10;case 10:return[3,13];case 11:return d("RemoteStore","Failed to raise snapshot:",s=i.sent()),[4,this.ac(s)];case 12:return i.sent(),[3,13];case 13:return[2]}}))}))},t.prototype.ac=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(!ti(t))throw t;return this.Mu.add(1),[4,this.ec()];case 1:return r.sent(),this.Uu.set("Offline"),e||(e=function(){return n.$u.ai()}),this.ao.er((function(){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return d("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return t.sent(),this.Mu.delete(1),[4,this.Ju()];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))},t.prototype.cc=function(t){var e=this;return t().catch((function(n){return e.ac(n,t)}))},t.prototype.uc=function(t){var e=this,n=this.xu.$e(t);return n.Wt.forEach((function(n,r){if(n.resumeToken.H()>0){var i=e.ku.get(r);i&&e.ku.set(r,i.tt(n.resumeToken,t))}})),n.Qt.forEach((function(t){var n=e.ku.get(t);if(n){e.ku.set(t,n.tt(G.Y,n.X)),e.rc(t);var r=new K(n.target,t,1,n.sequenceNumber);e.sc(r)}})),this.oc.vh(n)},t.prototype.hc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,s;return i.__generator(this,(function(i){switch(i.label){case 0:e=t.cause,n=0,r=t.targetIds,i.label=1;case 1:return n<r.length?this.ku.has(s=r[n])?[4,this.oc.lc(s,e)]:[3,3]:[3,5];case 2:i.sent(),this.ku.delete(s),this.xu.removeTarget(s),i.label=3;case 3:i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},t.prototype.tc=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n;return i.__generator(this,(function(r){switch(r.label){case 0:t=this.Nu.length>0?this.Nu[this.Nu.length-1].batchId:-1,r.label=1;case 1:if(!this._c())return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,this.$u.Fh(t)];case 3:return null===(e=r.sent())?(0===this.Nu.length&&this.Gu.Qa(),[3,7]):(t=e.batchId,this.fc(e),[3,6]);case 4:return n=r.sent(),[4,this.ac(n)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return this.dc()&&this.wc(),[2]}}))}))},t.prototype._c=function(){return this.qu()&&this.Nu.length<10},t.prototype.Tc=function(){return this.Nu.length},t.prototype.fc=function(t){this.Nu.push(t),this.Gu.Ba()&&this.Gu.ou&&this.Gu.hu(t.mutations)},t.prototype.dc=function(){return this.qu()&&!this.Gu.qa()&&this.Nu.length>0},t.prototype.wc=function(){this.Gu.start()},t.prototype.zu=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.Gu.cu(),[2]}))}))},t.prototype.Yu=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e;return i.__generator(this,(function(n){for(t=0,e=this.Nu;t<e.length;t++)this.Gu.hu(e[t].mutations);return[2]}))}))},t.prototype.au=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s=this;return i.__generator(this,(function(i){switch(i.label){case 0:return n=this.Nu.shift(),r=Vn.from(n,t,e),[4,this.cc((function(){return s.oc.Ec(r)}))];case 1:return i.sent(),[4,this.tc()];case 2:return i.sent(),[2]}}))}))},t.prototype.Hu=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return t&&this.Gu.ou?[4,this.Ic(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.dc()&&this.wc(),[2]}}))}))},t.prototype.Ic=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return Z(n=t.code)&&n!==I.ABORTED?(e=this.Nu.shift(),this.Gu.Wa(),[4,this.cc((function(){return r.oc.mc(e.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,this.tc()];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},t.prototype.Ac=function(){return new Rs(this.wu)},t.prototype.Bu=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Mu.add(4),[4,this.ec()];case 1:return t.sent(),this.Uu.set("Unknown"),this.Gu.Wa(),this.Wu.Wa(),this.Mu.delete(4),[4,this.Ju()];case 2:return t.sent(),[2]}}))}))},t.prototype.Rc=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.ao.$o(),d("RemoteStore","RemoteStore received new credentials"),this.Mu.add(3),[4,this.ec()];case 1:return e.sent(),this.Uu.set("Unknown"),[4,this.oc.Rc(t)];case 2:return e.sent(),this.Mu.delete(3),[4,this.Ju()];case 3:return e.sent(),[2]}}))}))},t.prototype.Pc=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return t?(this.Mu.delete(2),[4,this.Ju()]):[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:(this.Mu.add(2),[4,this.ec()]);case 3:e.sent(),this.Uu.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},t}();function Fs(t,e){return"firestore_clients_"+t+"_"+e}function Ms(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Mr()&&(r+="_"+e.uid),r}function Ls(t,e){return"firestore_targets_"+t+"_"+e}var js=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.gc=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new k(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(f("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Vc=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Us=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.gc=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new k(r.error.code,r.error.message)),i?new t(e,r.state,s):(f("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Vc=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Bs=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.gc=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=ft(),o=0;i&&o<r.activeTargetIds.length;++o)i=U(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(f("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),qs=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.gc=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(f("SharedClientState","Failed to parse online state: "+e),null)},t}(),zs=function(){function t(){this.activeTargetIds=ft()}return t.prototype.yc=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.pc=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Vc=function(){var t={activeTargetIds:this.activeTargetIds.F(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Hs=function(){function t(t,e,n,r,i){this.window=t,this.Ts=e,this.persistenceKey=n,this.bc=r,this.oc=null,this.Vu=null,this.ls=null,this.vc=this.Sc.bind(this),this.Dc=new J(b),this.Hi=!1,this.Cc=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Fc=Fs(this.persistenceKey,this.bc),this.$c=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Dc=this.Dc.nt(this.bc,new zs),this.Nc=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.kc=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.xc=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Mc=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.vc)}return t.Oi=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,s,o,a,u,l,c,h=this;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.oc.Ir()];case 1:for(t=i.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.bc&&(s=this.getItem(Fs(this.persistenceKey,r)))&&(o=Bs.gc(r,s))&&(this.Dc=this.Dc.nt(o.clientId,o));for(this.Oc(),(a=this.storage.getItem(this.Mc))&&(u=this.Lc(a))&&this.qc(u),l=0,c=this.Cc;l<c.length;l++)this.Sc(c[l]);return this.Cc=[],this.window.addEventListener("unload",(function(){return h._r()})),this.Hi=!0,[2]}}))}))},t.prototype.ds=function(t){this.setItem(this.$c,JSON.stringify(t))},t.prototype.Bc=function(){return this.Uc(this.Dc)},t.prototype.Wc=function(t){var e=!1;return this.Dc.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Qc=function(t){this.jc(t,"pending")},t.prototype.Kc=function(t,e,n){this.jc(t,e,n),this.Gc(t)},t.prototype.zc=function(t){var e="not-current";if(this.Wc(t)){var n=this.storage.getItem(Ls(this.persistenceKey,t));if(n){var r=Us.gc(t,n);r&&(e=r.state)}}return this.Hc.yc(t),this.Oc(),e},t.prototype.Yc=function(t){this.Hc.pc(t),this.Oc()},t.prototype.Jc=function(t){return this.Hc.activeTargetIds.has(t)},t.prototype.Xc=function(t){this.removeItem(Ls(this.persistenceKey,t))},t.prototype.Zc=function(t,e,n){this.tl(t,e,n)},t.prototype.Ah=function(t,e,n){var r=this;e.forEach((function(t){r.Gc(t)})),this.currentUser=t,n.forEach((function(t){r.Qc(t)}))},t.prototype.el=function(t){this.nl(t)},t.prototype._r=function(){this.Hi&&(this.window.removeEventListener("storage",this.vc),this.removeItem(this.Fc),this.Hi=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return d("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){d("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){d("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Sc=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(d("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Fc)return void f("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ts.er((function(){return i.__awaiter(e,void 0,void 0,(function(){var t,e,r,s,o,a;return i.__generator(this,(function(i){if(this.Hi){if(null!==n.key)if(this.Nc.test(n.key)){if(null==n.newValue)return t=this.sl(n.key),[2,this.il(t,null)];if(e=this.rl(n.key,n.newValue))return[2,this.il(e.clientId,e)]}else if(this.kc.test(n.key)){if(null!==n.newValue&&(r=this.ol(n.key,n.newValue)))return[2,this.hl(r)]}else if(this.xc.test(n.key)){if(null!==n.newValue&&(s=this.al(n.key,n.newValue)))return[2,this.ul(s)]}else if(n.key===this.Mc){if(null!==n.newValue&&(o=this.Lc(n.newValue)))return[2,this.qc(o)]}else n.key===this.$c&&(a=function(t){var e=qn.ws;if(null!=t)try{var n=JSON.parse(t);g("number"==typeof n),e=n}catch(t){f("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==qn.ws&&this.ls(a)}else this.Cc.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Hc",{get:function(){return this.Dc.get(this.bc)},enumerable:!1,configurable:!0}),t.prototype.Oc=function(){this.setItem(this.Fc,this.Hc.Vc())},t.prototype.jc=function(t,e,n){var r=new js(this.currentUser,t,e,n),i=Ms(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Vc())},t.prototype.Gc=function(t){var e=Ms(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.nl=function(t){this.storage.setItem(this.Mc,JSON.stringify({clientId:this.bc,onlineState:t}))},t.prototype.tl=function(t,e,n){var r=Ls(this.persistenceKey,t),i=new Us(t,e,n);this.setItem(r,i.Vc())},t.prototype.sl=function(t){var e=this.Nc.exec(t);return e?e[1]:null},t.prototype.rl=function(t,e){var n=this.sl(t);return Bs.gc(n,e)},t.prototype.ol=function(t,e){var n=this.kc.exec(t),r=Number(n[1]);return js.gc(new Cs(void 0!==n[2]?n[2]:null),r,e)},t.prototype.al=function(t,e){var n=this.xc.exec(t),r=Number(n[1]);return Us.gc(r,e)},t.prototype.Lc=function(t){return qs.gc(t)},t.prototype.hl=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.oc.cl(t.batchId,t.state,t.error)]:(d("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.ul=function(t){return this.oc.ll(t.targetId,t.state,t.error)},t.prototype.il=function(t,e){var n=this,r=e?this.Dc.nt(t,e):this.Dc.remove(t),i=this.Uc(this.Dc),s=this.Uc(r),o=[],a=[];return s.forEach((function(t){i.has(t)||o.push(t)})),i.forEach((function(t){s.has(t)||a.push(t)})),this.oc._l(o,a).then((function(){n.Dc=r}))},t.prototype.qc=function(t){this.Dc.get(t.clientId)&&this.Vu(t.onlineState)},t.prototype.Uc=function(t){var e=ft();return t.forEach((function(t,n){e=e.Ct(n.activeTargetIds)})),e},t}(),$s=function(){function t(){this.fl=new zs,this.dl={},this.Vu=null,this.ls=null}return t.prototype.Qc=function(t){},t.prototype.Kc=function(t,e,n){},t.prototype.zc=function(t){return this.fl.yc(t),this.dl[t]||"not-current"},t.prototype.Zc=function(t,e,n){this.dl[t]=e},t.prototype.Yc=function(t){this.fl.pc(t)},t.prototype.Jc=function(t){return this.fl.activeTargetIds.has(t)},t.prototype.Xc=function(t){delete this.dl[t]},t.prototype.Bc=function(){return this.fl.activeTargetIds},t.prototype.Wc=function(t){return this.fl.activeTargetIds.has(t)},t.prototype.start=function(){return this.fl=new zs,Promise.resolve()},t.prototype.Ah=function(t,e,n){},t.prototype.el=function(t){},t.prototype._r=function(){},t.prototype.ds=function(t){},t}(),Gs=function(t){this.key=t},Ws=function(t){this.key=t},Ys=function(){function t(t,e){this.query=t,this.wl=e,this.Tl=null,this.Ht=!1,this.El=ht(),this.Lt=ht(),this.Il=bn(t),this.ml=new pt(this.Il)}return Object.defineProperty(t.prototype,"Al",{get:function(){return this.wl},enumerable:!1,configurable:!0}),t.prototype.Rl=function(t,e){var n=this,r=e?e.Pl:new mt,i=e?e.ml:this.ml,s=e?e.Lt:this.Lt,o=i,a=!1,u=this.query.hn()&&i.size===this.query.limit?i.last():null,l=this.query.an()&&i.size===this.query.limit?i.first():null;if(t.ot((function(t,e){var c=i.get(t),h=e instanceof nn?e:null;h&&(h=vn(n.query,h)?h:null);var d=!!c&&n.Lt.has(c.key),f=!!h&&(h.Ke||n.Lt.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.gl(c,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Il(h,u)>0||l&&n.Il(h,l)<0)&&(a=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),this.query.hn()||this.query.an())for(;o.size>this.query.limit;){var c=this.query.hn()?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ml:o,Pl:r,Vl:a,Lt:s}},t.prototype.gl=function(t,e){return t.Ke&&e.hasCommittedMutations&&!e.Ke},t.prototype.qn=function(t,e,n){var r=this,i=this.ml;this.ml=t.ml,this.Lt=t.Lt;var s=t.Pl.Mt();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return m()}};return n(t)-n(e)}(t.type,e.type)||r.Il(t.doc,e.doc)})),this.yl(n);var o=e?this.pl():[],a=0===this.El.size&&this.Ht?1:0,u=a!==this.Tl;return this.Tl=a,0!==s.length||u?{snapshot:new gt(this.query,t.ml,i,s,t.Lt,0===a,u,!1),bl:o}:{bl:o}},t.prototype.vl=function(t){return this.Ht&&"Offline"===t?(this.Ht=!1,this.qn({ml:this.ml,Pl:new mt,Lt:this.Lt,Vl:!1},!1)):{bl:[]}},t.prototype.Sl=function(t){return!this.wl.has(t)&&!!this.ml.has(t)&&!this.ml.get(t).Ke},t.prototype.yl=function(t){var e=this;t&&(t.Yt.forEach((function(t){return e.wl=e.wl.add(t)})),t.Jt.forEach((function(t){})),t.Xt.forEach((function(t){return e.wl=e.wl.delete(t)})),this.Ht=t.Ht)},t.prototype.pl=function(){var t=this;if(!this.Ht)return[];var e=this.El;this.El=ht(),this.ml.forEach((function(e){t.Sl(e.key)&&(t.El=t.El.add(e.key))}));var n=[];return e.forEach((function(e){t.El.has(e)||n.push(new Ws(e))})),this.El.forEach((function(t){e.has(t)||n.push(new Gs(t))})),n},t.prototype.Dl=function(t){this.wl=t.Mh,this.El=ht();var e=this.Rl(t.documents);return this.qn(e,!0)},t.prototype.Cl=function(){return gt.Ut(this.query,this.ml,this.Lt,0===this.Tl)},t}(),Ks=function(){function t(t,e,n,r){this.ao=t,this.wu=e,this.updateFunction=n,this.lo=r,this.Fl=5,this.Po=new Hn(this.ao,"transaction_retry")}return t.prototype.run=function(){this.$l()},t.prototype.$l=function(){var t=this;this.Po.ys((function(){return i.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return i.__generator(this,(function(r){return t=new Rs(this.wu),(e=this.Nl(t))&&e.then((function(e){n.ao.Zi((function(){return t.commit().then((function(){n.lo.resolve(e)})).catch((function(t){n.kl(t)}))}))})).catch((function(t){n.kl(t)})),[2]}))}))}))},t.prototype.Nl=function(t){try{var e=this.updateFunction(t);return!L(e)&&e.catch&&e.then?e:(this.lo.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.lo.reject(t),null}},t.prototype.kl=function(t){var e=this;this.Fl>0&&this.xl(t)?(this.Fl-=1,this.ao.Zi((function(){return e.$l(),Promise.resolve()}))):this.lo.reject(t)},t.prototype.xl=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Z(e)}return!1},t}(),Qs=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Zs=function(t){this.key=t,this.Ml=!1},Xs=function(){function t(t,e,n,r,i,s){this.$u=t,this.Ol=e,this.wu=n,this.Ll=r,this.currentUser=i,this.ql=s,this.Bl=null,this.Ul=new D((function(t){return yn(t)}),gn),this.Wl=new Map,this.Ql=[],this.jl=new J(M.P),this.Kl=new Map,this.Gl=new bi,this.zl={},this.Hl=new Map,this.Yl=pr.si(),this.onlineState="Unknown",this.Jl=void 0}return Object.defineProperty(t.prototype,"Xl",{get:function(){return!0===this.Jl},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){this.Bl=t},t.prototype.listen=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,s;return i.__generator(this,(function(i){switch(i.label){case 0:return this.Zl("listen()"),(n=this.Ul.get(t))?(this.Ll.zc(n.targetId),e=n.view.Cl(),[3,4]):[3,1];case 1:return[4,this.$u.Nh(dn(t))];case 2:return r=i.sent(),s=this.Ll.zc(r.targetId),[4,this.t_(t,r.targetId,"current"===s)];case 3:e=i.sent(),this.Xl&&this.Ol.listen(r),i.label=4;case 4:return[2,e]}}))}))},t.prototype.t_=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,s,o,a,u,l;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.$u.xh(t,!0)];case 1:return r=i.sent(),s=new Ys(t,r.Mh),o=s.Rl(r.documents),a=_t.zt(e,n&&"Offline"!==this.onlineState),u=s.qn(o,this.Xl,a),this.e_(e,u.bl),l=new Qs(t,e,s),[2,(this.Ul.set(t,l),this.Wl.has(e)?this.Wl.get(e).push(t):this.Wl.set(e,[t]),u.snapshot)]}}))}))},t.prototype.ic=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.Zl("unlisten()"),e=this.Ul.get(t),(n=this.Wl.get(e.targetId)).length>1?[2,(this.Wl.set(e.targetId,n.filter((function(e){return!gn(e,t)}))),void this.Ul.delete(t))]:this.Xl?(this.Ll.Yc(e.targetId),this.Ll.Wc(e.targetId)?[3,2]:[4,this.$u.kh(e.targetId,!1).then((function(){r.Ll.Xc(e.targetId),r.Ol.ic(e.targetId),r.n_(e.targetId)})).catch(vi)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.n_(e.targetId),[4,this.$u.kh(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s;return i.__generator(this,(function(i){switch(i.label){case 0:this.Zl("write()"),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,this.$u.Vh(t)];case 2:return n=i.sent(),this.Ll.Qc(n.batchId),this.s_(n.batchId,e),[4,this.i_(n.Cn)];case 3:return i.sent(),[4,this.Ol.tc()];case 4:return i.sent(),[3,6];case 5:return r=i.sent(),s=li(r,"Failed to persist write"),e.reject(s),[3,6];case 6:return[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new Ks(t,this.wu,e,n).run()},t.prototype.vh=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:this.Zl("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.$u.vh(t)];case 2:return e=r.sent(),t.Wt.forEach((function(t,e){var r=n.Kl.get(e);r&&(g(t.Yt.size+t.Jt.size+t.Xt.size<=1),t.Yt.size>0?r.Ml=!0:t.Jt.size>0?g(r.Ml):t.Xt.size>0&&(g(r.Ml),r.Ml=!1))})),[4,this.i_(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,vi(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.vl=function(t,e){if(this.Xl&&0===e||!this.Xl&&1===e){this.Zl("applyOnlineStateChange()");var n=[];this.Ul.forEach((function(e,r){var i=r.view.vl(t);i.snapshot&&n.push(i.snapshot)})),this.Bl.r_(t),this.Bl.nu(n),this.onlineState=t,this.Xl&&this.Ll.el(t)}},t.prototype.lc=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s,o,a,u=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.Zl("rejectListens()"),this.Ll.Zc(t,"rejected",e),n=this.Kl.get(t),(r=n&&n.key)?(s=(s=new J(M.P)).nt(r,new rn(r,N.min())),o=ht().add(r),a=new yt(N.min(),new Map,new nt(b),s,o),[4,this.vh(a)]):[3,2];case 1:return i.sent(),this.jl=this.jl.remove(r),this.Kl.delete(t),this.o_(),[3,4];case 2:return[4,this.$u.kh(t,!1).then((function(){return u.n_(t,e)})).catch(vi)];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))},t.prototype.Ec=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:this.Zl("applySuccessfulWrite()"),e=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.$u.yh(t)];case 2:return n=r.sent(),this.h_(e,null),this.a_(e),this.Ll.Kc(e,"acknowledged"),[4,this.i_(n)];case 3:return r.sent(),[3,6];case 4:return[4,vi(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.mc=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:this.Zl("rejectFailedWrite()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.$u.bh(t)];case 2:return n=r.sent(),this.h_(t,e),this.a_(t),this.Ll.Kc(t,"rejected",e),[4,this.i_(n)];case 3:return r.sent(),[3,6];case 4:return[4,vi(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.u_=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,s;return i.__generator(this,(function(i){switch(i.label){case 0:this.Ol.qu()||d("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.$u.Wr()];case 2:return-1===(e=i.sent())?[2,void t.resolve()]:((n=this.Hl.get(e)||[]).push(t),this.Hl.set(e,n),[3,4]);case 3:return r=i.sent(),s=li(r,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}}))}))},t.prototype.a_=function(t){(this.Hl.get(t)||[]).forEach((function(t){t.resolve()})),this.Hl.delete(t)},t.prototype.c_=function(t){this.Hl.forEach((function(e){e.forEach((function(e){e.reject(new k(I.CANCELLED,t))}))})),this.Hl.clear()},t.prototype.s_=function(t,e){var n=this.zl[this.currentUser.Aa()];n||(n=new J(b)),n=n.nt(t,e),this.zl[this.currentUser.Aa()]=n},t.prototype.h_=function(t,e){var n=this.zl[this.currentUser.Aa()];if(n){var r=n.get(t);r&&(e?r.reject(e):r.resolve(),n=n.remove(t)),this.zl[this.currentUser.Aa()]=n}},t.prototype.n_=function(t,e){var n=this;void 0===e&&(e=null),this.Ll.Yc(t);for(var r=0,i=this.Wl.get(t);r<i.length;r++){var s=i[r];this.Ul.delete(s),e&&this.Bl.l_(s,e)}this.Wl.delete(t),this.Xl&&this.Gl.jh(t).forEach((function(t){n.Gl.pi(t)||n.__(t)}))},t.prototype.__=function(t){var e=this.jl.get(t);null!==e&&(this.Ol.ic(e),this.jl=this.jl.remove(t),this.Kl.delete(e),this.o_())},t.prototype.e_=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof Gs?(this.Gl.Ri(i.key,t),this.f_(i)):i instanceof Ws?(d("SyncEngine","Document no longer in limbo: "+i.key),this.Gl.gi(i.key,t),this.Gl.pi(i.key)||this.__(i.key)):m()}},t.prototype.f_=function(t){var e=t.key;this.jl.get(e)||(d("SyncEngine","New document in limbo: "+e),this.Ql.push(e),this.o_())},t.prototype.o_=function(){for(;this.Ql.length>0&&this.jl.size<this.ql;){var t=this.Ql.shift(),e=this.Yl.next();this.Kl.set(e,new Zs(t)),this.jl=this.jl.nt(t,e),this.Ol.listen(new K(dn(ln(t.path)),e,2,qn.ws))}},t.prototype.d_=function(){return this.jl},t.prototype.w_=function(){return this.Ql},t.prototype.i_=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return n=[],r=[],s=[],this.Ul.forEach((function(i,a){s.push(Promise.resolve().then((function(){var e=a.view.Rl(t);return e.Vl?o.$u.xh(a.query,!1).then((function(t){return a.view.Rl(t.documents,e)})):e})).then((function(t){var i=e&&e.Wt.get(a.targetId),s=a.view.qn(t,o.Xl,i);if(o.e_(a.targetId,s.bl),s.snapshot){o.Xl&&o.Ll.Zc(a.targetId,s.snapshot.fromCache?"not-current":"current"),n.push(s.snapshot);var u=Bn.cs(a.targetId,s.snapshot);r.push(u)}})))})),[4,Promise.all(s)];case 1:return i.sent(),this.Bl.nu(n),[4,this.$u.Ch(r)];case 2:return i.sent(),[2]}}))}))},t.prototype.Zl=function(t){},t.prototype.Rc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:return this.currentUser.isEqual(t)?[3,3]:(d("SyncEngine","User change. New user:",t.Aa()),[4,this.$u.Ah(t)]);case 1:return e=n.sent(),this.currentUser=t,this.c_("'waitForPendingWrites' promise is rejected due to a user change."),this.Ll.Ah(t,e.Ph,e.gh),[4,this.i_(e.Rh)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.xe=function(t){var e=this.Kl.get(t);if(e&&e.Ml)return ht().add(e.key);var n=ht(),r=this.Wl.get(t);if(!r)return n;for(var i=0,s=r;i<s.length;i++){var o=this.Ul.get(s[i]);n=n.Ct(o.view.Al)}return n},t}();function Js(t,e,n,r,i,s,o){var a=new Xs(t,e,n,r,i,s);return o&&(a.Jl=!0),a}function to(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,(n=y(t)).$u.xh(e.query,!0)];case 1:return r=i.sent(),s=e.view.Dl(r),[2,(n.Xl&&n.e_(e.targetId,s.bl),s)]}}))}))}function eo(t,e,n,r){return i.__awaiter(this,void 0,void 0,(function(){var s,o;return i.__generator(this,(function(i){switch(i.label){case 0:return(s=y(t)).Zl("applyBatchState()"),[4,function(t,e){var n=y(t),r=y(n.jn);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Br(t,e).next((function(e){return e?n.Ih.Jn(t,e):Fn.resolve(null)}))}))}(s.$u,e)];case 1:return null===(o=i.sent())?[3,6]:"pending"!==n?[3,3]:[4,s.Ol.tc()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(s.h_(e,r||null),function(t,e){y(y(t).jn).Gr(e)}(s.$u,e)):m(),i.label=4;case 4:return[4,s.i_(o)];case 5:return i.sent(),[3,7];case 6:d("SyncEngine","Cannot apply mutation batch with id: "+e),i.label=7;case 7:return[2]}}))}))}function no(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s,o,a,u,l;return i.__generator(this,(function(i){switch(i.label){case 0:return n=y(t),!0!==e||!0===n.Jl?[3,3]:(r=n.Ll.Bc(),[4,ro(n,r.F())]);case 1:return s=i.sent(),n.Jl=!0,[4,n.Ol.Pc(!0)];case 2:for(i.sent(),o=0,a=s;o<a.length;o++)n.Ol.listen(a[o]);return[3,7];case 3:return!1!==e||!1===n.Jl?[3,7]:(u=[],l=Promise.resolve(),n.Wl.forEach((function(t,e){n.Ll.Jc(e)?u.push(e):l=l.then((function(){return n.n_(e),n.$u.kh(e,!0)})),n.Ol.ic(e)})),[4,l]);case 4:return i.sent(),[4,ro(n,u)];case 5:return i.sent(),function(t){var e=y(t);e.Kl.forEach((function(t,n){e.Ol.ic(n)})),e.Gl.Kh(),e.Kl=new Map,e.jl=new J(M.P)}(n),n.Jl=!1,[4,n.Ol.Pc(!1)];case 6:i.sent(),i.label=7;case 7:return[2]}}))}))}function ro(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s,o,a,u,l,c,h,d,f,p,m;return i.__generator(this,(function(i){switch(i.label){case 0:n=y(t),r=[],s=[],o=0,a=e,i.label=1;case 1:return o<a.length?(l=void 0,(c=n.Wl.get(u=a[o]))&&0!==c.length?[4,n.$u.Nh(dn(c[0]))]:[3,7]):[3,13];case 2:l=i.sent(),h=0,d=c,i.label=3;case 3:return h<d.length?(f=n.Ul.get(d[h]),[4,to(n,f)]):[3,6];case 4:(p=i.sent()).snapshot&&s.push(p.snapshot),i.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,_i(n.$u,u)];case 8:return m=i.sent(),[4,n.$u.Nh(m)];case 9:return l=i.sent(),[4,n.t_(io(m),u,!1)];case 10:i.sent(),i.label=11;case 11:r.push(l),i.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Bl.nu(s),r)]}}))}))}function io(t){return un(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function so(t){var e=y(t);return y(y(e.$u).persistence).Ir()}function oo(t,e,n,r){return i.__awaiter(this,void 0,void 0,(function(){var s,o,a;return i.__generator(this,(function(i){switch(i.label){case 0:return(s=y(t)).Jl?(d("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!s.Wl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,function(t){var e=y(t),n=y(e.Eh);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n.Ks(t,e.Th)})).then((function(t){var n=t.Gs;return e.Th=t.readTime,n}))}(s.$u)];case 3:return o=i.sent(),a=yt.Gt(e,"current"===n),[4,s.i_(o,a)];case 4:return i.sent(),[3,8];case 5:return[4,s.$u.kh(e,!0)];case 6:return i.sent(),s.n_(e,r),[3,8];case 7:m(),i.label=8;case 8:return[2]}}))}))}function ao(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,s,o,a,u,l,c,h,f;return i.__generator(this,(function(p){switch(p.label){case 0:if(!(r=y(t)).Jl)return[3,10];s=0,o=e,p.label=1;case 1:return s<o.length?r.Wl.has(a=o[s])?(d("SyncEngine","Adding an already active target "+a),[3,5]):[4,_i(r.$u,a)]:[3,6];case 2:return u=p.sent(),[4,r.$u.Nh(u)];case 3:return l=p.sent(),[4,r.t_(io(u),l.targetId,!1)];case 4:p.sent(),r.Ol.listen(l),p.label=5;case 5:return s++,[3,1];case 6:c=function(t){return i.__generator(this,(function(e){switch(e.label){case 0:return r.Wl.has(t)?[4,r.$u.kh(t,!1).then((function(){r.Ol.ic(t),r.n_(t)})).catch(vi)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,p.label=7;case 7:return h<f.length?[5,c(f[h])]:[3,10];case 8:p.sent(),p.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}var uo=function(){this.T_=void 0,this.listeners=[]},lo=function(){function t(t){this.oc=t,this.E_=new D((function(t){return yn(t)}),gn),this.onlineState="Unknown",this.I_=new Set,this.oc.subscribe(this)}return t.prototype.listen=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,s,o,a;return i.__generator(this,(function(i){switch(i.label){case 0:if(n=!1,(r=this.E_.get(e=t.query))||(n=!0,r=new uo),!n)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),s=r,[4,this.oc.listen(e)];case 2:return s.T_=i.sent(),[3,4];case 3:return o=i.sent(),a=li(o,"Initialization of query '"+_n(t.query)+"' failed"),[2,void t.onError(a)];case 4:return this.E_.set(e,r),r.listeners.push(t),t.vl(this.onlineState),r.T_&&t.m_(r.T_)&&this.A_(),[2]}}))}))},t.prototype.ic=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,s;return i.__generator(this,(function(i){return n=!1,(r=this.E_.get(e=t.query))&&(s=r.listeners.indexOf(t))>=0&&(r.listeners.splice(s,1),n=0===r.listeners.length),n?[2,(this.E_.delete(e),this.oc.ic(e))]:[2]}))}))},t.prototype.nu=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],s=this.E_.get(i.query);if(s){for(var o=0,a=s.listeners;o<a.length;o++)a[o].m_(i)&&(e=!0);s.T_=i}}e&&this.A_()},t.prototype.l_=function(t,e){var n=this.E_.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.E_.delete(t)},t.prototype.r_=function(t){this.onlineState=t;var e=!1;this.E_.forEach((function(n,r){for(var i=0,s=r.listeners;i<s.length;i++)s[i].vl(t)&&(e=!0)})),e&&this.A_()},t.prototype.R_=function(t){this.I_.add(t),t.next()},t.prototype.P_=function(t){this.I_.delete(t)},t.prototype.A_=function(){this.I_.forEach((function(t){t.next()}))},t}(),co=function(){function t(t,e,n){this.query=t,this.g_=e,this.V_=!1,this.y_=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.m_=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new gt(t.query,t.docs,t.Ot,e,t.Lt,t.fromCache,t.qt,!0)}var s=!1;return this.V_?this.p_(t)&&(this.g_.next(t),s=!0):this.b_(t,this.onlineState)&&(this.v_(t),s=!0),this.y_=t,s},t.prototype.onError=function(t){this.g_.error(t)},t.prototype.vl=function(t){this.onlineState=t;var e=!1;return this.y_&&!this.V_&&this.b_(this.y_,t)&&(this.v_(this.y_),e=!0),e},t.prototype.b_=function(t,e){return!t.fromCache||!(this.options.S_&&"Offline"!==e||t.docs._()&&"Offline"!==e)},t.prototype.p_=function(t){return t.docChanges.length>0||!!(t.qt||this.y_&&this.y_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.v_=function(t){t=gt.Ut(t.query,t.docs,t.Lt,t.fromCache),this.V_=!0,this.g_.next(t)},t}(),ho=function(){function t(){}return t.prototype.mh=function(t){this.D_=t},t.prototype.ts=function(t,e,n,r){var i=this;return e.on()||n.isEqual(N.min())?this.C_(t,e):this.D_.Jn(t,r).next((function(s){var a=i.F_(e,s);return(e.hn()||e.an())&&i.Vl(e.en,a,r,n)?i.C_(t,e):(h()<=o.LogLevel.DEBUG&&d("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),_n(e)),i.D_.ts(t,e,n).next((function(t){return a.forEach((function(e){t=t.nt(e.key,e)})),t})))}))},t.prototype.F_=function(t,e){var n=new nt(bn(t));return e.forEach((function(e,r){r instanceof nn&&vn(t,r)&&(n=n.add(r))})),n},t.prototype.Vl=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.o(r)>0)},t.prototype.C_=function(t,e){return h()<=o.LogLevel.DEBUG&&d("IndexFreeQueryEngine","Using full collection scan to execute query:",_n(e)),this.D_.ts(t,e,N.min())},t}(),fo=function(){function t(t,e){this.Kn=t,this.ii=e,this.jn=[],this.N_=1,this.k_=new nt(wi.Lh)}return t.prototype.Or=function(t){return Fn.resolve(0===this.jn.length)},t.prototype.Lr=function(t,e,n,r){var i=this.N_;this.N_++;var s=new Pn(i,e,n,r);this.jn.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.k_=this.k_.add(new wi(u.key,i)),this.Kn.Cs(t,u.key.path.p())}return Fn.resolve(s)},t.prototype.qr=function(t,e){return Fn.resolve(this.x_(e))},t.prototype.Ur=function(t,e){var n=this.M_(e+1),r=n<0?0:n;return Fn.resolve(this.jn.length>r?this.jn[r]:null)},t.prototype.Wr=function(){return Fn.resolve(0===this.jn.length?-1:this.N_-1)},t.prototype.Qr=function(t){return Fn.resolve(this.jn.slice())},t.prototype.zn=function(t,e){var n=this,r=new wi(e,0),i=new wi(e,Number.POSITIVE_INFINITY),s=[];return this.k_.vt([r,i],(function(t){var e=n.x_(t.zh);s.push(e)})),Fn.resolve(s)},t.prototype.Zn=function(t,e){var n=this,r=new nt(b);return e.forEach((function(t){var e=new wi(t,0),i=new wi(t,Number.POSITIVE_INFINITY);n.k_.vt([e,i],(function(t){r=r.add(t.zh)}))})),Fn.resolve(this.O_(r))},t.prototype.os=function(t,e){var n=e.path,r=n.length+1,i=n;M.W(i)||(i=i.child(""));var s=new wi(new M(i),0),o=new nt(b);return this.k_.St((function(t){var e=t.key.path;return!!n.D(e)&&(e.length===r&&(o=o.add(t.zh)),!0)}),s),Fn.resolve(this.O_(o))},t.prototype.O_=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.x_(t);null!==r&&n.push(r)})),n},t.prototype.Kr=function(t,e){var n=this;g(0===this.L_(e.batchId,"removed")),this.jn.shift();var r=this.k_;return Fn.forEach(e.mutations,(function(i){var s=new wi(i.key,e.batchId);return r=r.delete(s),n.ii.Dr(t,i.key)})).next((function(){n.k_=r}))},t.prototype.Gr=function(t){},t.prototype.pi=function(t,e){var n=new wi(e,0),r=this.k_.Dt(n);return Fn.resolve(e.isEqual(r&&r.key))},t.prototype.zr=function(t){return Fn.resolve()},t.prototype.L_=function(t,e){return this.M_(t)},t.prototype.M_=function(t){return 0===this.jn.length?0:t-this.jn[0].batchId},t.prototype.x_=function(t){var e=this.M_(t);return e<0||e>=this.jn.length?null:this.jn[e]},t}(),po=function(){function t(t,e){this.Kn=t,this.q_=e,this.docs=new J(M.P),this.size=0}return t.prototype.Nn=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.q_(e);return this.docs=this.docs.nt(r,{Ls:e,size:o,readTime:n}),this.size+=o-s,this.Kn.Cs(t,r.path.p())},t.prototype.xn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Mn=function(t,e){var n=this.docs.get(e);return Fn.resolve(n?n.Ls:null)},t.prototype.getEntries=function(t,e){var n=this,r=ot();return e.forEach((function(t){var e=n.docs.get(t);r=r.nt(t,e?e.Ls:null)})),Fn.resolve(r)},t.prototype.ts=function(t,e,n){for(var r=ut(),i=new M(e.path.child("")),s=this.docs.ut(i);s.wt();){var o=s.dt(),a=o.value,u=a.Ls,l=a.readTime;if(!e.path.D(o.key.path))break;l.o(n)<=0||u instanceof nn&&vn(e,u)&&(r=r.nt(u.key,u))}return Fn.resolve(r)},t.prototype.B_=function(t,e){return Fn.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Hs=function(e){return new t.Ys(this)},t.prototype.Xs=function(t){return Fn.resolve(this.size)},t}();po.Ys=function(t){function e(e){var n=this;return(n=t.call(this)||this).Zs=e,n}return i.__extends(e,t),e.prototype.qn=function(t){var e=this,n=[];return this.Cn.forEach((function(r,i){i?n.push(e.Zs.Nn(t,i,e.readTime)):e.Zs.xn(r)})),Fn.Sn(n)},e.prototype.On=function(t,e){return this.Zs.Mn(t,e)},e.prototype.Ln=function(t,e){return this.Zs.getEntries(t,e)},e}(Mn);var mo=function(){function t(t){this.persistence=t,this.U_=new D((function(t){return z(t)}),H),this.lastRemoteSnapshotVersion=N.min(),this.highestTargetId=0,this.W_=0,this.Q_=new bi,this.targetCount=0,this.j_=pr.ni()}return t.prototype.pe=function(t,e){return this.U_.forEach((function(t,n){return e(n)})),Fn.resolve()},t.prototype.ai=function(t){return Fn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ui=function(t){return Fn.resolve(this.W_)},t.prototype.ri=function(t){return this.highestTargetId=this.j_.next(),Fn.resolve(this.highestTargetId)},t.prototype.ci=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.W_&&(this.W_=e),Fn.resolve()},t.prototype._i=function(t){this.U_.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.j_=new pr(e),this.highestTargetId=e),t.sequenceNumber>this.W_&&(this.W_=t.sequenceNumber)},t.prototype.li=function(t,e){return this._i(e),this.targetCount+=1,Fn.resolve()},t.prototype.di=function(t,e){return this._i(e),Fn.resolve()},t.prototype.wi=function(t,e){return this.U_.delete(e.target),this.Q_.jh(e.targetId),this.targetCount-=1,Fn.resolve()},t.prototype.Ei=function(t,e,n){var r=this,i=0,s=[];return this.U_.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.U_.delete(o),s.push(r.Ti(t,a.targetId)),i++)})),Fn.Sn(s).next((function(){return i}))},t.prototype.Ii=function(t){return Fn.resolve(this.targetCount)},t.prototype.mi=function(t,e){var n=this.U_.get(e)||null;return Fn.resolve(n)},t.prototype.Ai=function(t,e,n){return this.Q_.Uh(e,n),Fn.resolve()},t.prototype.Pi=function(t,e,n){this.Q_.Qh(e,n);var r=this.persistence.ii,i=[];return r&&e.forEach((function(e){i.push(r.Dr(t,e))})),Fn.Sn(i)},t.prototype.Ti=function(t,e){return this.Q_.jh(e),Fn.resolve()},t.prototype.Vi=function(t,e){var n=this.Q_.Gh(e);return Fn.resolve(n)},t.prototype.pi=function(t,e){return Fn.resolve(this.Q_.pi(e))},t}(),go=function(){function t(t){var e=this;this.K_={},this.Ci=new qn(0),this.Fi=!1,this.Fi=!0,this.ii=t(this),this.qi=new mo(this),this.Kn=new Kn,this.Qn=new po(this.Kn,(function(t){return e.ii.G_(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype._r=function(){return this.Fi=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Hi",{get:function(){return this.Fi},enumerable:!1,configurable:!0}),t.prototype.Yi=function(){},t.prototype.Xi=function(){},t.prototype.gr=function(){return this.Kn},t.prototype.mr=function(t){var e=this.K_[t.Aa()];return e||(e=new fo(this.Kn,this.ii),this.K_[t.Aa()]=e),e},t.prototype.Rr=function(){return this.qi},t.prototype.Pr=function(){return this.Qn},t.prototype.runTransaction=function(t,e,n){var r=this;d("MemoryPersistence","Starting transaction:",t);var i=new yo(this.Ci.next());return this.ii.z_(),n(i).next((function(t){return r.ii.H_(i).next((function(){return t}))})).bn().then((function(t){return i.Wn(),t}))},t.prototype.Y_=function(t,e){return Fn.Dn(Object.values(this.K_).map((function(n){return function(){return n.pi(t,e)}})))},t}(),yo=function(t){function e(e){var n=this;return(n=t.call(this)||this).vi=e,n}return i.__extends(e,t),e}(jn),_o=function(){function t(t){this.persistence=t,this.J_=new bi,this.X_=null}return t.Z_=function(e){return new t(e)},Object.defineProperty(t.prototype,"tf",{get:function(){if(this.X_)return this.X_;throw m()},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t,e,n){return this.J_.Ri(n,e),this.tf.delete(n),Fn.resolve()},t.prototype.gi=function(t,e,n){return this.J_.gi(n,e),this.tf.add(n),Fn.resolve()},t.prototype.Dr=function(t,e){return this.tf.add(e),Fn.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.J_.jh(e.targetId).forEach((function(t){return n.tf.add(t)}));var r=this.persistence.Rr();return r.Vi(t,e.targetId).next((function(t){t.forEach((function(t){return n.tf.add(t)}))})).next((function(){return r.wi(t,e)}))},t.prototype.z_=function(){this.X_=new Set},t.prototype.H_=function(t){var e=this,n=this.persistence.Pr().Hs();return Fn.forEach(this.tf,(function(r){return e.ef(t,r).next((function(t){t||n.xn(r)}))})).next((function(){return e.X_=null,n.apply(t)}))},t.prototype.Nr=function(t,e){var n=this;return this.ef(t,e).next((function(t){t?n.tf.delete(e):n.tf.add(e)}))},t.prototype.G_=function(t){return 0},t.prototype.ef=function(t,e){var n=this;return Fn.Dn([function(){return Fn.resolve(n.J_.pi(e))},function(){return n.persistence.Rr().pi(t,e)},function(){return n.persistence.Y_(t,e)}])},t}(),vo=function(){function t(t){this.nf=t.nf,this.sf=t.sf}return t.prototype.tu=function(t){this.if=t},t.prototype.Ha=function(t){this.rf=t},t.prototype.onMessage=function(t){this.hf=t},t.prototype.close=function(){this.sf()},t.prototype.send=function(t){this.nf(t)},t.prototype.af=function(){this.if()},t.prototype.uf=function(t){this.rf(t)},t.prototype.cf=function(t){this.hf(t)},t}(),bo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},wo=function(){function t(t){this.s=t.s,this.lf=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype._f=function(t,e){if(e)for(var n in e.ga)e.ga.hasOwnProperty(n)&&(t[n]=e.ga[n]);t["X-Goog-Api-Client"]="gl-js/ fire/7.17.1"},t.prototype.fu=function(t,e,n){var r=this,i=this.ff(t);return new Promise((function(s,o){var a=new u.XhrIo;a.listenOnce(u.EventType.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var e=a.getResponseJson();d("Connection","XHR received:",JSON.stringify(e)),s(e);break;case u.ErrorCode.TIMEOUT:d("Connection",'RPC "'+t+'" timed out'),o(new k(I.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(d("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var i=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(I).indexOf(e)>=0?e:I.UNKNOWN}(r.status);o(new k(i,r.message))}else o(new k(I.UNKNOWN,"Server responded with status "+a.getStatus()))}else d("Connection",'RPC "'+t+'" failed'),o(new k(I.UNAVAILABLE,"Connection failed."));break;default:m()}}finally{d("Connection",'RPC "'+t+'" completed.')}}));var l=Object.assign({},e);delete l.database;var c=JSON.stringify(l);d("Connection","XHR sending: ",i+" "+c);var h={"Content-Type":"text/plain"};r._f(h,n),a.send(i,"POST",c,h,15)}))},t.prototype.du=function(t,e,n){return this.fu(t,e,n)},t.prototype.eu=function(t,e){var n=[this.lf,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=u.createWebChannelTransport(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this._f(s.initMessageHeaders,e),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(s.httpHeadersOverwriteParam="$httpHeaders");var l=n.join("");d("Connection","Creating WebChannel: "+l+" "+s);var h=r.createWebChannel(l,s),f=!1,m=!1,y=new vo({nf:function(t){m?d("Connection","Not sending because WebChannel is closed:",t):(f||(d("Connection","Opening WebChannel transport."),h.open(),f=!0),d("Connection","WebChannel sending:",t),h.send(t))},sf:function(){return h.close()}}),_=function(t,e){h.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return _(u.WebChannel.EventType.OPEN,(function(){m||d("Connection","WebChannel transport opened.")})),_(u.WebChannel.EventType.CLOSE,(function(){m||(m=!0,d("Connection","WebChannel transport closed"),y.uf())})),_(u.WebChannel.EventType.ERROR,(function(t){m||(m=!0,function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(c.logLevel<=o.LogLevel.WARN){var r=e.map(p);c.warn.apply(c,i.__spreadArrays(["Firestore (7.17.1): "+t],r))}}("Connection","WebChannel transport errored:",t),y.uf(new k(I.UNAVAILABLE,"The operation could not be completed")))})),_(u.WebChannel.EventType.MESSAGE,(function(t){var e;if(!m){var n=t.data[0];g(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){d("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=W[t];if(void 0!==e)return X(e)}(i),o=r.message;void 0===s&&(s=I.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),m=!0,y.uf(new k(s,o)),h.close()}else d("Connection","WebChannel received:",n),y.cf(n)}})),setTimeout((function(){y.af()}),0),y},t.prototype.ff=function(t){return this.lf+"/v1/projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents:"+bo[t]},t}(),Eo=function(){function t(){var t=this;this.df=function(){return t.wf()},this.Tf=function(){return t.Ef()},this.If=[],this.mf()}return t.prototype.Lu=function(t){this.If.push(t)},t.prototype._r=function(){window.removeEventListener("online",this.df),window.removeEventListener("offline",this.Tf)},t.prototype.mf=function(){window.addEventListener("online",this.df),window.addEventListener("offline",this.Tf)},t.prototype.wf=function(){d("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.If;t<e.length;t++)(0,e[t])(0)},t.prototype.Ef=function(){d("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.If;t<e.length;t++)(0,e[t])(1)},t.Oi=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Co=function(){function t(){}return t.prototype.Lu=function(t){},t.prototype._r=function(){},t}(),So="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Ao=function(){function t(){}return t.prototype.initialize=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return this.Ll=this.Af(t),this.persistence=this.Rf(t),[4,this.persistence.start()];case 1:return r.sent(),this.Pf=this.gf(t),this.$u=this.Vf(t),this.wu=this.yf(t),[4,this.pf(t)];case 2:return e=r.sent(),this.wu.start(e),this.Ol=this.bf(t),this.oc=this.vf(t),this.Sf=this.Df(t),this.Ll.Vu=function(t){return n.oc.vl(t,1)},this.Ol.oc=this.oc,[4,this.Ll.start()];case 3:return r.sent(),[4,this.Ol.start()];case 4:return r.sent(),[4,this.Ol.Pc(this.oc.Xl)];case 5:return r.sent(),[2]}}))}))},t.prototype.pf=function(t){return Promise.resolve(new wo(t.Cf))},t.prototype.Df=function(t){return new lo(this.oc)},t.prototype.gf=function(t){return null},t.prototype.Vf=function(t){return yi(this.persistence,new ho,t.Ff)},t.prototype.Rf=function(t){if(t.Nf.$f)throw new k(I.FAILED_PRECONDITION,So);return new go(_o.Z_)},t.prototype.yf=function(t){var e=rs(t.Cf.s);return function(t,e){return new Ns(t,e)}(t.credentials,e)},t.prototype.bf=function(t){var e=this;return new Vs(this.$u,this.wu,t.ao,(function(t){return e.oc.vl(t,0)}),Eo.Oi()?new Eo:new Co)},t.prototype.Af=function(t){return new $s},t.prototype.vf=function(t){return Js(this.$u,this.Ol,this.wu,this.Ll,t.Ff,t.ql,!0)},t.prototype.clearPersistence=function(t,e){throw new k(I.FAILED_PRECONDITION,So)},t}(),xo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.initialize=function(e){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,this.persistence.zi((function(t){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,no(this.oc,t)];case 1:return e.sent(),this.Pf&&(t&&!this.Pf.Hi?this.Pf.start(this.$u):t||this.Pf.stop()),[2]}}))}))}))];case 2:return r.sent(),[4,function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){return e=y(t),n=y(e.Eh),[2,e.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return n.zs(t)})).then((function(t){e.Th=t}))]}))}))}(this.$u)];case 3:return r.sent(),[2]}}))}))},e.prototype.vf=function(t){var e=Js(this.$u,this.Ol,this.wu,this.Ll,t.Ff,t.ql,!t.Nf.$f||!t.Nf.synchronizeTabs);return this.Ll instanceof Hs&&(this.Ll.oc={cl:eo.bind(null,e),ll:oo.bind(null,e),_l:ao.bind(null,e),Ir:so.bind(null,e)}),e},e.prototype.Af=function(t){if(t.Nf.$f&&t.Nf.synchronizeTabs){var e=oi();if(!Hs.Oi(e))throw new k(I.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=xr(t.Cf.s,t.Cf.persistenceKey);return new Hs(e,t.ao,n,t.clientId,t.Ff)}return new $s},e}(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.Vf=function(t){return yi(this.persistence,new ho,t.Ff)},e.prototype.gf=function(t){return new pi(this.persistence.ii.yr,t.ao)},e.prototype.Rf=function(t){var e=xr(t.Cf.s,t.Cf.persistenceKey),n=rs(t.Cf.s);return new wr(t.Nf.synchronizeTabs,e,t.clientId,fi.Ho(t.Nf.cacheSizeBytes),t.ao,oi(),"undefined"!=typeof document?document:null,n,this.Ll,t.Nf.Di)},e.prototype.Af=function(t){return new $s},e.prototype.clearPersistence=function(t,e){return function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return Zr.Oi()?[4,Zr.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(xr(t,e))},e}(Ao)),To=function(){function t(t,e){this.credentials=t,this.ao=e,this.clientId=v.t()}return t.prototype.start=function(t,e,n){var r=this;this.kf(),this.Cf=t;var i=new zn,s=new zn,o=!1;return this.credentials.pa((function(t){if(!o)return o=!0,d("FirestoreClient","Initializing. user=",t.uid),r.xf(e,n,t,s).then(i.resolve,i.reject);r.ao.er((function(){return r.Ol.Rc(t)}))})),this.ao.Zi((function(){return i.promise})),s.promise},t.prototype.enableNetwork=function(){var t=this;return this.kf(),this.ao.enqueue((function(){return t.persistence.Xi(!0),t.Ol.enableNetwork()}))},t.prototype.xf=function(t,e,n,r){return i.__awaiter(this,void 0,void 0,(function(){var s,o=this;return i.__generator(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t.initialize({ao:this.ao,Cf:this.Cf,clientId:this.clientId,credentials:this.credentials,Ff:n,ql:100,Nf:e})];case 1:return a.sent(),this.persistence=t.persistence,this.Ll=t.Ll,this.$u=t.$u,this.Ol=t.Ol,this.oc=t.oc,this.Pf=t.Pf,this.Mf=t.Sf,this.persistence.Yi((function(){return i.__awaiter(o,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),r.resolve(),[3,3];case 2:if(s=a.sent(),r.reject(s),!this.Of(s))throw s;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),this.xf(new Ao,{$f:!1},n,r))];case 3:return[2]}}))}))},t.prototype.Of=function(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.kf=function(){if(this.ao.yo)throw new k(I.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.kf(),this.ao.enqueue((function(){return t.persistence.Xi(!1),t.Ol.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.ao.Do((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Pf&&this.Pf.stop(),[4,this.Ol._r()];case 1:return t.sent(),[4,this.Ll._r()];case 2:return t.sent(),[4,this.persistence._r()];case 3:return t.sent(),this.credentials.ba(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.kf();var e=new zn;return this.ao.Zi((function(){return t.oc.u_(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.kf();var i=new co(t,e,n);return this.ao.Zi((function(){return r.Mf.listen(i)})),i},t.prototype.ic=function(t){var e=this;this.Lf||this.ao.Zi((function(){return e.Mf.ic(t)}))},t.prototype.qf=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return this.kf(),e=new zn,[4,this.ao.enqueue((function(){return i.__awaiter(n,void 0,void 0,(function(){var n,r,s;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.$u.$h(t)];case 1:return(n=i.sent())instanceof nn?e.resolve(n):n instanceof rn?e.resolve(null):e.reject(new k(I.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=i.sent(),s=li(r,"Failed to get document '"+t+" from cache"),e.reject(s),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(r.sent(),e.promise)]}}))}))},t.prototype.Bf=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return this.kf(),e=new zn,[4,this.ao.enqueue((function(){return i.__awaiter(n,void 0,void 0,(function(){var n,r,s,o,a,u;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.$u.xh(t,!0)];case 1:return n=i.sent(),r=new Ys(t,n.Mh),s=r.Rl(n.documents),o=r.qn(s,!1),e.resolve(o.snapshot),[3,3];case 2:return a=i.sent(),u=li(a,"Failed to execute query '"+t+" against cache"),e.reject(u),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(r.sent(),e.promise)]}}))}))},t.prototype.write=function(t){var e=this;this.kf();var n=new zn;return this.ao.Zi((function(){return e.oc.write(t,n)})),n.promise},t.prototype.s=function(){return this.Cf.s},t.prototype.R_=function(t){var e=this;this.kf(),this.ao.Zi((function(){return e.Mf.R_(t),Promise.resolve()}))},t.prototype.P_=function(t){var e=this;this.Lf||this.ao.Zi((function(){return e.Mf.P_(t),Promise.resolve()}))},Object.defineProperty(t.prototype,"Lf",{get:function(){return this.ao.yo},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.kf();var n=new zn;return this.ao.Zi((function(){return e.oc.runTransaction(e.ao,t,n),Promise.resolve()})),n.promise},t}(),Do=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.Uf(this.observer.next,t)},t.prototype.error=function(t){this.Uf(this.observer.error,t)},t.prototype.Wf=function(){this.muted=!0},t.prototype.Uf=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function Io(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var ko=function(){function t(t,e,n,r){this.s=t,this.timestampsInSnapshots=e,this.Qf=n,this.jf=r}return t.prototype.Kf=function(t){switch(It(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ft(t.integerValue||t.doubleValue);case 3:return this.Gf(t.timestampValue);case 4:return this.zf(t);case 5:return t.stringValue;case 6:return new zi(Mt(t.bytesValue));case 7:return this.Hf(t.referenceValue);case 8:return this.Yf(t.geoPointValue);case 9:return this.Jf(t.arrayValue);case 10:return this.Xf(t.mapValue);default:throw m()}},t.prototype.Xf=function(t){var e=this,n={};return x(t.fields||{},(function(t,r){n[t]=e.Kf(r)})),n},t.prototype.Yf=function(t){return new ns(Ft(t.latitude),Ft(t.longitude))},t.prototype.Jf=function(t){var e=this;return(t.values||[]).map((function(t){return e.Kf(t)}))},t.prototype.zf=function(t){switch(this.Qf){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return xt(n)?t(n):n}(t);return null==e?null:this.Kf(e);case"estimate":return this.Gf(Tt(t));default:return null}},t.prototype.Gf=function(t){var e=Vt(t),n=new O(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.Hf=function(t){var e=P.N(t);g(be(e));var n=new S(e.get(1),e.get(3)),r=new M(e.V(5));return n.isEqual(this.s)||f("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.s.projectId+"/"+this.s.database+") instead."),this.jf(r)},t}(),Oo=fi.Xo,No=function(){function t(t){var e,n,r,i;if(void 0===t.host){if(void 0!==t.ssl)throw new k(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else Di("settings","non-empty string","host",t.host),this.host=t.host,Ii("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(Fi("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),Ii("settings","object","credentials",t.credentials),this.credentials=t.credentials,Ii("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),Ii("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?f("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&f("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,Ii("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=fi.th;else{if(t.cacheSizeBytes!==Oo&&t.cacheSizeBytes<fi.Zo)throw new k(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+fi.Zo);this.cacheSizeBytes=t.cacheSizeBytes}Ii("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Ro=function(){function t(e,n,r){var s=this;if(void 0===r&&(r=new Ao),this.Zf=null,this.td=new ui,this.INTERNAL={delete:function(){return i.__awaiter(s,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.ed(),[4,this.nd.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var o=e;this.Zf=o,this.aa=t.sd(o),this.rd=o.name,this.od=new xs(n)}else{var a=e;if(!a.projectId)throw new k(I.INVALID_ARGUMENT,"Must provide projectId");this.aa=new S(a.projectId,a.database),this.rd="[DEFAULT]",this.od=new As}this.hd=r,this.ad=new No({})}return Object.defineProperty(t.prototype,"ud",{get:function(){return this.ld||(this.ld=new cs(this.aa,this.ad.ignoreUndefinedProperties)),this.ld},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){Ci("Firestore.settings",arguments,1),xi("Firestore.settings","object",1,t);var e=new No(t);if(this.nd&&!this.ad.isEqual(e))throw new k(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.ad=e,void 0!==e.credentials&&(this.od=function(t){if(!t)return new As;switch(t.type){case"gapi":var e=t._d;return g(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ds(e,t.$a||"0");case"provider":return t._d;default:throw new k(I.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ed(),this.nd.enableNetwork()},t.prototype.disableNetwork=function(){return this.ed(),this.nd.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.nd)throw new k(I.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&f("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new k(I.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.fd(this.hd,{$f:!0,cacheSizeBytes:this.ad.cacheSizeBytes,synchronizeTabs:r,Di:i})},t.prototype.clearPersistence=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){if(void 0!==this.nd&&!this.nd.Lf)throw new k(I.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new zn,[2,(this.td.po((function(){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.hd.clearPersistence(this.aa,this.rd)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"dd",{get:function(){return this.ed(),this.nd.Lf},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.ed(),this.nd.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.ed(),Io(t)?Po(this.nd,t):(xi("Firestore.onSnapshotsInSync","function",1,t),Po(this.nd,{next:t}))},t.prototype.ed=function(){return this.nd||this.fd(new Ao,{$f:!1}),this.nd},t.prototype.wd=function(){return new C(this.aa,this.rd,this.ad.host,this.ad.ssl,this.ad.forceLongPolling)},t.prototype.fd=function(t,e){var n=this.wd();return this.nd=new To(this.od,this.td),this.nd.start(n,t,e)},t.sd=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new k(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new k(I.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new S(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Zf)throw new k(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return Ci("Firestore.collection",arguments,1),xi("Firestore.collection","non-empty string",1,t),this.ed(),new Zo(P.N(t),this,null)},t.prototype.doc=function(t){return Ci("Firestore.doc",arguments,1),xi("Firestore.doc","non-empty string",1,t),this.ed(),Mo.Td(P.N(t),this,null)},t.prototype.collectionGroup=function(t){if(Ci("Firestore.collectionGroup",arguments,1),xi("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new k(I.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ed(),new Yo(function(t){return new an(P.k(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return Ci("Firestore.runTransaction",arguments,1),xi("Firestore.runTransaction","function",1,t),this.ed().transaction((function(n){return t(new Vo(e,n))}))},t.prototype.batch=function(){return this.ed(),new Fo(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(h()){case o.LogLevel.DEBUG:return"debug";case o.LogLevel.ERROR:return"error";case o.LogLevel.SILENT:return"silent";case o.LogLevel.WARN:return"warn";case o.LogLevel.INFO:return"info";case o.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){Ci("Firestore.setLogLevel",arguments,1),Oi("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),c.setLogLevel(t)},t.prototype.Ed=function(){return this.ad.timestampsInSnapshots},t}();function Po(t,e){var n=new Do({next:function(){e.next&&e.next()},error:function(t){throw m()}});return t.R_(n),function(){n.Wf(),t.P_(n)}}var Vo=function(){function t(t,e){this.Id=t,this.md=e}return t.prototype.get=function(t){var e=this;Ci("Transaction.get",arguments,1);var n=ea("Transaction.get",t,this.Id);return this.md.Au([n.ua]).then((function(t){if(!t||1!==t.length)return m();var r=t[0];if(r instanceof rn)return new Uo(e.Id,n.ua,null,!1,!1,n.ca);if(r instanceof nn)return new Uo(e.Id,n.ua,r,!1,!1,n.ca);throw m()}))},t.prototype.set=function(t,e,n){Ai("Transaction.set",arguments,2,3);var r=ea("Transaction.set",t,this.Id);n=Xo("Transaction.set",n);var i=ra(r.ca,e,n),s=hs(this.Id.ud,"Transaction.set",r.ua,i,null!==r.ca,n);return this.md.set(r.ua,s),this},t.prototype.update=function(t,e,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return"string"==typeof e||e instanceof $i?(Si("Transaction.update",arguments,3),r=ea("Transaction.update",t,this.Id),i=fs(this.Id.ud,"Transaction.update",r.ua,e,n,s)):(Ci("Transaction.update",arguments,2),r=ea("Transaction.update",t,this.Id),i=ds(this.Id.ud,"Transaction.update",r.ua,e)),this.md.update(r.ua,i),this},t.prototype.delete=function(t){Ci("Transaction.delete",arguments,1);var e=ea("Transaction.delete",t,this.Id);return this.md.delete(e.ua),this},t}(),Fo=function(){function t(t){this.Id=t,this.Ad=[],this.Rd=!1}return t.prototype.set=function(t,e,n){Ai("WriteBatch.set",arguments,2,3),this.Pd();var r=ea("WriteBatch.set",t,this.Id);n=Xo("WriteBatch.set",n);var i=ra(r.ca,e,n),s=hs(this.Id.ud,"WriteBatch.set",r.ua,i,null!==r.ca,n);return this.Ad=this.Ad.concat(s.la(r.ua,Fe.We())),this},t.prototype.update=function(t,e,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return this.Pd(),"string"==typeof e||e instanceof $i?(Si("WriteBatch.update",arguments,3),r=ea("WriteBatch.update",t,this.Id),i=fs(this.Id.ud,"WriteBatch.update",r.ua,e,n,s)):(Ci("WriteBatch.update",arguments,2),r=ea("WriteBatch.update",t,this.Id),i=ds(this.Id.ud,"WriteBatch.update",r.ua,e)),this.Ad=this.Ad.concat(i.la(r.ua,Fe.exists(!0))),this},t.prototype.delete=function(t){Ci("WriteBatch.delete",arguments,1),this.Pd();var e=ea("WriteBatch.delete",t,this.Id);return this.Ad=this.Ad.concat(new Qe(e.ua,Fe.We())),this},t.prototype.commit=function(){return this.Pd(),this.Rd=!0,this.Ad.length>0?this.Id.ed().write(this.Ad):Promise.resolve()},t.prototype.Pd=function(){if(this.Rd)throw new k(I.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Mo=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.aa,e,r)||this).ua=e,i.firestore=n,i.ca=r,i.nd=i.firestore.ed(),i}return i.__extends(e,t),e.Td=function(t,n,r){if(t.length%2!=0)throw new k(I.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.$()+" has "+t.length);return new e(new M(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.ua.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Zo(this.ua.path.p(),this.firestore,this.ca)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.ua.path.$()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(Ci("DocumentReference.collection",arguments,1),xi("DocumentReference.collection","non-empty string",1,t),!t)throw new k(I.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=P.N(t);return new Zo(this.ua.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Mi("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.ua.isEqual(t.ua)&&this.ca===t.ca},e.prototype.set=function(t,e){Ai("DocumentReference.set",arguments,1,2),e=Xo("DocumentReference.set",e);var n=ra(this.ca,t,e),r=hs(this.firestore.ud,"DocumentReference.set",this.ua,n,null!==this.ca,e);return this.nd.write(r.la(this.ua,Fe.We()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof $i?(Si("DocumentReference.update",arguments,2),n=fs(this.firestore.ud,"DocumentReference.update",this.ua,t,e,r)):(Ci("DocumentReference.update",arguments,1),n=ds(this.firestore.ud,"DocumentReference.update",this.ua,t)),this.nd.write(n.la(this.ua,Fe.exists(!0)))},e.prototype.delete=function(){return Ci("DocumentReference.delete",arguments,0),this.nd.write([new Qe(this.ua,Fe.We())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];Ai("DocumentReference.onSnapshot",arguments,1,4);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Io(i[a])||(Fi("DocumentReference.onSnapshot",o=i[a],["includeMetadataChanges"]),Ii("DocumentReference.onSnapshot","boolean","includeMetadataChanges",o.includeMetadataChanges),a++);var u={includeMetadataChanges:o.includeMetadataChanges};if(Io(i[a])){var l=i[a];i[a]=null===(t=l.next)||void 0===t?void 0:t.bind(l),i[a+1]=null===(e=l.error)||void 0===e?void 0:e.bind(l),i[a+2]=null===(n=l.complete)||void 0===n?void 0:n.bind(l)}else xi("DocumentReference.onSnapshot","function",a,i[a]),Ti("DocumentReference.onSnapshot","function",a+1,i[a+1]),Ti("DocumentReference.onSnapshot","function",a+2,i[a+2]);var c={next:function(t){i[a]&&i[a](r.gd(t))},error:i[a+1],complete:i[a+2]};return Lo(this.nd,this.ua,u,c)},e.prototype.get=function(t){var e=this;return Ai("DocumentReference.get",arguments,0,1),ta("DocumentReference.get",t),t&&"cache"===t.source?this.firestore.ed().qf(this.ua).then((function(t){return new Uo(e.firestore,e.ua,t,!0,t instanceof nn&&t.Ke,e.ca)})):function(t,e,n){var r=new zn,i=Lo(t,e,{includeMetadataChanges:!0,S_:!0},{next:function(t){i();var s=t.docs.has(e);!s&&t.fromCache?r.reject(new k(I.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&t.fromCache&&n&&"server"===n.source?r.reject(new k(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(t)},error:function(t){return r.reject(t)}});return r.promise}(this.nd,this.ua,t).then((function(t){return e.gd(t)}))},e.prototype.withConverter=function(t){return new e(this.ua,this.firestore,t)},e.prototype.gd=function(t){var e=t.docs.get(this.ua);return new Uo(this.firestore,this.ua,e,t.fromCache,t.hasPendingWrites,this.ca)},e}(ss);function Lo(t,e,n,r){var i=function(t){console.error("Uncaught Error in onSnapshot:",t)};r.error&&(i=r.error.bind(r));var s=new Do({next:function(t){r.next&&r.next(t)},error:i}),o=t.listen(ln(e.path),s,n);return function(){s.Wf(),t.ic(o)}}var jo=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Uo=function(){function t(t,e,n,r,i,s){this.Id=t,this.ua=e,this.Vd=n,this.yd=r,this.pd=i,this.ca=s}return t.prototype.data=function(t){var e=this;if(Ai("DocumentSnapshot.data",arguments,0,1),t=Jo("DocumentSnapshot.data",t),this.Vd){if(this.ca){var n=new Bo(this.Id,this.ua,this.Vd,this.yd,this.pd,null);return this.ca.fromFirestore(n,t)}return new ko(this.Id.aa,this.Id.Ed(),t.serverTimestamps||"none",(function(t){return new Mo(t,e.Id,null)})).Kf(this.Vd.Ze())}},t.prototype.get=function(t,e){var n=this;if(Ai("DocumentSnapshot.get",arguments,1,2),e=Jo("DocumentSnapshot.get",e),this.Vd){var r=this.Vd.data().field(vs("DocumentSnapshot.get",t,this.ua));if(null!==r)return new ko(this.Id.aa,this.Id.Ed(),e.serverTimestamps||"none",(function(t){return new Mo(t,n.Id,n.ca)})).Kf(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.ua.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Mo(this.ua,this.Id,this.ca)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Vd},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new jo(this.pd,this.yd)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw Mi("isEqual","DocumentSnapshot",1,e);return this.Id===e.Id&&this.yd===e.yd&&this.ua.isEqual(e.ua)&&(null===this.Vd?null===e.Vd:this.Vd.isEqual(e.Vd))&&this.ca===e.ca},t}(),Bo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Uo);function qo(t,e,n,r,i,s,o){var a;if(i.O()){if("array-contains"===s||"array-contains-any"===s)throw new k(I.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s){$o(o,s);for(var u=[],l=0,c=o;l<c.length;l++)u.push(Ho(r,t,c[l]));a={arrayValue:{values:u}}}else a=Ho(r,t,o)}else"in"!==s&&"array-contains-any"!==s||$o(o,s),a=ps(n,e,o,"in"===s);var h=wn.create(i,s,a);return function(t,e){if(e instanceof wn){var n=["array-contains","array-contains-any"],r=["in","array-contains-any"],i=n.indexOf(e.op)>=0,s=r.indexOf(e.op)>=0;if(e.ln()){var o=t.cn();if(null!==o&&!o.isEqual(e.field))throw new k(I.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+e.field.toString()+"'");var a=t.un();null!==a&&Go(0,e.field,a)}else if(s||i){var u=null;if(s&&(u=t._n(r)),null===u&&i&&(u=t._n(n)),null!==u)throw new k(I.INVALID_ARGUMENT,u===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+u.toString()+"' filters.")}}}(t,h),h}function zo(t,e,n){if(null!==t.startAt)throw new k(I.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new k(I.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new On(e,n);return function(t,e){if(null===t.un()){var n=t.cn();null!==n&&Go(0,n,e.field)}}(t,r),r}function Ho(t,e,n){if("string"==typeof n){if(""===n)throw new k(I.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!cn(e)&&-1!==n.indexOf("/"))throw new k(I.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(P.N(n));if(!M.W(r))throw new k(I.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Lt(t,new M(r))}if(n instanceof ss)return Lt(t,n.ua);throw new k(I.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Pi(n)+".")}function $o(t,e){if(!Array.isArray(t)||0===t.length)throw new k(I.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new k(I.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new k(I.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new k(I.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}function Go(t,e,n){if(!n.isEqual(e))throw new k(I.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Wo(t){if(t.an()&&0===t.tn.length)throw new k(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Yo=function(){function t(t,e,n){this.bd=t,this.firestore=e,this.ca=n}return t.prototype.where=function(e,n,r){Ci("Query.where",arguments,3),Vi("Query.where",3,r);var i=Oi("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,n),s=vs("Query.where",e),o=qo(this.bd,"Query.where",this.firestore.ud,this.firestore.aa,s,i,r);return new t(function(t,e){var n=t.filters.concat([e]);return new an(t.path,t.collectionGroup,t.tn.slice(),n,t.limit,t.en,t.startAt,t.endAt)}(this.bd,o),this.firestore,this.ca)},t.prototype.orderBy=function(e,n){var r;if(Ai("Query.orderBy",arguments,1,2),Ti("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new k(I.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=vs("Query.orderBy",e),s=zo(this.bd,i,r);return new t(function(t,e){var n=t.tn.concat([e]);return new an(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.en,t.startAt,t.endAt)}(this.bd,s),this.firestore,this.ca)},t.prototype.limit=function(e){return Ci("Query.limit",arguments,1),xi("Query.limit","number",1,e),Li("Query.limit",1,e),new t(fn(this.bd,e,"F"),this.firestore,this.ca)},t.prototype.limitToLast=function(e){return Ci("Query.limitToLast",arguments,1),xi("Query.limitToLast","number",1,e),Li("Query.limitToLast",1,e),new t(fn(this.bd,e,"L"),this.firestore,this.ca)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Si("Query.startAt",arguments,1);var i=this.vd("Query.startAt",e,n,!0);return new t(pn(this.bd,i),this.firestore,this.ca)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Si("Query.startAfter",arguments,1);var i=this.vd("Query.startAfter",e,n,!1);return new t(pn(this.bd,i),this.firestore,this.ca)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Si("Query.endBefore",arguments,1);var i=this.vd("Query.endBefore",e,n,!0);return new t(mn(this.bd,i),this.firestore,this.ca)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Si("Query.endAt",arguments,1);var i=this.vd("Query.endAt",e,n,!1);return new t(mn(this.bd,i),this.firestore,this.ca)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Mi("isEqual","Query",1,e);return this.firestore===e.firestore&&gn(this.bd,e.bd)&&this.ca===e.ca},t.prototype.withConverter=function(e){return new t(this.bd,this.firestore,e)},t.prototype.vd=function(t,e,n,r){if(Vi(t,1,e),e instanceof Uo)return Ci(t,i.__spreadArrays([e],n),1),function(t,e,n,r,i){if(!r)throw new k(I.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=hn(t);o<a.length;o++){var u=a[o];if(u.field.O())s.push(Lt(e,r.key));else{var l=r.field(u.field);if(xt(l))throw new k(I.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var c=u.field.$();throw new k(I.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}s.push(l)}}return new Tn(s,i)}(this.bd,this.firestore.aa,t,e.Vd,r);var s=[e].concat(n);return function(t,e,n,r,i,s){var o=t.tn;if(i.length>o.length)throw new k(I.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var l=i[u];if(o[u].field.O()){if("string"!=typeof l)throw new k(I.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!cn(t)&&-1!==l.indexOf("/"))throw new k(I.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var c=t.path.child(P.N(l));if(!M.W(c))throw new k(I.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var h=new M(c);a.push(Lt(e,h))}else{var d=ps(n,r,l);a.push(d)}}return new Tn(a,s)}(this.bd,this.firestore.aa,this.firestore.ud,t,s,r)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];Ai("Query.onSnapshot",arguments,1,4);var o={},a=0;if("object"!=typeof i[a]||Io(i[a])||(Fi("Query.onSnapshot",o=i[a],["includeMetadataChanges"]),Ii("Query.onSnapshot","boolean","includeMetadataChanges",o.includeMetadataChanges),a++),Io(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else xi("Query.onSnapshot","function",a,i[a]),Ti("Query.onSnapshot","function",a+1,i[a+1]),Ti("Query.onSnapshot","function",a+2,i[a+2]);var l={next:function(t){i[a]&&i[a](new Qo(r.firestore,r.bd,t,r.ca))},error:i[a+1],complete:i[a+2]};return Wo(this.bd),Ko(this.firestore.ed(),this.bd,o,l)},t.prototype.get=function(t){var e=this;Ai("Query.get",arguments,0,1),ta("Query.get",t),Wo(this.bd);var n=this.firestore.ed();return(t&&"cache"===t.source?n.Bf(this.bd):function(t,e,n){var r=new zn,i=Ko(t,e,{includeMetadataChanges:!0,S_:!0},{next:function(t){i(),t.fromCache&&n&&"server"===n.source?r.reject(new k(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(t)},error:function(t){return r.reject(t)}});return r.promise}(n,this.bd,t)).then((function(t){return new Qo(e.firestore,e.bd,t,e.ca)}))},t}();function Ko(t,e,n,r){var i=function(t){console.error("Uncaught Error in onSnapshot:",t)};r.error&&(i=r.error.bind(r));var s=new Do({next:function(t){r.next&&r.next(t)},error:i}),o=t.listen(e,s,n);return function(){s.Wf(),t.ic(o)}}var Qo=function(){function t(t,e,n,r){this.Id=t,this.Sd=e,this.Dd=n,this.ca=r,this.Cd=null,this.Fd=null,this.metadata=new jo(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Dd.docs._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Dd.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;Ai("QuerySnapshot.forEach",arguments,1,2),xi("QuerySnapshot.forEach","function",1,t),this.Dd.docs.forEach((function(r){t.call(e,n.$d(r,n.metadata.fromCache,n.Dd.Lt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new Yo(this.Sd,this.Id,this.ca)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(Fi("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),Ii("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Dd.Bt)throw new k(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Cd&&this.Fd===e||(this.Cd=function(t,e,n){if(t.Ot._()){var r=0;return t.docChanges.map((function(e){return{type:"added",doc:n(e.doc,t.fromCache,t.Lt.has(e.doc.key)),oldIndex:-1,newIndex:r++}}))}var i=t.Ot;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Lt.has(e.doc.key)),s=-1,o=-1;return 0!==e.type&&(s=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(o=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:na(e.type),doc:r,oldIndex:s,newIndex:o}}))}(this.Dd,e,this.$d.bind(this)),this.Fd=e),this.Cd},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Mi("isEqual","QuerySnapshot",1,e);return this.Id===e.Id&&gn(this.Sd,e.Sd)&&this.Dd.isEqual(e.Dd)&&this.ca===e.ca},t.prototype.$d=function(t,e,n){return new Bo(this.Id,t.key,t,e,n,this.ca)},t}(),Zo=function(t){function e(e,n,r){var i=this;if((i=t.call(this,ln(e),n,r)||this).Nd=e,e.length%2!=1)throw new k(I.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.$()+" has "+e.length);return i}return i.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.bd.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.bd.path.p();return t._()?null:new Mo(new M(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.bd.path.$()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){Ai("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=v.t()),xi("CollectionReference.doc","non-empty string",1,t);var e=P.N(t);return Mo.Td(this.bd.path.child(e),this.firestore,this.ca)},e.prototype.add=function(t){Ci("CollectionReference.add",arguments,1),xi("CollectionReference.add","object",1,this.ca?this.ca.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.Nd,this.firestore,t)},e}(Yo);function Xo(t,e){if(void 0===e)return{merge:!1};if(Fi(t,e,["merge","mergeFields"]),Ii(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new k(I.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+Pi(r));for(var s=0;s<r.length;++s)if(!i(r[s]))throw new k(I.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+s+" was: "+Pi(r[s]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof $i}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new k(I.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Jo(t,e){return void 0===e?{}:(Fi(t,e,["serverTimestamps"]),ki(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function ta(t,e){Ti(t,"object",1,e),e&&(Fi(t,e,["source"]),ki(t,0,"source",e.source,["default","server","cache"]))}function ea(t,e,n){if(e instanceof ss){if(e.firestore!==n)throw new k(I.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw Mi(t,"DocumentReference",1,e)}function na(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return m()}}function ra(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var ia={Firestore:Ro,GeoPoint:ns,Timestamp:O,Blob:zi,Transaction:Vo,WriteBatch:Fo,DocumentReference:Mo,DocumentSnapshot:Uo,Query:Yo,QueryDocumentSnapshot:Bo,QuerySnapshot:Qo,CollectionReference:Zo,FieldPath:$i,FieldValue:ts,setLogLevel:Ro.setLogLevel,CACHE_SIZE_UNLIMITED:Oo};function sa(t){!function(t,e){t.INTERNAL.registerComponent(new l.Component("firestore",(function(t){return function(t,e){return new Ro(t,e,new xo)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},ia)))}(t),t.registerVersion("@firebase/firestore","1.16.2")}sa(s),e.__PRIVATE_registerFirestore=sa},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("os0x"),i=n("zVF4"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(c){}try{for(var i=r.__values(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=r.__read(s.value,2),a=o[1],u=this.normalizeInstanceIdentifier(o[0]);try{var l=this.getOrInitializeService(u);a.resolve(l)}catch(c){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new o(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=s,e.ComponentContainer=a,e.Provider=o},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.17.1","app"),t.exports=i},os0x:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return s})),n.d(e,"__rest",(function(){return o})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__createBinding",(function(){return d})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return m})),n.d(e,"__spread",(function(){return g})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return _})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return E})),n.d(e,"__importStar",(function(){return C})),n.d(e,"__importDefault",(function(){return S})),n.d(e,"__classPrivateFieldGet",(function(){return A})),n.d(e,"__classPrivateFieldSet",(function(){return x}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function f(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(m(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function _(t){return this instanceof _?(this.v=t,this):new _(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){s.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof _?Promise.resolve(n.value.v).then(u,l):c(s[0][2],n)}catch(r){c(s[0][3],r)}var n}function u(t){a("next",t)}function l(t){a("throw",t)}function c(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:_(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function A(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function x(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return d})),n.d(e,"setUserLogHandler",(function(){return f}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,l=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),c=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=l[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=c,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,s=n("os0x"),o=n("zVF4"),a=n("S+S0"),u=n("q/0M"),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new o.ErrorFactory("app","Firebase",l),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.Logger("@firebase/app"),f=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var l=s.__values(this.firebase_.INTERNAL.components.values()),c=l.next();!c.done;c=l.next())this._addComponent(c.value)}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw c.create("bad-app-name",{appName:String(a)});if(o.contains(e,a))throw c.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(u.join(" "))}l(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw c.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.17.1",INTERNAL:{registerComponent:l,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!o.contains(e,t=t||"[DEFAULT]"))throw c.create("no-app",{appName:t});return e[t]}function l(a){var u,l,h=a.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw c.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&o.deepExtend(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=s.__values(Object.keys(e)),m=p.next();!m.done;m=p.next())e[m.value]._addComponent(a)}catch(g){u={error:g}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(f);return e.INTERNAL=s.__assign(s.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){o.deepExtend(e,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(o.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,t)};var _=p;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.9",void 0),t.registerVersion("fire-js","")}(_),e.default=_,e.firebase=_},x7I3:function(t,e,n){"use strict";function r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}n.r(e),n.d(e,"ErrorCode",(function(){return Yn})),n.d(e,"EventType",(function(){return Kn})),n.d(e,"WebChannel",(function(){return Qn})),n.d(e,"XhrIo",(function(){return Zn})),n.d(e,"createWebChannelTransport",(function(){return Wn}));var i,s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},a=s||self;function u(){}function l(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function c(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function h(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),f=0;function p(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:m).apply(null,arguments)}function y(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var _=Date.now||function(){return+new Date};function v(t,e){function n(){}n.prototype=e.prototype,t.M=e.prototype,t.prototype=new n,t.prototype.constructor=t}function b(){this.j=this.j,this.i=this.i}b.prototype.j=!1,b.prototype.da=function(){!this.j&&(this.j=!0,this.C(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++f)}(this)},b.prototype.C=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var w=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},E=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function C(t){return Array.prototype.concat.apply([],arguments)}function S(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function A(t){return/^[\s\xa0]*$/.test(t)}var x,T=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function D(t,e){return-1!=t.indexOf(e)}function I(t,e){return t<e?-1:t>e?1:0}t:{var k=a.navigator;if(k){var O=k.userAgent;if(O){x=O;break t}}x=""}function N(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function R(t){var e={};for(var n in t)e[n]=t[n];return e}var P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<P.length;s++)n=P[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function F(t){return F[" "](t),t}F[" "]=u;var M,L,j=D(x,"Opera"),U=D(x,"Trident")||D(x,"MSIE"),B=D(x,"Edge"),q=B||U,z=D(x,"Gecko")&&!(D(x.toLowerCase(),"webkit")&&!D(x,"Edge"))&&!(D(x,"Trident")||D(x,"MSIE"))&&!D(x,"Edge"),H=D(x.toLowerCase(),"webkit")&&!D(x,"Edge");function $(){var t=a.document;return t?t.documentMode:void 0}t:{var G="",W=(L=x,z?/rv:([^\);]+)(\)|;)/.exec(L):B?/Edge\/([\d\.]+)/.exec(L):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(L):H?/WebKit\/(\S+)/.exec(L):j?/(?:Version)[ \/]?(\S+)/.exec(L):void 0);if(W&&(G=W?W[1]:""),U){var Y=$();if(null!=Y&&Y>parseFloat(G)){M=String(Y);break t}}M=G}var K={};function Q(t){return function(t,e){var n=K;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=T(String(M)).split("."),r=T(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=I(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||I(0==o[2].length,0==a[2].length)||I(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}var Z=a.document&&U&&($()||parseInt(M,10))||void 0,X=!U||9<=Number(Z),J=U&&!Q("9"),tt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",u,e),a.removeEventListener("test",u,e)}catch(n){}return t}();function et(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function nt(t,e){if(et.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(z){t:{try{F(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:rt[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}et.prototype.b=function(){this.defaultPrevented=!0},v(nt,et);var rt={2:"touch",3:"pen",4:"mouse"};nt.prototype.b=function(){nt.M.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,J)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var it="closure_listenable_"+(1e6*Math.random()|0),st=0;function ot(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.aa=i,this.key=++st,this.V=this.X=!1}function at(t){t.V=!0,t.listener=null,t.proxy=null,t.src=null,t.aa=null}function ut(t){this.src=t,this.a={},this.b=0}function lt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=w(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(at(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ct(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.V&&s.listener==e&&s.capture==!!n&&s.aa==r)return i}return-1}ut.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=ct(t,e,r,i);return-1<o?(e=t[o],n||(e.X=!1)):((e=new ot(e,this.src,s,!!r,i)).X=n,t.push(e)),e};var ht="closure_lm_"+(1e6*Math.random()|0),dt={};function ft(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=wt(r),e&&e[it]?e.sa(n,r,h(i)?!!i.capture:!!i,s):pt(e,n,r,!0,i,s)}(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ft(t,e[s],n,r,i);return null}return n=wt(n),t&&t[it]?t.ra(e,n,h(r)?!!r.capture:!!r,i):pt(t,e,n,!1,r,i)}function pt(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=h(i)?!!i.capture:!!i;if(o&&!X)return null;var a=vt(t);if(a||(t[ht]=a=new ut(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=_t,e=X?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)tt||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(gt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function mt(t){if("number"!=typeof t&&t&&!t.V){var e=t.src;if(e&&e[it])lt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vt(e))?(lt(n,t),0==n.b&&(n.src=null,e[ht]=null)):at(t)}}}function gt(t){return t in dt?dt[t]:dt[t]="on"+t}function yt(t,e){var n=t.listener,r=t.aa||t.src;return t.X&&mt(t),n.call(r,e)}function _t(t,e){if(t.V)return!0;if(!X){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return yt(t,e=new nt(e,this))}return yt(t,new nt(e,this))}function vt(t){return(t=t[ht])instanceof ut?t:null}var bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function wt(t){return"function"==l(t)?t:(t[bt]||(t[bt]=function(e){return t.handleEvent(e)}),t[bt])}function Et(){b.call(this),this.c=new ut(this),this.J=this,this.A=null}function Ct(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.V&&o.capture==n){var a=o.listener,u=o.aa||o.src;o.X&&lt(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}v(Et,b),Et.prototype[it]=!0,(i=Et.prototype).addEventListener=function(t,e,n,r){ft(this,t,e,n,r)},i.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=h(i)?!!i.capture:!!i,r=wt(r),e&&e[it]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ct(o=e.a[n],r,i,s))&&(at(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=vt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ct(n,r,i,s)),(r=-1<e?n[e]:null)&&mt(r))}(this,t,e,n,r)},i.dispatchEvent=function(t){var e,n=this.A;if(n)for(e=[];n;n=n.A)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new et(t,n);else if(t instanceof et)t.target=t.target||n;else{var i=t;V(t=new et(r,n),i)}if(i=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.a=e[s];i=Ct(o,r,!0,t)&&i}if(i=Ct(o=t.a=n,r,!0,t)&&i,i=Ct(o,r,!1,t)&&i,e)for(s=0;s<e.length;s++)i=Ct(o=t.a=e[s],r,!1,t)&&i;return i},i.C=function(){if(Et.M.C.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)at(n[r]);delete e.a[t],e.b--}}this.A=null},i.ra=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},i.sa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var St=a.JSON.stringify;function At(){this.b=this.a=null}var xt,Tt=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new It}),(function(t){t.reset()}),100);function Dt(){var t=Rt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function It(){this.next=this.b=this.a=null}function kt(t){a.setTimeout((function(){throw t}),0)}function Ot(t,e){xt||function(){var t=a.Promise.resolve(void 0);xt=function(){t.then(Pt)}}(),Nt||(xt(),Nt=!0),Rt.add(t,e)}At.prototype.add=function(t,e){var n=Tt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},It.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},It.prototype.reset=function(){this.next=this.b=this.a=null};var Nt=!1,Rt=new At;function Pt(){for(var t;t=Dt();){try{t.a.call(t.b)}catch(n){kt(n)}var e=Tt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Nt=!1}function Vt(t,e){Et.call(this),this.b=t||1,this.a=e||a,this.f=g(this.Ua,this),this.g=_()}function Ft(t){t.Z=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Mt(t,e,n){if("function"==l(t))n&&(t=g(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Lt(t,e,n){b.call(this),this.f=null!=n?g(t,n):t,this.c=e,this.b=g(this.Pa,this),this.a=[]}function jt(t){t.T=Mt(t.b,t.c),t.f.apply(null,t.a)}function Ut(t){b.call(this),this.b=t,this.a={}}v(Vt,Et),(i=Vt.prototype).Z=!1,i.L=null,i.Ua=function(){if(this.Z){var t=_()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.Z&&(Ft(this),this.start()))}},i.start=function(){this.Z=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=_())},i.C=function(){Vt.M.C.call(this),Ft(this),delete this.a},v(Lt,b),(i=Lt.prototype).ba=!1,i.T=null,i.Ia=function(t){this.a=arguments,this.T?this.ba=!0:jt(this)},i.C=function(){Lt.M.C.call(this),this.T&&(a.clearTimeout(this.T),this.T=null,this.ba=!1,this.a=[])},i.Pa=function(){this.T=null,this.ba&&(this.ba=!1,jt(this))},v(Ut,b);var Bt=[];function qt(t,e,n,r){Array.isArray(n)||(n&&(Bt[0]=n.toString()),n=Bt);for(var i=0;i<n.length;i++){var s=ft(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function zt(t){N(t.a,(function(t,e){this.a.hasOwnProperty(e)&&mt(t)}),t),t.a={}}function Ht(){}Ut.prototype.C=function(){Ut.M.C.call(this),zt(this)},Ut.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=null;function Gt(){return $t=$t||new Et}function Wt(t){et.call(this,"serverreachability",t)}function Yt(t){var e=Gt();e.dispatchEvent(new Wt(e,t))}function Kt(t){et.call(this,"statevent",t)}function Qt(t){var e=Gt();e.dispatchEvent(new Kt(e,t))}function Zt(t){et.call(this,"timingevent",t)}function Xt(t,e){if("function"!=l(t))throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){t()}),e)}v(Wt,et),v(Kt,et),v(Zt,et);var Jt={NO_ERROR:0,Va:1,bb:2,ab:3,Ya:4,$a:5,cb:6,za:7,TIMEOUT:8,gb:9},te={Xa:"complete",kb:"success",Aa:"error",za:"abort",ib:"ready",jb:"readystatechange",TIMEOUT:"timeout",eb:"incrementaldata",hb:"progress",Za:"downloadprogress",lb:"uploadprogress"};function ee(){}function ne(){}ee.prototype.a=null;var re,ie={OPEN:"a",Wa:"b",Aa:"c",fb:"d"};function se(){et.call(this,"d")}function oe(){et.call(this,"c")}function ae(){}function ue(t,e,n){this.g=t,this.W=e,this.U=n||1,this.G=new Ut(this),this.N=le,this.O=new Vt(t=q?125:void 0),this.m=null,this.b=!1,this.j=this.A=this.f=this.B=this.s=this.P=this.h=null,this.i=[],this.a=null,this.w=0,this.c=this.v=null,this.H=-1,this.l=!1,this.J=0,this.D=null,this.o=this.R=this.F=!1}v(se,et),v(oe,et),v(ae,ee),re=new ae;var le=45e3,ce={},he={};function de(t,e,n){t.B=1,t.f=Pe(De(e)),t.j=n,t.F=!0,fe(t,null)}function fe(t,e){t.s=_(),ge(t),t.A=De(t.f);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),We(n.b,"t",r),t.w=0,t.a=jn(t.g,t.g.w?e:null),0<t.J&&(t.D=new Lt(g(t.ya,t,t.a),t.J)),qt(t.G,t.a,"readystatechange",t.Sa),e=t.m?R(t.m):{},t.j?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.$(t.A,t.v,t.j,e)):(t.v="GET",t.a.$(t.A,t.v,null,e)),Yt(1)}function pe(t,e,n){for(var r=!0;!t.l&&t.w<n.length;){var i=me(t,n);if(i==he){4==e&&(t.c=4,Qt(14),r=!1);break}if(i==ce){t.c=4,Qt(15),r=!1;break}we(t,i)}4==e&&0==n.length&&(t.c=1,Qt(16),r=!1),t.b=t.b&&r,r||(be(t),ve(t))}function me(t,e){var n=t.w,r=e.indexOf("\n",n);return-1==r?he:(n=Number(e.substring(n,r)),isNaN(n)?ce:(r+=1)+n>e.length?he:(e=e.substr(r,n),t.w=r+n,e))}function ge(t){t.P=_()+t.N,ye(t,t.N)}function ye(t,e){if(null!=t.h)throw Error("WatchDog timer not null");t.h=Xt(g(t.Qa,t),e)}function _e(t){t.h&&(a.clearTimeout(t.h),t.h=null)}function ve(t){0==t.g.u||t.l||Pn(t.g,t)}function be(t){_e(t);var e=t.D;e&&"function"==typeof e.da&&e.da(),t.D=null,Ft(t.O),zt(t.G),t.a&&(e=t.a,t.a=null,e.abort(),e.da())}function we(t,e){try{var n=t.g;if(0!=n.u&&(n.a==t||tn(n.b,t)))if(n.A=t.H,!t.o&&tn(n.b,t)&&3==n.u){try{var r=n.ja.a.parse(e)}catch(m){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.i){if(n.a){if(!(n.a.s+3e3<t.s))break t;Rn(n),n.a.cancel(),n.a=null}Nn(n),Qt(18)}}else n.ia=i[1],0<n.ia-n.G&&37500>i[2]&&n.U&&0==n.m&&!n.l&&(n.l=Xt(g(n.Na,n),6e3));if(1>=Je(n.b)&&n.O){try{n.O()}catch(m){}n.O=void 0}}else Fn(n,11)}else if((t.o||n.a==t)&&Rn(n),!A(e))for(e=r=n.ja.a.parse(e),r=0;r<e.length;r++)if(n.G=(i=e[r])[0],i=i[1],2==n.u)if("c"==i[0]){n.B=i[1],n.R=i[2];var s=i[3];null!=s&&(n.oa=s);var o=i[5];null!=o&&"number"==typeof o&&0<o&&(n.D=1.5*o);var a=n,u=t.a;if(u){var l=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var c=a.b;!c.a&&(D(l,"spdy")||D(l,"quic")||D(l,"h2"))&&(c.f=c.g,c.a=new Set,c.b&&(en(c,c.b),c.b=null))}if(a.s){var h=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(a.ha=h,Re(a.v,a.s,h))}}n.u=3,n.c&&n.c.na();var d=t;if((a=n).ea=Ln(a,a.w?a.R:null,a.P),d.o){nn(a.b,d);var f=d,p=a.D;p&&f.setTimeout(p),f.h&&(_e(f),ge(f)),a.a=d}else On(a);0<n.f.length&&Tn(n)}else"stop"!=i[0]&&"close"!=i[0]||Fn(n,7);else 3==n.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Fn(n,7):Sn(n):"noop"!=i[0]&&n.c&&n.c.ma(i),n.m=0);Yt(4)}catch(m){}}function Ee(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(c(t)||"string"==typeof t)E(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.I&&"function"==typeof t.I)n=void 0;else if(c(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.I&&"function"==typeof t.I)return t.I();if("string"==typeof t)return t.split("");if(c(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Ce(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ce)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Se(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ae(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ae(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ae(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(i=ue.prototype).setTimeout=function(t){this.N=t},i.Sa=function(t){t=t.target;var e=this.D;e&&3==bn(t)?e.Ia():this.ya(t)},i.ya=function(t){try{if(t==this.a)t:{var e=bn(this.a),n=this.a.qa(),r=this.a.S();if(!(3>e||3==e&&!q&&!this.a.Y())){this.l||4!=e||7==n||Yt(8==n||0>=r?3:2),_e(this);var i=this.a.S();this.H=i;var s=this.a.Y();if(this.b=200==i){if(this.R&&!this.o){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.c=3,Qt(12),be(this),ve(this);break t}this.o=!0,we(this,u)}this.F?(pe(this,e,s),q&&this.b&&3==e&&(qt(this.G,this.O,"tick",this.Ra),this.O.start())):we(this,s),4==e&&be(this),this.b&&!this.l&&(4==e?Pn(this.g,this):(this.b=!1,ge(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.c=3,Qt(12)):(this.c=0,Qt(13)),be(this),ve(this)}}}catch(l){}},i.Ra=function(){if(this.a){var t=bn(this.a),e=this.a.Y();this.w<e.length&&(_e(this),pe(this,t,e),this.b&&4!=t&&ge(this))}},i.cancel=function(){this.l=!0,be(this)},i.Qa=function(){this.h=null;var t=_();0<=t-this.P?(2!=this.B&&(Yt(3),Qt(17)),be(this),this.c=2,ve(this)):ye(this,this.P-t)},(i=Ce.prototype).I=function(){Se(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},i.K=function(){return Se(this),this.a.concat()},i.get=function(t,e){return Ae(this.b,t)?this.b[t]:e},i.set=function(t,e){Ae(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},i.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var xe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Te(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Te){this.a=void 0!==e?e:t.a,Ie(this,t.f),this.j=t.j,ke(this,t.c),Oe(this,t.h),this.g=t.g,e=t.b;var n=new ze;n.c=e.c,e.a&&(n.a=new Ce(e.a),n.b=e.b),Ne(this,n),this.i=t.i}else t&&(n=String(t).match(xe))?(this.a=!!e,Ie(this,n[1]||"",!0),this.j=Ve(n[2]||""),ke(this,n[3]||"",!0),Oe(this,n[4]),this.g=Ve(n[5]||"",!0),Ne(this,n[6]||"",!0),this.i=Ve(n[7]||"")):(this.a=!!e,this.b=new ze(null,this.a))}function De(t){return new Te(t)}function Ie(t,e,n){t.f=n?Ve(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ke(t,e,n){t.c=n?Ve(e,!0):e}function Oe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ne(t,e,n){e instanceof ze?(t.b=e,function(t,e){e&&!t.f&&(He(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&($e(this,e),We(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Fe(e,Be)),t.b=new ze(e,t.a))}function Re(t,e,n){t.b.set(e,n)}function Pe(t){return Re(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_()).toString(36)),t}function Ve(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fe(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Me),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Me(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Te.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Fe(e,Le,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Fe(e,Le,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Fe(n,"/"==n.charAt(0)?Ue:je,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Fe(n,qe)),t.join("")};var Le=/[#\/\?@]/g,je=/[#\?:]/g,Ue=/[#\?]/g,Be=/[#\?@]/g,qe=/#/g;function ze(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function He(t){t.a||(t.a=new Ce,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function $e(t,e){He(t),e=Ye(t,e),Ae(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ae((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Se(t)))}function Ge(t,e){return He(t),e=Ye(t,e),Ae(t.a.b,e)}function We(t,e,n){$e(t,e),0<n.length&&(t.c=null,t.a.set(Ye(t,e),S(n)),t.b+=n.length)}function Ye(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Ke(t,e){this.b=t,this.a=e}function Qe(t){this.g=t||Ze,t=a.PerformanceNavigationTiming?0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(a.ca&&a.ca.ua&&a.ca.ua()&&a.ca.ua().mb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(i=ze.prototype).add=function(t,e){He(this),this.c=null,t=Ye(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},i.forEach=function(t,e){He(this),this.a.forEach((function(n,r){E(n,(function(n){t.call(e,n,r,this)}),this)}),this)},i.K=function(){He(this);for(var t=this.a.I(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},i.I=function(t){He(this);var e=[];if("string"==typeof t)Ge(this,t)&&(e=C(e,this.a.get(Ye(this,t))));else{t=this.a.I();for(var n=0;n<t.length;n++)e=C(e,t[n])}return e},i.set=function(t,e){return He(this),this.c=null,Ge(this,t=Ye(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},i.get=function(t,e){return t&&0<(t=this.I(t)).length?String(t[0]):e},i.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.I(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var Ze=10;function Xe(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Je(t){return t.b?1:t.a?t.a.size:0}function tn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function en(t,e){t.a?t.a.add(e):t.b=e}function nn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function rn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.i);if(null!=t.a&&0!==t.a.size){var i=t.c;try{for(var s=r(t.a.values()),o=s.next();!o.done;o=s.next())i=i.concat(o.value.i)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return i}return S(t.c)}function sn(){}function on(){this.a=new sn}function an(t,e,n){var r=n||"";try{Ee(t,(function(t,n){var i=t;h(t)&&(i=St(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function un(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Qe.prototype.cancel=function(){var t,e;if(this.c=rn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=r(this.a.values()),i=n.next();!i.done;i=n.next())i.value.cancel()}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},sn.prototype.stringify=function(t){return a.JSON.stringify(t,void 0)},sn.prototype.parse=function(t){return a.JSON.parse(t,void 0)};var ln=a.JSON.parse;function cn(t){Et.call(this),this.headers=new Ce,this.G=t||null,this.b=!1,this.s=this.a=null,this.D="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.H=hn,this.B=this.F=!1}v(cn,Et);var hn="",dn=/^https?$/i,fn=["POST","PUT"];function pn(t){return"content-type"==t.toLowerCase()}function mn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,gn(t),_n(t)}function gn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function yn(t){if(t.b&&void 0!==o&&(!t.s[1]||4!=bn(t)||2!=t.S()))if(t.l&&4==bn(t))Mt(t.va,0,t);else if(t.dispatchEvent("readystatechange"),4==bn(t)){t.b=!1;try{var e,n=t.S();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.D).match(xe)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!dn.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var l=2<bn(t)?t.a.statusText:""}catch(c){l=""}t.f=l+" ["+t.S()+"]",gn(t)}}finally{_n(t)}}}function _n(t,e){if(t.a){vn(t);var n=t.a,r=t.s[0]?u:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function vn(t){t.a&&t.B&&(t.a.ontimeout=null),t.m&&(a.clearTimeout(t.m),t.m=null)}function bn(t){return t.a?t.a.readyState:0}function wn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return N(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Re(t,e,n))}function En(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Cn(t){this.f=[],this.R=this.ea=this.v=this.P=this.a=this.ha=this.s=this.N=this.h=this.F=this.j=null,this.Fa=this.H=0,this.Ca=En("failFast",!1,t),this.U=this.l=this.i=this.g=this.c=null,this.W=!0,this.A=this.ia=this.G=-1,this.J=this.m=this.o=0,this.Ba=En("baseRetryDelayMs",5e3,t),this.Ga=En("retryDelaySeedMs",1e4,t),this.Da=En("forwardChannelMaxRetries",2,t),this.ga=En("forwardChannelRequestTimeoutMs",2e4,t),this.Ea=t&&t.nb||void 0,this.D=void 0,this.w=t&&t.supportsCrossDomainXhr||!1,this.B="",this.b=new Qe(t&&t.concurrentRequestLimit),this.ja=new on,this.fa=t&&t.fastHandshake||!1,t&&t.forceLongPolling&&(this.W=!1),this.O=void 0}function Sn(t){if(An(t),3==t.u){var e=t.H++,n=De(t.v);Re(n,"SID",t.B),Re(n,"RID",e),Re(n,"TYPE","terminate"),In(t,n),(e=new ue(t,e,void 0)).B=2,e.f=Pe(De(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(e.f.toString(),"")),!n&&a.Image&&((new Image).src=e.f,n=!0),n||(e.a=jn(e.g,null),e.a.$(e.f)),e.s=_(),ge(e)}Mn(t)}function An(t){t.a&&(t.a.cancel(),t.a=null),t.i&&(a.clearTimeout(t.i),t.i=null),Rn(t),t.b.cancel(),t.g&&("number"==typeof t.g&&a.clearTimeout(t.g),t.g=null)}function xn(t,e){t.f.push(new Ke(t.Fa++,e)),3==t.u&&Tn(t)}function Tn(t){Xe(t.b)||t.g||(t.g=!0,Ot(t.xa,t),t.o=0)}function Dn(t,e){var n;n=e?e.W:t.H++;var r=De(t.v);Re(r,"SID",t.B),Re(r,"RID",n),Re(r,"AID",t.G),In(t,r),t.h&&t.j&&wn(r,t.h,t.j),n=new ue(t,n,t.o+1),null===t.h&&(n.m=t.j),e&&(t.f=e.i.concat(t.f)),e=kn(t,n,1e3),n.setTimeout(Math.round(.5*t.ga)+Math.round(.5*t.ga*Math.random())),en(t.b,n),de(n,r,e)}function In(t,e){t.c&&Ee({},(function(t,n){Re(e,n,t)}))}function kn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?g(t.c.Ha,t.c,t):null;t:for(var i=t.f,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var l=i[u].b,c=i[u].a;if(0>(l-=s))s=Math.max(0,i[u].b-100),a=!1;else try{an(c,o,"req"+l+"_")}catch(h){r&&r(c)}}if(a){r=o.join("&");break t}}return t=t.f.splice(0,n),e.i=t,r}function On(t){t.a||t.i||(t.J=1,Ot(t.wa,t),t.m=0)}function Nn(t){return!(t.a||t.i||3<=t.m||(t.J++,t.i=Xt(g(t.wa,t),Vn(t,t.m)),t.m++,0))}function Rn(t){null!=t.l&&(a.clearTimeout(t.l),t.l=null)}function Pn(t,e){var n=null;if(t.a==e){Rn(t),t.a=null;var r=2}else{if(!tn(t.b,e))return;n=e.i,nn(t.b,e),r=1}if(t.A=e.H,0!=t.u)if(e.b)if(1==r){n=e.j?e.j.length:0,e=_()-e.s;var i=t.o;(r=Gt()).dispatchEvent(new Zt(r,n,e,i)),Tn(t)}else On(t);else if(3==(i=e.c)||0==i&&0<t.A||!(1==r&&function(t,e){return!(Je(t.b)>=t.b.f-(t.g?1:0)||(t.g?(t.f=e.i.concat(t.f),0):1==t.u||2==t.u||t.o>=(t.Ca?0:t.Da)||(t.g=Xt(g(t.xa,t,e),Vn(t,t.o)),t.o++,0)))}(t,e)||2==r&&Nn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Fn(t,5);break;case 4:Fn(t,10);break;case 3:Fn(t,6);break;default:Fn(t,2)}}function Vn(t,e){var n=t.Ba+Math.floor(Math.random()*t.Ga);return t.c||(n*=2),n*e}function Fn(t,e){if(2==e){var n=null;t.c&&(n=null);var r=g(t.Ta,t);n||(n=new Te("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Ie(n,"https"),Pe(n)),function(t,e){var n=new Ht;if(a.Image){var r=new Image;r.onload=y(un,n,r,"TestLoadImage: loaded",!0,e),r.onerror=y(un,n,r,"TestLoadImage: error",!1,e),r.onabort=y(un,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=y(un,n,r,"TestLoadImage: timeout",!1,e),a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Qt(2);t.u=0,t.c&&t.c.la(e),Mn(t),An(t)}function Mn(t){t.u=0,t.A=-1,t.c&&(0==rn(t.b).length&&0==t.f.length||(t.b.c.length=0,S(t.f),t.f.length=0),t.c.ka())}function Ln(t,e,n){var r=function(t){return t instanceof Te?De(t):new Te(t,void 0)}(n);if(""!=r.c)e&&ke(r,e+"."+r.c),Oe(r,r.h);else{var i=a.location;r=function(t,e,n,r){var i=new Te(null,void 0);return t&&Ie(i,t),e&&ke(i,e),n&&Oe(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.N&&N(t.N,(function(t,e){Re(r,e,t)})),n=t.ha,(e=t.s)&&n&&Re(r,e,n),Re(r,"VER",t.oa),In(t,r),r}function jn(t,e){if(e&&!t.w)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new cn(t.Ea)).F=t.w,e}function Un(){}function Bn(){if(U&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function qn(t,e){Et.call(this),this.a=new Cn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.j=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.pa&&(t?t["X-WebChannel-Client-Profile"]=e.pa:t={"X-WebChannel-Client-Profile":e.pa}),this.a.F=t,(t=e&&e.httpHeadersOverwriteParam)&&!A(t)&&(this.a.h=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!A(e)&&(this.a.s=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new $n(this)}function zn(t){se.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Hn(){oe.call(this),this.status=1}function $n(t){this.a=t}(i=cn.prototype).$=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.G?this.G:re),this.a.onreadystatechange=g(this.va,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(s){return void mn(this,s)}t=n||"";var i=new Ce(this.headers);r&&Ee(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=pn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.K()),n=a.FormData&&t instanceof a.FormData,!(0<=w(fn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.H&&(this.a.responseType=this.H),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{vn(this),0<this.o&&((this.B=function(t){return U&&Q(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=g(this.ta,this)):this.m=Mt(this.ta,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){mn(this,s)}},i.ta=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},i.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),_n(this))},i.C=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),_n(this,!0)),cn.M.C.call(this)},i.va=function(){this.j||(this.w||this.l||this.g?yn(this):this.Oa())},i.Oa=function(){yn(this)},i.S=function(){try{return 2<bn(this)?this.a.status:-1}catch(L){return-1}},i.Y=function(){try{return this.a?this.a.responseText:""}catch(L){return""}},i.Ja=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ln(e)}},i.qa=function(){return this.h},i.Ma=function(){return"string"==typeof this.f?this.f:String(this.f)},(i=Cn.prototype).oa=8,i.u=1,i.xa=function(t){if(this.g)if(this.g=null,1==this.u){if(!t){this.H=Math.floor(1e5*Math.random());var e,n=new ue(this,t=this.H++,void 0),r=this.j;if(this.F&&(r?V(r=R(r),this.F):r=this.F),null===this.h&&(n.m=r),this.fa)t:{for(var i=e=0;i<this.f.length;i++){var s=this.f[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=kn(this,n,e),Re(i=De(this.v),"RID",t),Re(i,"CVER",22),this.s&&Re(i,"X-HTTP-Session-Id",this.s),In(this,i),this.h&&r&&wn(i,this.h,r),en(this.b,n),this.fa?(Re(i,"$req",e),Re(i,"SID","null"),n.R=!0,de(n,i,null)):de(n,i,e),this.u=2}}else 3==this.u&&(t?Dn(this,t):0==this.f.length||Xe(this.b)||Dn(this))},i.wa=function(){this.i=null,this.a=new ue(this,"rpc",this.J),null===this.h&&(this.a.m=this.j),this.a.J=0;var t=De(this.ea);Re(t,"RID","rpc"),Re(t,"SID",this.B),Re(t,"CI",this.U?"0":"1"),Re(t,"AID",this.G),In(this,t),Re(t,"TYPE","xmlhttp"),this.h&&this.j&&wn(t,this.h,this.j),this.D&&this.a.setTimeout(this.D);var e=this.a,n=this.R;e.B=1,e.f=Pe(De(t)),e.j=null,e.F=!0,fe(e,n)},i.Na=function(){null!=this.l&&(this.l=null,this.a.cancel(),this.a=null,Nn(this),Qt(19))},i.Ta=function(t){Qt(t?2:1)},(i=Un.prototype).na=function(){},i.ma=function(){},i.la=function(){},i.ka=function(){},i.Ha=function(){},Bn.prototype.a=function(t,e){return new qn(t,e)},v(qn,Et),(i=qn.prototype).addEventListener=function(t,e,n,r){qn.M.addEventListener.call(this,t,e,n,r)},i.removeEventListener=function(t,e,n,r){qn.M.removeEventListener.call(this,t,e,n,r)},i.Ka=function(){this.a.c=this.f,this.h&&(this.a.w=!0);var t=this.a,e=this.l,n=this.b||void 0;Qt(0),t.P=e,t.N=n||{},t.U=t.W,t.v=Ln(t,null,t.P),Tn(t)},i.close=function(){Sn(this.a)},i.La=function(t){if("string"==typeof t){var e={};e.__data__=t,xn(this.a,e)}else this.g?((e={}).__data__=St(t),xn(this.a,e)):xn(this.a,t)},i.C=function(){this.a.c=null,delete this.f,Sn(this.a),delete this.a,qn.M.C.call(this)},v(zn,se),v(Hn,oe),v($n,Un),$n.prototype.na=function(){this.a.dispatchEvent("a")},$n.prototype.ma=function(t){this.a.dispatchEvent(new zn(t))},$n.prototype.la=function(t){this.a.dispatchEvent(new Hn(t))},$n.prototype.ka=function(){this.a.dispatchEvent("b")},Bn.prototype.createWebChannel=Bn.prototype.a,qn.prototype.send=qn.prototype.La,qn.prototype.open=qn.prototype.Ka,qn.prototype.close=qn.prototype.close,Jt.NO_ERROR=0,Jt.TIMEOUT=8,Jt.HTTP_ERROR=6,te.COMPLETE="complete",ne.EventType=ie,ie.OPEN="a",ie.CLOSE="b",ie.ERROR="c",ie.MESSAGE="d",Et.prototype.listen=Et.prototype.ra,cn.prototype.listenOnce=cn.prototype.sa,cn.prototype.getLastError=cn.prototype.Ma,cn.prototype.getLastErrorCode=cn.prototype.qa,cn.prototype.getStatus=cn.prototype.S,cn.prototype.getResponseJson=cn.prototype.Ja,cn.prototype.getResponseText=cn.prototype.Y,cn.prototype.send=cn.prototype.$;var Gn={createWebChannelTransport:function(){return new Bn},ErrorCode:Jt,EventType:te,WebChannel:ne,XhrIo:cn},Wn=Gn.createWebChannelTransport,Yn=Gn.ErrorCode,Kn=Gn.EventType,Qn=Gn.WebChannel,Zn=Gn.XhrIo;e.default=Gn},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function o(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},u=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function l(t){return null!==t&&"object"==typeof t}const c=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(i))try{i.call(this)}catch(o){e=o instanceof c?d(o.errors):[o]}if(u(s)){let t=-1,n=s.length;for(;++t<n;){const n=s[t];if(l(n))try{n.unsubscribe()}catch(o){e=e||[],o instanceof c?e=e.concat(d(o.errors)):e.push(o)}}}if(e)throw new c(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof c?e.errors:e),[])}const f=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[f](){return this}static create(t,e,n){const r=new p(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class m extends p{constructor(t,e,n,i){let s;super(),this._parentSubscriber=t;let o=this;r(e)?s=e:e&&(s=e.next,n=e.error,i=e.complete,e!==a&&(o=Object.create(e),r(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(o(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(t){return t}let _=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof p)return t;if(t[f])return t[f]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),s.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=v(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[g](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=v(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function v(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const b=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class w extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class E extends p{constructor(t){super(t),this.destination=t}}let C=(()=>{class t extends _{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new E(this)}lift(t){const e=new S(this,this);return e.operator=t,e}next(t){if(this.closed)throw new b;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new b;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new b;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new b;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new b;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new w(this,t))}asObservable(){const t=new _;return t.source=this,t}}return t.create=(t,e)=>new S(t,e),t})();class S extends C{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function A(t){return t&&"function"==typeof t.schedule}class x extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const T=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function D(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const I=D(),k=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function O(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const N=t=>{if(t&&"function"==typeof t[g])return r=t,t=>{const e=r[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(k(t))return T(t);if(O(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o),t);if(t&&"function"==typeof t[I])return e=t,t=>{const n=e[I]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=l(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,r};function R(t,e,n,r,i=new x(t,n,r)){if(!i.closed)return e instanceof _?e.subscribe(i):N(e)(i)}class P extends p{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function V(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new F(t,e))}}class F{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new M(t,this.project,this.thisArg))}}class M extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function L(t,e){return new _(n=>{const r=new h;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}function j(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new _(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[g]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(O(t))return function(t,e){return new _(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(k(t))return L(t,e);if(function(t){return t&&"function"==typeof t[I]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new _(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[I](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof _?t:new _(N(t))}function U(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(U((n,r)=>j(t(n,r)).pipe(V((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new B(t,n)))}class B{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new q(t,this.project,this.concurrent))}}class q extends P{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new x(this,e,n),i=this.destination;i.add(r);const s=R(this,t,void 0,void 0,r);s!==r&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function z(t=Number.POSITIVE_INFINITY){return U(y,t)}function H(t,e){return e?L(t,e):new _(T(t))}function $(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return A(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof _?t[0]:z(e)(H(t,n))}function G(){return function(t){return t.lift(new W(t))}}class W{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new Y(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class Y extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class K extends _{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Z(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return G()(this)}}const Q=(()=>{const t=K.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Z extends E{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function X(){return new C}function J(t){return{toString:t}.toString()}function tt(t,e,n){return J(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const et=tt("Inject",t=>({token:t})),nt=tt("Optional"),rt=tt("Self"),it=tt("SkipSelf");var st=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ot(t){for(let e in t)if(t[e]===ot)return e;throw Error("Could not find renamed property on target object.")}function at(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ut(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function lt(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function ct(t){return ht(t,t[ft])||ht(t,t[gt])}function ht(t,e){return e&&e.token===t?e:null}function dt(t){return t&&(t.hasOwnProperty(pt)||t.hasOwnProperty(yt))?t[pt]:null}const ft=ot({"\u0275prov":ot}),pt=ot({"\u0275inj":ot}),mt=ot({"\u0275provFallback":ot}),gt=ot({ngInjectableDef:ot}),yt=ot({ngInjectorDef:ot});function _t(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(_t).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function vt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const bt=ot({__forward_ref__:ot});function wt(t){return t.__forward_ref__=wt,t.toString=function(){return _t(this())},t}function Et(t){return Ct(t)?t():t}function Ct(t){return"function"==typeof t&&t.hasOwnProperty(bt)&&t.__forward_ref__===wt}const St="undefined"!=typeof globalThis&&globalThis,At="undefined"!=typeof window&&window,xt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Tt="undefined"!=typeof global&&global,Dt=St||Tt||At||xt,It=ot({"\u0275cmp":ot}),kt=ot({"\u0275dir":ot}),Ot=ot({"\u0275pipe":ot}),Nt=ot({"\u0275mod":ot}),Rt=ot({"\u0275loc":ot}),Pt=ot({"\u0275fac":ot}),Vt=ot({__NG_ELEMENT_ID__:ot});class Ft{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ut({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const Mt=new Ft("INJECTOR",-1),Lt={},jt=/\n/gm,Ut=ot({provide:String,useValue:ot});let Bt,qt=void 0;function zt(t){const e=qt;return qt=t,e}function Ht(t){const e=Bt;return Bt=t,e}function $t(t,e=st.Default){if(void 0===qt)throw new Error("inject() must be called from an injection context");return null===qt?Yt(t,void 0,e):qt.get(t,e&st.Optional?null:void 0,e)}function Gt(t,e=st.Default){return(Bt||$t)(Et(t),e)}const Wt=Gt;function Yt(t,e,n){const r=ct(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&st.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${_t(t)}]`)}function Kt(t){const e=[];for(let n=0;n<t.length;n++){const r=Et(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=st.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof nt||"Optional"===i.ngMetadataName||i===nt?n|=st.Optional:i instanceof it||"SkipSelf"===i.ngMetadataName||i===it?n|=st.SkipSelf:i instanceof rt||"Self"===i.ngMetadataName||i===rt?n|=st.Self:t=i instanceof et||i===et?i.token:i}e.push(Gt(t,n))}else e.push(Gt(r))}return e}class Qt{get(t,e=Lt){if(e===Lt){const e=new Error(`NullInjectorError: No provider for ${_t(t)}!`);throw e.name="NullInjectorError",e}return e}}class Zt{}class Xt{}function Jt(t,e){t.forEach(t=>Array.isArray(t)?Jt(t,e):e(t))}function te(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ee(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ne(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function re(t,e,n){let r=se(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ie(t,e){const n=se(t,e);if(n>=0)return t[1|n]}function se(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}var oe=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),ae=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const ue={},le=[];let ce=0;function he(t){return J(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===oe.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||le,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ae.Emulated,id:"c",styles:t.styles||le,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=ce++,n.inputs=ge(t.inputs,e),n.outputs=ge(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(de):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(fe):null,n})}function de(t){return ve(t)||function(t){return t[kt]||null}(t)}function fe(t){return function(t){return t[Ot]||null}(t)}const pe={};function me(t){const e={type:t.type,bootstrap:t.bootstrap||le,declarations:t.declarations||le,imports:t.imports||le,exports:t.exports||le,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&J(()=>{pe[t.id]=t.type}),e}function ge(t,e){if(null==t)return ue;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const ye=he;function _e(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ve(t){return t[It]||null}function be(t,e){return t.hasOwnProperty(Pt)?t[Pt]:null}function we(t,e){const n=t[Nt]||null;if(!n&&!0===e)throw new Error(`Type ${_t(t)} does not have '\u0275mod' property.`);return n}function Ee(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ce(t){return Array.isArray(t)&&!0===t[1]}function Se(t){return 0!=(8&t.flags)}function Ae(t){return 2==(2&t.flags)}function xe(t){return 1==(1&t.flags)}function Te(t){return null!==t.template}function De(t){return 0!=(512&t[2])}class Ie{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ke(){return Oe}function Oe(t){return t.type.prototype.ngOnChanges&&(t.setInput=Re),Ne}function Ne(){const t=Pe(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===ue)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Re(t,e,n,r){const i=Pe(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:ue,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new Ie(u&&u.currentValue,e,o===ue),t[r]=e}function Pe(t){return t.__ngSimpleChanges__||null}ke.ngInherit=!0;let Ve=void 0;function Fe(t){return!!t.listen}const Me={createRenderer:(t,e)=>void 0!==Ve?Ve:"undefined"!=typeof document?document:void 0};function Le(t){for(;Array.isArray(t);)t=t[0];return t}function je(t,e){return Le(e[t+20])}function Ue(t,e){return Le(e[t.index])}function Be(t,e){return t.data[e+20]}function qe(t,e){return t[e+20]}function ze(t,e){const n=e[t];return Ee(n)?n:n[0]}function He(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function $e(t){return 4==(4&t[2])}function Ge(t){return 128==(128&t[2])}function We(t,e){return null===t||null==e?null:t[e]}function Ye(t){t[18]=0}function Ke(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Qe={lFrame:yn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Ze(){return Qe.bindingsEnabled}function Xe(){return Qe.lFrame.lView}function Je(){return Qe.lFrame.tView}function tn(t){Qe.lFrame.contextLView=t}function en(){return Qe.lFrame.previousOrParentTNode}function nn(t,e){Qe.lFrame.previousOrParentTNode=t,Qe.lFrame.isParent=e}function rn(){return Qe.lFrame.isParent}function sn(){Qe.lFrame.isParent=!1}function on(){return Qe.checkNoChangesMode}function an(t){Qe.checkNoChangesMode=t}function un(){return Qe.lFrame.bindingIndex++}function ln(t,e){const n=Qe.lFrame;n.bindingIndex=n.bindingRootIndex=t,cn(e)}function cn(t){Qe.lFrame.currentDirectiveIndex=t}function hn(t){const e=Qe.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function dn(){return Qe.lFrame.currentQueryIndex}function fn(t){Qe.lFrame.currentQueryIndex=t}function pn(t,e){const n=gn();Qe.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function mn(t,e){const n=gn(),r=t[1];Qe.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function gn(){const t=Qe.lFrame,e=null===t?null:t.child;return null===e?yn(t):e}function yn(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function _n(){const t=Qe.lFrame;return Qe.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const vn=_n;function bn(){const t=_n();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function wn(){return Qe.lFrame.selectedIndex}function En(t){Qe.lFrame.selectedIndex=t}function Cn(){const t=Qe.lFrame;return Be(t.tView,t.selectedIndex)}function Sn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function An(t,e,n){Dn(t,e,3,n)}function xn(t,e,n,r){(3&t[2])===n&&Dn(t,e,n,r)}function Tn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Dn(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(In(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function In(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}class kn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function On(t,e,n){const r=Fe(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Rn(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Nn(t){return 3===t||4===t||6===t}function Rn(t){return 64===t.charCodeAt(0)}function Pn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Vn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Vn(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Fn(t){return-1!==t}function Mn(t){return 32767&t}function Ln(t){return t>>16}function jn(t,e){let n=Ln(t),r=e;for(;n>0;)r=r[15],n--;return r}function Un(t){return"string"==typeof t?t:null==t?"":""+t}function Bn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Un(t)}const qn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Dt))();function zn(t){return t instanceof Function?t():t}let Hn=!0;function $n(t){const e=Hn;return Hn=t,e}let Gn=0;function Wn(t,e){const n=Kn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Yn(r.data,t),Yn(e,null),Yn(r.blueprint,null));const i=Qn(t,e),s=t.injectorIndex;if(Fn(i)){const t=Mn(i),n=jn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Yn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Kn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Qn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function Zn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Vt)&&(r=n[Vt]),null==r&&(r=n[Vt]=Gn++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function Xn(t,e,n,r=st.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Vt)?t[Vt]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){pn(e,t);try{const t=i();if(null!=t||r&st.Optional)return t;throw new Error(`No provider for ${Bn(n)}!`)}finally{vn()}}else if("number"==typeof i){if(-1===i)return new sr(t,e);let s=null,o=Kn(t,e),a=-1,u=r&st.Host?e[16][6]:null;for((-1===o||r&st.SkipSelf)&&(a=-1===o?Qn(t,e):e[o+8],ir(r,!1)?(s=e[1],o=Mn(a),e=jn(a,e)):o=-1);-1!==o;){a=e[o+8];const t=e[1];if(rr(i,o,t.data)){const t=tr(o,e,n,s,r,u);if(t!==Jn)return t}ir(r,e[1].data[o+8]===u)&&rr(i,o,e)?(s=t,o=Mn(a),e=jn(a,e)):o=-1}}}if(r&st.Optional&&void 0===i&&(i=null),0==(r&(st.Self|st.Host))){const t=e[9],s=Ht(void 0);try{return t?t.get(n,i,r&st.Optional):Yt(n,i,r&st.Optional)}finally{Ht(s)}}if(r&st.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Bn(n)}]`)}const Jn={};function tr(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=er(a,o,n,null==r?Ae(a)&&Hn:r!=o&&3===a.type,i&st.Host&&s===a);return null!==u?nr(e,o,u,a):Jn}function er(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,c=i?a+l:t.directiveEnd;for(let h=r?a:a+l;h<c;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&Te(t)&&t.type===n)return u}return null}function nr(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof kn){const o=i;if(o.resolving)throw new Error("Circular dep for "+Bn(s[n]));const a=$n(o.canSeeViewProviders);let u;o.resolving=!0,o.injectImpl&&(u=Ht(o.injectImpl)),pn(t,r);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=Oe(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{o.injectImpl&&Ht(u),$n(a),o.resolving=!1,vn()}}return i}function rr(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function ir(t,e){return!(t&st.Self||t&st.Host&&e)}class sr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Xn(this._tNode,this._lView,t,void 0,e)}}function or(t){const e=t;if(Ct(t))return()=>{const t=or(Et(e));return t?t():null};let n=be(e);if(null===n){const t=dt(e);n=t&&t.factory}return n||null}function ar(t){return J(()=>{const e=t.prototype.constructor,n=e[Pt]||or(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Pt]||or(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function ur(t){return t.ngDebugContext}function lr(t){return t.ngOriginalError}function cr(t,...e){t.error(...e)}class hr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||cr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?ur(t)?ur(t):this._findContext(lr(t)):null}_findOriginalError(t){let e=lr(t);for(;e&&lr(e);)e=lr(e);return e}}class dr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}function fr(t){return t instanceof dr?t.changingThisBreaksApplicationSecurity:t}let pr=!0,mr=!1;function gr(){return mr=!0,pr}const yr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,_r=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var vr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function br(t){const e=function(){const t=Xe();return t&&t[12]}();return e?e.sanitize(vr.URL,t)||"":function(t,e){const n=function(t){return t instanceof dr&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}(t,"URL")?fr(t):(n=Un(t),(n=String(n)).match(yr)||n.match(_r)?n:(gr()&&console.warn(`WARNING: sanitizing unsafe URL value ${n} (see http://g.co/ng/security#xss)`),"unsafe:"+n));var n}function wr(t,e){t.__ngContext__=e}function Er(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function Cr(){throw new Error("Cannot mix multi providers and regular providers")}function Sr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function Ar(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Sr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function xr(t){return 0===t.type&&"ng-template"!==t.tagName}function Tr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Dr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Nn(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Tr(t,u,n)||""===u&&1===e.length){if(Ir(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Ar(t.attrs,l,n)){if(Ir(r))return!1;o=!0}continue}const c=kr(8&r?"class":u,i,xr(t),n);if(-1===c){if(Ir(r))return!1;o=!0;continue}if(""!==l){let t;t=c>s?"":i[c+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Sr(e,l,0)||2&r&&l!==t){if(Ir(r))return!1;o=!0}}}}else{if(!o&&!Ir(r)&&!Ir(u))return!1;if(o&&Ir(u))continue;o=!1,r=u|1&r}}return Ir(r)||o}function Ir(t){return 0==(1&t)}function kr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Or(t,e,n=!1){for(let r=0;r<e.length;r++)if(Dr(t,e[r],n))return!0;return!1}function Nr(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Rr(t,e){return t?":not("+e.trim()+")":e}function Pr(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Ir(o)||(e+=Rr(s,i),i=""),r=o,s=s||!Ir(r);n++}return""!==i&&(e+=Rr(s,i)),e}const Vr={};function Fr(t){const e=t[3];return Ce(e)?e[3]:e}function Mr(t){return jr(t[13])}function Lr(t){return jr(t[4])}function jr(t){for(;null!==t&&!Ce(t);)t=t[4];return t}function Ur(t){Br(Je(),Xe(),wn()+t,on())}function Br(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&An(e,r,n)}else{const r=t.preOrderHooks;null!==r&&xn(e,r,0,n)}En(n)}function qr(t,e){return t<<17|e<<2}function zr(t){return t>>17&32767}function Hr(t){return 2|t}function $r(t){return(131068&t)>>2}function Gr(t,e){return-131069&t|e<<2}function Wr(t){return 1|t}function Yr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];fn(i),n.contentQueries(2,e[s],s)}}}function Kr(t,e,n){return Fe(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Qr(t,e,n,r,i,s,o,a,u,l){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,Ye(c),c[3]=c[15]=t,c[8]=n,c[10]=o||t&&t[10],c[11]=a||t&&t[11],c[12]=u||t&&t[12]||null,c[9]=l||t&&t[9]||null,c[6]=s,c[16]=2==e.type?t[16]:c,c}function Zr(t,e,n,r,i,s){const o=n+20,a=t.data[o]||function(t,e,n,r,i,s){const o=en(),a=rn(),u=a?o:o&&o.parent,l=t.data[n]=ai(0,u&&u!==e?u:null,r,n,i,s);return null===t.firstChild&&(t.firstChild=l),o&&(!a||null!=o.child||null===l.parent&&2!==o.type?a||(o.next=l):o.child=l),l}(t,e,o,r,i,s);return nn(a,!0),a}function Xr(t,e,n){mn(e,e[6]);try{const r=t.viewQuery;null!==r&&Ii(1,r,n);const i=t.template;null!==i&&ei(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Yr(t,e),t.staticViewQueries&&Ii(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Si(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,bn()}}function Jr(t,e,n,r){const i=e[2];if(256==(256&i))return;mn(e,e[6]);const s=on();try{Ye(e),Qe.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ei(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&An(e,n,null)}else{const n=t.preOrderHooks;null!==n&&xn(e,n,0,null),Tn(e,0)}if(function(t){for(let e=Mr(t);null!==e;e=Lr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ke(r,1),n[2]|=1024}}}(e),function(t){for(let e=Mr(t);null!==e;e=Lr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Ge(n)&&Jr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Yr(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&An(e,n)}else{const n=t.contentHooks;null!==n&&xn(e,n,1),Tn(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,En(s),r+=9+n[++t],i=r):r+=o:(null!==o&&(ln(r,i),o(2,e[i])),i++)}}}finally{En(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Ci(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Ii(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&An(e,n)}else{const n=t.viewHooks;null!==n&&xn(e,n,2),Tn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ke(e[3],-1))}finally{bn()}}function ti(t,e,n,r){const i=e[10],s=!on(),o=$e(e);try{s&&!o&&i.begin&&i.begin(),o&&Xr(t,e,r),Jr(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function ei(t,e,n,r,i){const s=wn();try{En(-1),2&r&&e.length>20&&Br(t,e,0,on()),n(r,i)}finally{En(s)}}function ni(t,e,n){Ze()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Wn(n,e),wr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Te(r);s&&vi(e,n,r);const u=nr(e,t,a,n);wr(u,e),null!==o&&bi(0,a-i,u,r,0,o),s&&(ze(n.index,e)[8]=u)}}(t,e,n,Ue(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-20,u=Qe.lFrame.currentDirectiveIndex;try{En(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];cn(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?fi(r,i):o&&s.push(null)}}finally{En(-1),cn(u)}}(t,e,n))}function ri(t,e,n=Ue){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function ii(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=si(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function si(t,e,n,r,i,s,o,a,u,l){const c=20+r,h=c+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Vr);return n}(c,h);return d[1]={type:t,id:e,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:l,incompleteFirstPass:!1}}function oi(t,e,n,r){const i=Oi(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function ai(t,e,n,r,i,s){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ui(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function li(t,e,n,r,i,s,o,a){const u=Ue(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Pi(t,n,l,r,i),Ae(e)&&function(t,e){const n=ze(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.tagName||"",r):i,Fe(s)?s.setProperty(u,r,i):Rn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ci(t,e,n,r){let i=!1;if(Ze()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Or(n,o.selectors,!1)&&(i||(i=[]),Zn(Wn(n,e),t,o.type),Te(o)?(2&n.flags&&Er(n),mi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,yi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}pi(t,n,s.length);let a=!1,u=!1;for(let i=0;i<s.length;i++){const l=s[i];n.mergedAttrs=Pn(n.mergedAttrs,l.hostAttrs),_i(t,e,l),gi(t.data.length-1,l,o),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const c=l.type.prototype;!a&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),u||!c.ngOnChanges&&!c.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),u=!0),hi(t,l),r+=l.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,l=null===i||xr(e)?null:wi(n,i);s.push(l),o=ui(n,u,o),a=ui(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),di(t,e,r)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Pn(n.mergedAttrs,n.attrs),i}function hi(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function di(t,e,n){for(let r=0;r<n;r++)e.push(Vr),t.blueprint.push(Vr),t.data.push(null)}function fi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function pi(t,e,n){const r=20-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function mi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function gi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Te(e)&&(n[""]=t)}}function yi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function _i(t,e,n){t.data.push(n);const r=n.factory||(n.factory=be(n.type)),i=new kn(r,Te(n),null);t.blueprint.push(i),e.push(i)}function vi(t,e,n){const r=Ue(e,t),i=ii(n),s=t[10],o=Ai(t,Qr(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n)));t[e.index]=o}function bi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function wi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ei(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ci(t,e){const n=ze(e,t);if(Ge(n)){const t=n[1];80&n[2]?Jr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Mr(e);null!==r;r=Lr(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Jr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=ze(n[r],e);Ge(i)&&i[5]>0&&t(i)}}(n)}}function Si(t,e){const n=ze(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Xr(r,n,n[8])}function Ai(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function xi(t){for(;t;){t[2]|=64;const e=Fr(t);if(De(t)&&!e)return t;t=e}return null}function Ti(t,e,n){const r=e[10];r.begin&&r.begin();try{Jr(t,e,t.template,n)}catch(i){throw Ri(e,i),i}finally{r.end&&r.end()}}function Di(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=He(n),i=r[1];ti(i,r,i.template,n)}}(t[8])}function Ii(t,e,n){fn(0),e(t,n)}const ki=(()=>Promise.resolve(null))();function Oi(t){return t[7]||(t[7]=[])}function Ni(t,e,n){return(null===t||Te(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Ri(t,e){const n=t[9],r=n?n.get(hr,null):null;r&&r.handleError(e)}function Pi(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],l=t.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function Vi(t,e){const n=e[3];return-1===t.index?Ce(n)?n:null:n}function Fi(t,e){const n=Vi(t,e);return n?Yi(e[11],n[7]):null}function Mi(t,e,n,r,i){if(null!=r){let s,o=!1;Ce(r)?s=r:Ee(r)&&(o=!0,r=r[0]);const a=Le(r);0===t&&null!==n?null==i?Gi(e,n,a):$i(e,n,a,i||null):1===t&&null!==n?$i(e,n,a,i||null):2===t?function(t,e,n){const r=Yi(t,e);r&&function(t,e,n,r){Fe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Le(n)&&Mi(e,t,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];Ji(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Li(t,e,n,r){const i=Fi(t.node,e);i&&Ji(t,e,e[11],n?1:2,i,r)}function ji(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&Ke(e[3],-1),n.splice(r,1)}function Ui(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&ji(i,r),e>0&&(t[n-1][4]=r[4]);const s=ee(t,10+e);Li(r[1],r,!1,null);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Bi(t,e){if(!(256&e[2])){const n=e[11];Fe(n)&&n.destroyNode&&Ji(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return zi(t[1],t);for(;e;){let n=null;if(Ee(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Ee(e)&&zi(e[1],e),e=qi(e,t);null===e&&(e=t),Ee(e)&&zi(e[1],e),n=e&&e[4]}e=n}}(e)}}function qi(t,e){let n;return Ee(t)&&(n=t[6])&&2===n.type?Vi(n,t):t[3]===e?null:t[3]}function zi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof kn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):Le(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Fe(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Ce(e[3])){r!==e[3]&&ji(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function Hi(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?Fi(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Ue(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==ae.ShadowDom&&n!==ae.Native)return null}return Ue(r,n)}function $i(t,e,n,r){Fe(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Gi(t,e,n){Fe(t)?t.appendChild(e,n):e.appendChild(n)}function Wi(t,e,n,r){null!==r?$i(t,e,n,r):Gi(t,e,n)}function Yi(t,e){return Fe(t)?t.parentNode(e):e.parentNode}function Ki(t,e){if(2===t.type){const n=Vi(t,e);return null===n?null:Zi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Ue(t,e):null}function Qi(t,e,n,r){const i=Hi(t,r,e);if(null!=i){const t=e[11],s=Ki(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Wi(t,i,n[e],s);else Wi(t,i,n,s)}}function Zi(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Ue(n,e);if(0===r)return Zi(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Ce(t)?Zi(-1,t):Le(t)}}{const r=e[16],i=r[6],s=Fr(r),o=i.projection[n.projection];return null!=o?t(s,o):t(e,n.next)}}return null}(t,r)}return e[7]}function Xi(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;o&&0===e&&(a&&wr(Le(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Xi(t,e,n.child,r,i,s,!1),Mi(e,t,i,a,s)):1===u?ts(t,e,r,n,i,s):Mi(e,t,i,a,s)),n=o?n.projectionNext:n.next}}function Ji(t,e,n,r,i,s){Xi(n,r,t.node.child,e,i,s,!1)}function ts(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Mi(e,t,i,a[u],s);else Xi(t,e,a,o[3],i,s,!0)}function es(t,e,n){Fe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ns(t,e,n){Fe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class rs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,s=!1){for(;null!==r;){const o=n[r.index];if(null!==o&&i.push(Le(o)),Ce(o))for(let e=10;e<o.length;e++){const n=o[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],s=e[6].projection[r.projection];if(Array.isArray(s))i.push(...s);else{const n=Fr(e);t(n[1],n,s,i,!0)}}r=s?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Bi(this._lView[1],this._lView)}onDestroy(t){oi(this._lView[1],this._lView,null,t)}markForCheck(){xi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ti(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){an(!0);try{Ti(t,e,n)}finally{an(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Ji(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class is extends rs{constructor(t){super(t),this._view=t}detectChanges(){Di(this._view)}checkNoChanges(){!function(t){an(!0);try{Di(t)}finally{an(!1)}}(this._view)}get context(){return null}}let ss,os,as;function us(t,e,n){return ss||(ss=class extends t{}),new ss(Ue(e,n))}function ls(t,e,n,r){return os||(os=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Qr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Xr(e,n,t),new rs(n)}}),0===n.type?new os(r,n,us(e,n,r)):null}function cs(t,e,n,r){let i;as||(as=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return us(e,this._hostTNode,this._hostView)}get injector(){return new sr(this._hostTNode,this._hostView)}get parentInjector(){const t=Qn(this._hostTNode,this._hostView),e=jn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=Ln(t),i=e,s=e[6];for(;r>1;)i=i[15],s=i[6],r--;return s}(t,this._hostView,this._hostTNode);return Fn(t)&&null!=n?new sr(n,e):new sr(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Zt,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ce(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new as(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],te(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),Li(r,n,!0,Zi(i,this._lContainer)),t.attachToViewContainerRef(this),te(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);!function(t,e){const n=Ui(t,e);n&&Bi(n[1],n)}(this._lContainer,e),ee(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Ui(this._lContainer,e);return n&&null!=ee(this._lContainer[8],e)?new rs(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(Ce(s))i=s;else{let t;if(4===n.type)t=Le(s);else if(t=r[11].createComment(""),De(r)){const e=r[11],i=Ue(n,r);$i(e,Yi(e,i),t,function(t,e){return Fe(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Qi(r[1],r,t,n);r[n.index]=i=Ei(s,r,t,n),Ai(r,i)}return new as(i,n,r)}let hs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ds(),t})();const ds=function(t=!1){return function(t,e,n){if(!n&&Ae(t)){const n=ze(t.index,e);return new rs(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new rs(e[16],e):null}(en(),Xe(),t)},fs=Function,ps=new Ft("Set Injector scope."),ms={},gs={},ys=[];let _s=void 0;function vs(){return void 0===_s&&(_s=new Qt),_s}function bs(t,e=null,n=null,r){return new ws(t,n,e||vs(),r)}class ws{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Jt(e,n=>this.processProvider(n,t,e)),Jt([t],t=>this.processInjectorType(t,[],i)),this.records.set(Mt,Ss(void 0,this));const s=this.records.get(ps);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:_t(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Lt,n=st.Default){this.assertNotDestroyed();const r=zt(this);try{if(!(n&st.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Ft)&&ct(t);e=n&&this.injectableDefInScope(n)?Ss(Es(t),ms):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&st.Self?vs():this.parent).get(t,e=n&st.Optional&&e===Lt?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(_t(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=_t(e);if(Array.isArray(e))i=e.map(_t).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):_t(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(jt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{zt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(_t(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=Et(t)))return!1;let r=dt(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=dt(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{Jt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Jt(r,t=>this.processProvider(t,n,r||ys))}}this.injectorDefTypes.add(s),this.records.set(s,Ss(r.factory,ms));const a=r.providers;if(null!=a&&!o){const e=t;Jt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=xs(t=Et(t))?t:Et(t&&t.provide);const i=function(t,e,n){return As(t)?Ss(void 0,t.useValue):Ss(Cs(t,e,n),ms)}(t,e,n);if(xs(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&Cr()}else{let e=this.records.get(r);e?void 0===e.multi&&Cr():(e=Ss(void 0,ms,!0),e.factory=()=>Kt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===gs?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(_t(t)):e.value===ms&&(e.value=gs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Es(t){const e=ct(t),n=null!==e?e.factory:be(t);if(null!==n)return n;const r=dt(t);if(null!==r)return r.factory;if(t instanceof Ft)throw new Error(`Token ${_t(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=ne(e,"?");throw new Error(`Can't resolve all parameters for ${_t(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[ft]||t[gt]||t[mt]&&t[mt]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Cs(t,e,n){let r=void 0;if(xs(t)){const e=Et(t);return be(e)||Es(e)}if(As(t))r=()=>Et(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Kt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Gt(Et(t.useExisting));else{const i=Et(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${_t(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return be(i)||Es(i);r=()=>new i(...Kt(t.deps))}var i;return r}function Ss(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function As(t){return null!==t&&"object"==typeof t&&Ut in t}function xs(t){return"function"==typeof t}const Ts=function(t,e,n){return function(t,e=null,n=null,r){const i=bs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Ds=(()=>{class t{static create(t,e){return Array.isArray(t)?Ts(t,e,""):Ts(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Lt,t.NULL=new Qt,t.\u0275prov=ut({token:t,providedIn:"any",factory:()=>Gt(Mt)}),t.__NG_ELEMENT_ID__=-1,t})();const Is=new Ft("AnalyzeForEntryComponents");function ks(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=vt(i,t):2==s&&(r=vt(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let Os=null;function Ns(){if(!Os){const t=Dt.Symbol;if(t&&t.iterator)Os=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Os=n)}}}return Os}class Rs{constructor(t){this.wrapped=t}static wrap(t){return new Rs(t)}static unwrap(t){return Rs.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Rs}}function Ps(t){return!!Vs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ns()in t)}function Vs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Fs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ms(t,e,n,r){const i=Xe();return Fs(i,un(),e)&&(Je(),function(t,e,n,r,i,s){const o=Ue(t,e),a=e[11];if(null==r)Fe(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==i?Un(r):i(r,t.tagName||"",n);Fe(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}(Cn(),i,t,e,n,r)),Ms}function Ls(t,e,n,r,i,s,o,a){const u=Xe(),l=Je(),c=t+20,h=l.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const l=e.consts,c=Zr(e,n[6],t,0,o||null,We(l,a));ci(e,n,c,We(l,u)),Sn(e,c);const h=c.tViews=si(2,-1,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l),d=ai(0,null,2,-1,null,null);return d.injectorIndex=c.injectorIndex,h.node=d,null!==e.queries&&(e.queries.template(e,c),h.queries=e.queries.embeddedTView(c)),c}(t,l,u,e,n,r,i,s,o):l.data[c];nn(h,!1);const d=u[11].createComment("");Qi(l,u,d,h),wr(d,u),Ai(u,u[c]=Ei(d,u,d,h)),xe(h)&&ni(l,u,h),null!=o&&ri(u,h,a)}function js(t){return qe(Qe.lFrame.contextLView,t)}function Us(t,e=st.Default){const n=Xe();return null==n?Gt(t,e):Xn(en(),n,Et(t),e)}function Bs(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Nn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(en(),t)}function qs(t,e,n){const r=Xe();return Fs(r,un(),e)&&li(Je(),Cn(),r,t,e,r[11],n,!1),qs}function zs(t,e,n,r,i){const s=i?"class":"style";Pi(t,n,e.inputs[s],s,r)}function Hs(t,e,n,r){const i=Xe(),s=Je(),o=20+t,a=i[11],u=i[o]=Kr(e,a,Qe.lFrame.currentNamespace),l=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=We(a,s),l=Zr(e,n[6],t,3,i,u);return ci(e,n,l,We(a,o)),null!==l.attrs&&ks(l,l.attrs,!1),null!==l.mergedAttrs&&ks(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(t,s,i,0,e,n,r):s.data[o];nn(l,!0);const c=l.mergedAttrs;null!==c&&On(a,u,c);const h=l.classes;null!==h&&ns(a,u,h);const d=l.styles;null!==d&&es(a,u,d),Qi(s,i,u,l),0===Qe.lFrame.elementDepthCount&&wr(u,i),Qe.lFrame.elementDepthCount++,xe(l)&&(ni(s,i,l),function(t,e,n){if(Se(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(s,l,i)),null!==r&&ri(i,l)}function $s(){let t=en();rn()?sn():(t=t.parent,nn(t,!1));const e=t;Qe.lFrame.elementDepthCount--;const n=Je();n.firstCreatePass&&(Sn(n,t),Se(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&zs(n,e,Xe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&zs(n,e,Xe(),e.stylesWithoutHost,!1)}function Gs(t,e,n,r){Hs(t,e,n,r),$s()}function Ws(){return Xe()}function Ys(t){return!!t&&"function"==typeof t.then}function Ks(t){return!!t&&"function"==typeof t.subscribe}function Qs(t,e,n=!1,r){const i=Xe(),s=Je(),o=en();return Xs(s,i,i[11],o,t,e,n,r),Qs}function Zs(t,e,n=!1,r){const i=en(),s=Xe(),o=Je();return Xs(o,s,Ni(hn(o.data),i,s),i,t,e,n,r),Zs}function Xs(t,e,n,r,i,s,o=!1,a){const u=xe(r),l=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),c=Oi(e);let h=!0;if(3===r.type){const d=Ue(r,e),f=a?a(d):ue,p=f.target||d,m=c.length,g=a?t=>a(Le(t[r.index])).target:r.index;if(Fe(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=to(r,e,s,!1);const t=n.listen(f.name||p,i,s);c.push(s,t),l&&l.push(i,g,m,m+1)}}else s=to(r,e,s,!0),p.addEventListener(i,s,o),c.push(s),l&&l.push(i,g,m,o)}const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=c.length;c.push(s,t),l&&l.push(i,r.index,o,-(o+1))}}}function Js(t,e,n){try{return!1!==e(n)}catch(r){return Ri(t,r),!1}}function to(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?ze(t.index,e):e;0==(32&e[2])&&xi(o);let a=Js(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=Js(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function eo(t=1){return function(t){return(Qe.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Qe.lFrame.contextLView))[8]}(t)}function no(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Or(t,s,!0):Nr(r,s))return i}else n=i}return n}function ro(t){const e=Xe()[16][6];if(!e.projection){const n=e.projection=ne(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?no(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function io(t,e=0,n){const r=Xe(),i=Je(),s=Zr(i,r[6],t,1,null,n||null);null===s.projection&&(s.projection=e),sn(),function(t,e,n){ts(e[11],0,e,n,Hi(t,n,e),Ki(n.parent||e[6],e))}(i,r,s)}const so=[];function oo(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?zr(s):$r(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];ao(t[a],e)&&(u=!0,t[a+1]=r?Wr(n):Hr(n)),a=r?zr(n):$r(n)}u&&(t[n+1]=r?Hr(s):Wr(s))}function ao(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&se(t,e)>=0}function uo(t,e,n){return co(t,e,n,!1),uo}function lo(t,e){return co(t,e,null,!0),lo}function co(t,e,n,r){const i=Xe(),s=Je(),o=function(t){const e=Qe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[wn()+20],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=hn(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=fo(n=ho(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=ho(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==$r(r))return t[zr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=ho(null,t,e,n[1],r),n=fo(n,e.attrs,r),function(t,e,n,r){t[zr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=fo(r,t[s].hostAttrs,n);return fo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=zr(o),u=$r(o);t[r]=n;let l,c=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||se(t,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const e=zr(t[a+1]);t[r+1]=qr(e,a),0!==e&&(t[e+1]=Gr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=qr(a,0),0!==a&&(t[a+1]=Gr(t[a+1],r)),a=r;else t[r+1]=qr(u,0),0===a?a=r:t[u+1]=Gr(t[u+1],r),u=r;c&&(t[r+1]=Hr(t[r+1])),oo(t,l,r,!0),oo(t,l,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&se(s,e)>=0&&(n[r+1]=Wr(n[r+1]))}(e,l,t,r,s),o=qr(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Vr&&Fs(i,o,e)&&function(t,e,n,r,i,s,o,a){if(3!==e.type)return;const u=t.data,l=u[a+1];mo(1==(1&l)?po(u,e,n,i,$r(l),o):void 0)||(mo(s)||function(t){return 2==(2&t)}(l)&&(s=po(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Fe(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?s?t.removeStyle(n,r,e):n.style.removeProperty(r):s?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,o,je(wn(),n),i,s))}(s,s.data[wn()+20],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=_t(fr(t)))),t}(e,n),r,o)}function ho(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=fo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function fo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),re(t,o,!!n||e[++s]))}return void 0===t?null:t}function po(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,l=null===u;let c=n[i+1];c===Vr&&(c=l?so:void 0);let h=l?ie(c,r):u===r?c:void 0;if(s&&!mo(h)&&(h=ie(e,r)),mo(h)&&(a=h,o))return a;const d=t[i+1];i=o?zr(d):$r(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=ie(t,r))}return a}function mo(t){return void 0!==t}function go(t,e=""){const n=Xe(),r=Je(),i=t+20,s=r.firstCreatePass?Zr(r,n[6],t,3,null,null):r.data[i],o=n[i]=function(t,e){return Fe(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Qi(r,n,o,s),nn(s,!1)}function yo(t){return _o("",t,""),yo}function _o(t,e,n){const r=Xe(),i=function(t,e,n,r){return Fs(t,un(),n)?e+Un(n)+r:Vr}(r,t,e,n);return i!==Vr&&function(t,e,n){const r=je(e,t),i=t[11];Fe(i)?i.setValue(r,n):r.textContent=n}(r,wn(),i),_o}function vo(t,e,n){const r=Xe();return Fs(r,un(),e)&&li(Je(),Cn(),r,t,e,r[11],n,!0),vo}function bo(t,e,n){const r=Xe();if(Fs(r,un(),e)){const i=Je(),s=Cn();li(i,s,r,t,e,Ni(hn(i.data),s,r),n,!0)}return bo}function wo(t,e){const n=He(t)[1],r=n.data.length-1;Sn(n,{directiveStart:r,directiveEnd:r+1})}function Eo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Te(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Co(t.inputs),e.declaredInputs=Co(t.declaredInputs),e.outputs=Co(t.outputs);const n=i.hostBindings;n&&xo(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&So(t,s),o&&Ao(t,o),at(t.inputs,i.inputs),at(t.declaredInputs,i.declaredInputs),at(t.outputs,i.outputs),Te(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Eo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Pn(i.hostAttrs,n=Pn(n,i.hostAttrs))}}(r)}function Co(t){return t===ue?{}:t===le?[]:t}function So(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ao(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function xo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}function To(t,e,n,r,i){if(t=Et(t),Array.isArray(t))for(let s=0;s<t.length;s++)To(t[s],e,n,r,i);else{const s=Je(),o=Xe();let a=xs(t)?t:Et(t.provide),u=Cs(t);const l=en(),c=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(xs(t)||!t.multi){const r=new kn(u,i,Us),f=ko(a,e,i?c:c+d,h);-1===f?(Zn(Wn(l,o),s,a),Do(s,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=ko(a,e,c+d,h),p=ko(a,e,c,c+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){Zn(Wn(l,o),s,a);const c=function(t,e,n,r,i){const s=new kn(t,n,Us);return s.multi=[],s.index=e,s.componentProviders=0,Io(s,i,r&&!n),s}(i?No:Oo,n.length,i,r,u);!i&&g&&(n[p].providerFactory=c),Do(s,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(c),o.push(c)}else Do(s,t,f>-1?f:p,Io(n[i?p:f],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function Do(t,e,n,r){const i=xs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Io(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ko(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Oo(t,e,n,r){return Ro(this.multi,[])}function No(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=nr(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Ro(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Ro(i,s);return s}function Ro(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Po(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Je();if(r.firstCreatePass){const i=Te(t);To(n,r.data,r.blueprint,i,!0),To(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Vo{}class Fo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${_t(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Mo=(()=>{class t{}return t.NULL=new Fo,t})(),Lo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>jo(t),t})();const jo=function(t){return us(t,en(),Xe())};class Uo{}var Bo=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let qo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>zo(),t})();const zo=function(){const t=Xe(),e=ze(en().index,t);return function(t){const e=t[11];if(Fe(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Ee(e)?e:t)};let Ho=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>null}),t})();class $o{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Go=new $o("10.0.5");class Wo{constructor(){}supports(t){return Ps(t)}create(t){return new Ko(t)}}const Yo=(t,e)=>e;class Ko{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Yo}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Jo(n,r,i)?e:n,o=Jo(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ps(t))throw new Error(`Error trying to diff '${_t(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ns()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Qo(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Xo),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xo),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Qo{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Zo{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Xo{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Zo,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jo(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ta{constructor(){}supports(t){return t instanceof Map||Vs(t)}create(){return new ea}}class ea{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Vs(t)))throw new Error(`Error trying to diff '${_t(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new na(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class na{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ra=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new it,new nt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new t([new Wo])}),t})(),ia=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new it,new nt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new t([new ta])}),t})();const sa=[new ta],oa=new ra([new Wo]),aa=new ia(sa);let ua=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>la(t,Lo),t})();const la=function(t,e){return ls(t,e,en(),Xe())};let ca=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ha(t,Lo),t})();const ha=function(t,e){return cs(t,e,en(),Xe())},da={};class fa extends Mo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ve(t);return new ga(e,this.ngModule)}}function pa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ma=new Ft("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>qn});class ga extends Vo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Pr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return pa(this.componentDef.inputs)}get outputs(){return pa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,da,i);return s!==da||r===da?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Uo,Me),o=i.get(Ho,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if(Fe(t))return t.selectRootElement(e,n===ae.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Kr(u,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),c=this.componentDef.onPush?576:528,h={components:[],scheduler:qn,clean:ki,playerHandler:null,flags:0},d=si(0,-1,null,1,0,null,null,null,null,null),f=Qr(null,d,h,c,null,null,s,a,o,i);let p,m;mn(f,null);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Zr(o,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(ks(a,u,!0),null!==t&&(On(i,t,u),null!==a.classes&&ns(i,t,a.classes),null!==a.styles&&es(i,t,a.styles)));const l=r.createRenderer(t,e),c=Qr(n,ii(e),null,e.onPush?64:16,n[20],a,r,l,void 0);return o.firstCreatePass&&(Zn(Wn(a,n),o,e.type),mi(o,a),yi(a,n.length,1)),Ai(n,c),n[20]=c}(l,this.componentDef,f,s,a);if(l)if(n)On(a,l,["ng-version",Go.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Ir(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&On(a,l,t),e&&e.length>0&&ns(a,l,e.join(" "))}if(m=Be(d,0),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=en();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),pi(t,r,1),_i(t,e,n));const i=nr(e,t,e.length-1,r);wr(i,e);const s=Ue(r,e);return s&&wr(s,e),i}(s,n,e);r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=en();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){En(a.index-20);const t=n[1];hi(t,e),di(t,n,e.hostVars),fi(e,o)}return o}(t,this.componentDef,f,h,[wo]),Xr(d,f,null)}finally{bn()}const g=new ya(this.componentType,p,us(Lo,m,f),f,m);return d.node.child=m,g}}class ya extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new is(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=ai(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new sr(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const _a=void 0;var va=["en",[["a","p"],["AM","PM"],_a],[["AM","PM"],_a,_a],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_a,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_a,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_a,"{1} 'at' {0}",_a],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ba={};function wa(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ea(e);if(n)return n;const r=e.split("-")[0];if(n=Ea(r),n)return n;if("en"===r)return va;throw new Error(`Missing locale data for the locale "${t}".`)}function Ea(t){return t in ba||(ba[t]=Dt.ng&&Dt.ng.common&&Dt.ng.common.locales&&Dt.ng.common.locales[t]),ba[t]}var Ca=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let Sa="en-US";function Aa(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Sa=t.toLowerCase().replace(/_/g,"-"))}const xa=new Map;class Ta extends Zt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new fa(this);const n=we(t),r=t[Rt]||null;r&&Aa(r),this._bootstrapComponents=zn(n.bootstrap),this._r3Injector=bs(t,e,[{provide:Zt,useValue:this},{provide:Mo,useValue:this.componentFactoryResolver}],_t(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Ds.THROW_IF_NOT_FOUND,n=st.Default){return t===Ds||t===Zt||t===Mt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Da extends Xt{constructor(t){super(),this.moduleType=t,null!==we(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${_t(e)} vs ${_t(e.name)}`)})(t,xa.get(t),e),xa.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new Ta(this.moduleType,t)}}function Ia(t,e){const n=Je();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=be(r.type)),o=Ht(Us),a=$n(!1),u=s();return $n(a),Ht(o),function(t,e,n,r){const i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,Xe(),t,u),u}function ka(t,e,n){const r=Xe(),i=qe(r,t);return function(t,e){return Rs.isWrapped(e)&&(e=Rs.unwrap(e),t[Qe.lFrame.bindingIndex]=Vr),e}(r,function(t,e){return t[1].data[e+20].pure}(r,t)?function(t,e,n,r,i,s){const o=e+n;return Fs(t,o,i)?function(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function(t,e){const n=t[e];return n===Vr?void 0:n}(t,o+1)}(r,function(){const t=Qe.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,i.transform,n,i):i.transform(n))}const Oa=class extends C{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(r,i,s);return t instanceof h&&t.add(o),o}};function Na(){return this._results[Ns()]()}class Ra{constructor(){this.dirty=!0,this._results=[],this.changes=new Oa,this.length=0;const t=Ns(),e=Ra.prototype;e[t]||(e[t]=Na)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Pa{constructor(t){this.queryList=t,this.matches=null}clone(){return new Pa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Va{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Va(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ya(t,e).matches&&this.queries[e].setDirty()}}class Fa{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Ma{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ma(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class La{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new La(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,ja(e,n[r]))}else{const n=this.metadata.predicate;n===ua?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,er(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Lo||r===ca||r===ua&&0===e.type)this.addMatch(e.index,-2);else{const n=er(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function ja(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ua(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?us(Lo,t,e):0===t.type?ls(ua,Lo,t,e):null}(e,t):-2===n?function(t,e,n){return n===Lo?us(Lo,e,t):n===ua?ls(ua,Lo,e,t):n===ca?cs(ca,Lo,e,t):void 0}(t,e,r):nr(t,t[1],n,e)}function Ba(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Ua(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function qa(t){const e=Xe(),n=Je(),r=dn();fn(r+1);const i=Ya(n,r);if(t.dirty&&$e(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?function t(e,n,r,i){const s=e.queries.getByIndex(r),o=s.matches;if(null!==o){const a=Ba(e,n,s,r);for(let e=0;e<o.length;e+=2){const r=o[e];if(r>0)i.push(a[e/2]);else{const s=o[e+1],a=n[-r];for(let e=10;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,s,i)}}}}}return i}(n,e,r,[]):Ba(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function za(t,e,n){Ha(Je(),Xe(),t,e,n,!1)}function Ha(t,e,n,r,i,s){t.firstCreatePass&&(Wa(t,new Fa(n,r,s,i),-1),s&&(t.staticViewQueries=!0)),Ga(t,e)}function $a(){return t=Xe(),e=dn(),t[19].queries[e].queryList;var t,e}function Ga(t,e){const n=new Ra;oi(t,e,n,n.destroy),null===e[19]&&(e[19]=new Va),e[19].queries.push(new Pa(n))}function Wa(t,e,n){null===t.queries&&(t.queries=new Ma),t.queries.track(new La(e,n))}function Ya(t,e){return t.queries.getByIndex(e)}function Ka(t,e){return ls(ua,Lo,t,e)}const Qa=new Ft("Application Initializer");let Za=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ys(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Gt(Qa,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Xa=new Ft("AppId"),Ja={provide:Xa,useFactory:function(){return`${tu()}${tu()}${tu()}`},deps:[]};function tu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const eu=new Ft("Platform Initializer"),nu=new Ft("Platform ID"),ru=new Ft("appBootstrapListener");let iu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const su=new Ft("LocaleId"),ou=new Ft("DefaultCurrencyCode");class au{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const uu=function(t){return new Da(t)},lu=uu,cu=function(t){return Promise.resolve(uu(t))},hu=function(t){const e=uu(t),n=zn(we(t).declarations).reduce((t,e)=>{const n=ve(e);return n&&t.push(new ga(n)),t},[]);return new au(e,n)},du=hu,fu=function(t){return Promise.resolve(hu(t))};let pu=(()=>{class t{constructor(){this.compileModuleSync=lu,this.compileModuleAsync=cu,this.compileModuleAndAllComponentsSync=du,this.compileModuleAndAllComponentsAsync=fu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const mu=(()=>Promise.resolve(0))();function gu(t){"undefined"==typeof Zone?mu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class yu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oa(!1),this.onMicrotaskEmpty=new Oa(!1),this.onStable=new Oa(!1),this.onError=new Oa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=Dt.requestAnimationFrame,e=Dt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Dt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,wu(t),bu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),wu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return Eu(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Cu(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Eu(t),e.invoke(r,i,s,o,a)}finally{Cu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,wu(t),bu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(yu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,vu,_u,_u);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function _u(){}const vu={};function bu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function wu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Eu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Cu(t){t._nesting--,bu(t)}class Su{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oa,this.onMicrotaskEmpty=new Oa,this.onStable=new Oa,this.onError=new Oa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Au=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yu.assertNotInAngularZone(),gu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Gt(yu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),xu=(()=>{class t{constructor(){this._applications=new Map,Iu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Iu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Tu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Du,Iu=new Tu;const ku=new Ft("AllowMultipleToken");class Ou{constructor(t,e){this.name=t,this.token=e}}function Nu(t,e,n=[]){const r="Platform: "+e,i=new Ft(r);return(e=[])=>{let s=Ru();if(!s||s.injector.get(ku,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ps,useValue:"platform"});!function(t){if(Du&&!Du.destroyed&&!Du.injector.get(ku,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Du=t.get(Pu);const e=t.get(eu,null);e&&e.forEach(t=>t())}(Ds.create({providers:t,name:r}))}return function(t){const e=Ru();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ru(){return Du&&!Du.destroyed?Du:null}let Pu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Su:("zone.js"===t?void 0:t)||new yu({enableLongStackTrace:gr(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:yu,useValue:n}];return n.run(()=>{const e=Ds.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(hr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Mu(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return Ys(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Za);return t.runInitializers(),t.donePromise.then(()=>(Aa(i.injector.get(su,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Vu({},e);return function(t,e,n){const r=new Da(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Fu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${_t(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ds))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Vu(t,e){return Array.isArray(e)?e.reduce(Vu,t):Object.assign(Object.assign({},t),e)}let Fu=(()=>{class t{constructor(t,e,n,r,i,s){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=gr(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new _(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new _(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{yu.assertNotInAngularZone(),gu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{yu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=$(o,a.pipe(t=>{return G()((e=X,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,Q);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Vo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Zt),i=n.create(Ds.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(Au,null);return s&&i.injector.get(xu).registerApplication(i.location.nativeElement,s),this._loadComponent(i),gr()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Mu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ru,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Mu(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Gt(yu),Gt(iu),Gt(Ds),Gt(hr),Gt(Mo),Gt(Za))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Mu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Lu{}class ju{}const Uu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Bu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Uu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>qu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>qu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Gt(pu),Gt(ju,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function qu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const zu=Nu(null,"core",[{provide:nu,useValue:"unknown"},{provide:Pu,deps:[Ds]},{provide:xu,deps:[]},{provide:iu,deps:[]}]),Hu=[{provide:Fu,useClass:Fu,deps:[yu,iu,Ds,hr,Mo,Za]},{provide:ma,deps:[yu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Za,useClass:Za,deps:[[new nt,Qa]]},{provide:pu,useClass:pu,deps:[]},Ja,{provide:ra,useFactory:function(){return oa},deps:[]},{provide:ia,useFactory:function(){return aa},deps:[]},{provide:su,useFactory:function(t){return Aa(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new et(su),new nt,new it]]},{provide:ou,useValue:"USD"}];let $u=(()=>{class t{constructor(t){}}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(Gt(Fu))},providers:Hu}),t})();const Gu={apiKey:"AIzaSyB-6IDnnCp2-IzFhbVID4guhJHpQVfNZr8",authDomain:"intercorp-retail-6f5b5.firebaseapp.com",databaseURL:"https://intercorp-retail-6f5b5.firebaseio.com",projectId:"intercorp-retail-6f5b5",storageBucket:"intercorp-retail-6f5b5.appspot.com",messagingSenderId:"316929833155",appId:"1:316929833155:web:ed8a44d7fcf1f761ba4a76",measurementId:"G-S7W73Z9G13"};let Wu=null;function Yu(){return Wu}const Ku=new Ft("DocumentToken");let Qu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:Zu,token:t,providedIn:"platform"}),t})();function Zu(){return Gt(Ju)}const Xu=new Ft("Location Initialized");let Ju=(()=>{class t extends Qu{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Yu().getLocation(),this._history=Yu().getHistory()}getBaseHrefFromDOM(){return Yu().getBaseHref(this._doc)}onPopState(t){Yu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Yu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){tl()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){tl()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ku))},t.\u0275prov=ut({factory:el,token:t,providedIn:"platform"}),t})();function tl(){return!!window.history.pushState}function el(){return new Ju(Gt(Ku))}function nl(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function rl(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function il(t){return t&&"?"!==t[0]?"?"+t:t}let sl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:ol,token:t,providedIn:"root"}),t})();function ol(t){const e=Gt(Ku).location;return new ul(Gt(Qu),e&&e.origin||"")}const al=new Ft("appBaseHref");let ul=(()=>{class t extends sl{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return nl(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+il(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+il(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+il(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Gt(Qu),Gt(al,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),ll=(()=>{class t extends sl{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=nl(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+il(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+il(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Gt(Qu),Gt(al,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),cl=(()=>{class t{constructor(t,e){this._subject=new Oa,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=rl(dl(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+il(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,dl(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+il(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+il(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(Gt(sl),Gt(Qu))},t.normalizeQueryParams=il,t.joinWithSlash=nl,t.stripTrailingSlash=rl,t.\u0275prov=ut({factory:hl,token:t,providedIn:"root"}),t})();function hl(){return new cl(Gt(sl),Gt(Qu))}function dl(t){return t.replace(/\/index.html$/,"")}var fl=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),pl=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),ml=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),gl=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),yl=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function _l(t,e){return Cl(wa(t)[Ca.DateFormat],e)}function vl(t,e){return Cl(wa(t)[Ca.TimeFormat],e)}function bl(t,e){return Cl(wa(t)[Ca.DateTimeFormat],e)}function wl(t,e){const n=wa(t),r=n[Ca.NumberSymbols][e];if(void 0===r){if(e===yl.CurrencyDecimal)return n[Ca.NumberSymbols][yl.Decimal];if(e===yl.CurrencyGroup)return n[Ca.NumberSymbols][yl.Group]}return r}function El(t){if(!t[Ca.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ca.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Cl(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Sl(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const Al=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xl={},Tl=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Dl=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),Il=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),kl=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function Ol(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function Nl(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function Rl(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function(t,e){switch(t){case Il.FullYear:return e.getFullYear();case Il.Month:return e.getMonth();case Il.Date:return e.getDate();case Il.Hours:return e.getHours();case Il.Minutes:return e.getMinutes();case Il.Seconds:return e.getSeconds();case Il.FractionalSeconds:return e.getMilliseconds();case Il.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===Il.Hours)0===a&&-12===n&&(a=12);else if(t===Il.FractionalSeconds)return u=e,Nl(a,3).substr(0,u);var u;const l=wl(o,yl.MinusSign);return Nl(a,e,l,r,i)}}function Pl(t,e,n=pl.Format,r=!1){return function(i,s){return function(t,e,n,r,i,s){switch(n){case kl.Months:return function(t,e,n){const r=wa(t),i=Cl([r[Ca.MonthsFormat],r[Ca.MonthsStandalone]],e);return Cl(i,n)}(e,i,r)[t.getMonth()];case kl.Days:return function(t,e,n){const r=wa(t),i=Cl([r[Ca.DaysFormat],r[Ca.DaysStandalone]],e);return Cl(i,n)}(e,i,r)[t.getDay()];case kl.DayPeriods:const o=t.getHours(),a=t.getMinutes();if(s){const t=function(t){const e=wa(t);return El(e),(e[Ca.ExtraData][2]||[]).map(t=>"string"==typeof t?Sl(t):[Sl(t[0]),Sl(t[1])])}(e),n=function(t,e,n){const r=wa(t);El(r);const i=Cl([r[Ca.ExtraData][0],r[Ca.ExtraData][1]],e)||[];return Cl(i,n)||[]}(e,i,r),s=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=o>=e.hours&&a>=e.minutes,i=o<n.hours||o===n.hours&&a<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===o&&t.minutes===a)return!0;return!1});if(-1!==s)return n[s]}return function(t,e,n){const r=wa(t),i=Cl([r[Ca.DayPeriodsFormat],r[Ca.DayPeriodsStandalone]],e);return Cl(i,n)}(e,i,r)[o<12?0:1];case kl.Eras:return function(t,e){return Cl(wa(t)[Ca.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(i,s,t,e,n,r)}}function Vl(t){return function(e,n,r){const i=-1*r,s=wl(n,yl.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Dl.Short:return(i>=0?"+":"")+Nl(o,2,s)+Nl(Math.abs(i%60),2,s);case Dl.ShortGMT:return"GMT"+(i>=0?"+":"")+Nl(o,1,s);case Dl.Long:return"GMT"+(i>=0?"+":"")+Nl(o,2,s)+":"+Nl(Math.abs(i%60),2,s);case Dl.Extended:return 0===r?"Z":(i>=0?"+":"")+Nl(o,2,s)+":"+Nl(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function Fl(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(n.getFullYear()),e=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))).getTime()-t.getTime();i=1+Math.round(e/6048e5)}var s;return Nl(i,t,wl(r,yl.MinusSign))}}const Ml={};function Ll(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function jl(t){return t instanceof Date&&!isNaN(t.valueOf())}class Ul{}let Bl=(()=>{class t extends Ul{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return wa(t)[Ca.PluralCase]}(e||this.locale)(t)){case fl.Zero:return"zero";case fl.One:return"one";case fl.Two:return"two";case fl.Few:return"few";case fl.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Gt(su))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),ql=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Ps(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+_t(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(Us(ra),Us(ia),Us(Lo),Us(qo))},t.\u0275dir=ye({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class zl{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Hl=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){gr()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new zl(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new $l(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new $l(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Us(ca),Us(ua),Us(ra))},t.\u0275dir=ye({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class $l{constructor(t,e){this.record=t,this.view=e}}let Gl=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Wl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Yl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Yl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Us(ca),Us(ua))},t.\u0275dir=ye({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Wl{constructor(){this.$implicit=null,this.ngIf=null}}function Yl(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${_t(e)}'.`)}class Kl{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ql=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),Zl=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Kl(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(Us(ca),Us(ua),Us(Ql,1))},t.\u0275dir=ye({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),Xl=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return function(t,e,n,r){let i=function(t){if(jl(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(Al))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,u,l),e}(n)}const e=new Date(t);if(!jl(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const r=function(t){return wa(t)[Ca.LocaleId]}(e);if(xl[r]=xl[r]||{},xl[r][n])return xl[r][n];let i="";switch(n){case"shortDate":i=_l(e,gl.Short);break;case"mediumDate":i=_l(e,gl.Medium);break;case"longDate":i=_l(e,gl.Long);break;case"fullDate":i=_l(e,gl.Full);break;case"shortTime":i=vl(e,gl.Short);break;case"mediumTime":i=vl(e,gl.Medium);break;case"longTime":i=vl(e,gl.Long);break;case"fullTime":i=vl(e,gl.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");i=Ol(bl(e,gl.Short),[n,r]);break;case"medium":const s=t(e,"mediumTime"),o=t(e,"mediumDate");i=Ol(bl(e,gl.Medium),[s,o]);break;case"long":const a=t(e,"longTime"),u=t(e,"longDate");i=Ol(bl(e,gl.Long),[a,u]);break;case"full":const l=t(e,"fullTime"),c=t(e,"fullDate");i=Ol(bl(e,gl.Full),[l,c])}return i&&(xl[r][n]=i),i}(n,e)||e;let s,o=[];for(;e;){if(s=Tl.exec(e),!s){o.push(e);break}{o=o.concat(s.slice(1));const t=o.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=Ll(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Ll(e,r)-r))}(i,r));let u="";return o.forEach(t=>{const e=function(t){if(Ml[t])return Ml[t];let e;switch(t){case"G":case"GG":case"GGG":e=Pl(kl.Eras,ml.Abbreviated);break;case"GGGG":e=Pl(kl.Eras,ml.Wide);break;case"GGGGG":e=Pl(kl.Eras,ml.Narrow);break;case"y":e=Rl(Il.FullYear,1,0,!1,!0);break;case"yy":e=Rl(Il.FullYear,2,0,!0,!0);break;case"yyy":e=Rl(Il.FullYear,3,0,!1,!0);break;case"yyyy":e=Rl(Il.FullYear,4,0,!1,!0);break;case"M":case"L":e=Rl(Il.Month,1,1);break;case"MM":case"LL":e=Rl(Il.Month,2,1);break;case"MMM":e=Pl(kl.Months,ml.Abbreviated);break;case"MMMM":e=Pl(kl.Months,ml.Wide);break;case"MMMMM":e=Pl(kl.Months,ml.Narrow);break;case"LLL":e=Pl(kl.Months,ml.Abbreviated,pl.Standalone);break;case"LLLL":e=Pl(kl.Months,ml.Wide,pl.Standalone);break;case"LLLLL":e=Pl(kl.Months,ml.Narrow,pl.Standalone);break;case"w":e=Fl(1);break;case"ww":e=Fl(2);break;case"W":e=Fl(1,!0);break;case"d":e=Rl(Il.Date,1);break;case"dd":e=Rl(Il.Date,2);break;case"E":case"EE":case"EEE":e=Pl(kl.Days,ml.Abbreviated);break;case"EEEE":e=Pl(kl.Days,ml.Wide);break;case"EEEEE":e=Pl(kl.Days,ml.Narrow);break;case"EEEEEE":e=Pl(kl.Days,ml.Short);break;case"a":case"aa":case"aaa":e=Pl(kl.DayPeriods,ml.Abbreviated);break;case"aaaa":e=Pl(kl.DayPeriods,ml.Wide);break;case"aaaaa":e=Pl(kl.DayPeriods,ml.Narrow);break;case"b":case"bb":case"bbb":e=Pl(kl.DayPeriods,ml.Abbreviated,pl.Standalone,!0);break;case"bbbb":e=Pl(kl.DayPeriods,ml.Wide,pl.Standalone,!0);break;case"bbbbb":e=Pl(kl.DayPeriods,ml.Narrow,pl.Standalone,!0);break;case"B":case"BB":case"BBB":e=Pl(kl.DayPeriods,ml.Abbreviated,pl.Format,!0);break;case"BBBB":e=Pl(kl.DayPeriods,ml.Wide,pl.Format,!0);break;case"BBBBB":e=Pl(kl.DayPeriods,ml.Narrow,pl.Format,!0);break;case"h":e=Rl(Il.Hours,1,-12);break;case"hh":e=Rl(Il.Hours,2,-12);break;case"H":e=Rl(Il.Hours,1);break;case"HH":e=Rl(Il.Hours,2);break;case"m":e=Rl(Il.Minutes,1);break;case"mm":e=Rl(Il.Minutes,2);break;case"s":e=Rl(Il.Seconds,1);break;case"ss":e=Rl(Il.Seconds,2);break;case"S":e=Rl(Il.FractionalSeconds,1);break;case"SS":e=Rl(Il.FractionalSeconds,2);break;case"SSS":e=Rl(Il.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Vl(Dl.Short);break;case"ZZZZZ":e=Vl(Dl.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Vl(Dl.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Vl(Dl.Long);break;default:return null}return Ml[t]=e,e}(t);u+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}(e,n,i||this.locale,r)}catch(s){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${_t(t)}'`)}(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(Us(su))},t.\u0275pipe=_e({name:"date",type:t,pure:!0}),t})(),Jl=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[{provide:Ul,useClass:Bl}]}),t})(),tc=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new ec(Gt(Ku),window,Gt(hr))}),t})();class ec{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class nc extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new nc,Wu||(Wu=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=ic||(ic=document.querySelector("base"),ic)?ic.getAttribute("href"):null;return null==e?null:(n=e,rc||(rc=document.createElement("a")),rc.setAttribute("href",n),"/"===rc.pathname.charAt(0)?rc.pathname:"/"+rc.pathname);var n}resetBaseElement(){ic=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let rc,ic=null;const sc=new Ft("TRANSITION_ID"),oc=[{provide:Qa,useFactory:function(t,e,n){return()=>{n.get(Za).donePromise.then(()=>{const n=Yu();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[sc,Ku,Ds],multi:!0}];class ac{static init(){var t;t=new ac,Iu=t}addToWindow(t){Dt.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Dt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Dt.getAllAngularRootElements=()=>t.getAllRootElements(),Dt.frameworkStabilizers||(Dt.frameworkStabilizers=[]),Dt.frameworkStabilizers.push(t=>{const e=Dt.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Yu().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const uc=new Ft("EventManagerPlugins");let lc=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(Gt(uc),Gt(yu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class cc{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Yu().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let hc=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),dc=(()=>{class t extends hc{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Yu().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ku))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const fc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},pc=/%COMP%/g;function mc(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?mc(t,i,n):(i=i.replace(pc,t),n.push(i))}return n}function gc(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let yc=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new _c(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ae.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new vc(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case ae.Native:case ae.ShadowDom:return new bc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=mc(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Gt(lc),Gt(dc),Gt(Xa))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class _c{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(fc[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=fc[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=fc[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&Bo.DashCase?t.style.setProperty(e,n,r&Bo.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Bo.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,gc(n)):this.eventManager.addEventListener(t,e,gc(n))}}class vc extends _c{constructor(t,e,n,r){super(t),this.component=n;const i=mc(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(pc,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(pc,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class bc extends _c{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===ae.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=mc(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let wc=(()=>{class t extends cc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ku))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Ec=["alt","control","meta","shift"],Cc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ac={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let xc=(()=>{class t extends cc{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yu().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(Ec.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Sc.hasOwnProperty(e)&&(e=Sc[e]))}return Cc[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Ec.forEach(r=>{r!=n&&(0,Ac[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ku))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Tc=Nu(zu,"browser",[{provide:nu,useValue:"browser"},{provide:eu,useValue:function(){nc.makeCurrent(),ac.init()},multi:!0},{provide:Ku,useFactory:function(){return function(t){Ve=t}(document),document},deps:[]}]),Dc=[[],{provide:ps,useValue:"root"},{provide:hr,useFactory:function(){return new hr},deps:[]},{provide:uc,useClass:wc,multi:!0,deps:[Ku,yu,nu]},{provide:uc,useClass:xc,multi:!0,deps:[Ku]},[],{provide:yc,useClass:yc,deps:[lc,dc,Xa]},{provide:Uo,useExisting:yc},{provide:hc,useExisting:dc},{provide:dc,useClass:dc,deps:[Ku]},{provide:Au,useClass:Au,deps:[yu]},{provide:lc,useClass:lc,deps:[uc,yu]},[]];let Ic=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Xa,useValue:e.appId},{provide:sc,useExisting:Xa},oc]}}}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(Gt(t,12))},providers:Dc,imports:[Jl,$u]}),t})();function kc(t,e){return new _(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=j(t[a]);let l=!1;n.add(u.subscribe({next:t=>{l||(l=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&l||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}"undefined"!=typeof window&&window;const Oc=new Ft("NgValueAccessor"),Nc={provide:Oc,useExisting:wt(()=>Rc),multi:!0};let Rc=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Us(qo),Us(Lo))},t.\u0275dir=ye({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Qs("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[Po([Nc])]}),t})();const Pc={provide:Oc,useExisting:wt(()=>Fc),multi:!0},Vc=new Ft("CompositionEventMode");let Fc=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Yu()?Yu().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(Us(qo),Us(Lo),Us(Vc,8))},t.\u0275dir=ye({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Qs("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[Po([Pc])]}),t})(),Mc=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t}),t})(),Lc=(()=>{class t extends Mc{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return jc(e||t)},t.\u0275dir=ye({type:t,features:[Eo]}),t})();const jc=ar(Lc);function Uc(){throw new Error("unimplemented")}class Bc extends Mc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Uc()}get asyncValidator(){return Uc()}}class qc{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let zc=(()=>{class t extends qc{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Us(Bc,2))},t.\u0275dir=ye({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&lo("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Eo]}),t})(),Hc=(()=>{class t extends qc{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Us(Lc,2))},t.\u0275dir=ye({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&lo("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Eo]}),t})();function $c(t){return null==t||0===t.length}function Gc(t){return null!=t&&"number"==typeof t.length}const Wc=new Ft("NgValidators"),Yc=new Ft("NgAsyncValidators"),Kc=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qc{static min(t){return e=>{if($c(e.value)||$c(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if($c(e.value)||$c(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return $c(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return $c(t.value)||Kc.test(t.value)?null:{email:!0}}static minLength(t){return e=>$c(e.value)||!Gc(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Gc(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Qc.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if($c(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Zc);return 0==e.length?null:function(t){return Jc(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Zc);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(u(e))return kc(e,null);if(l(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return kc(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return kc(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(V(t=>e(...t)))}return kc(t,null)}(function(t,e){return e.map(e=>e(t))}(t,e).map(Xc)).pipe(V(Jc))}}}function Zc(t){return null!=t}function Xc(t){const e=Ys(t)?j(t):t;if(!Ks(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Jc(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function th(t){return t.validate?e=>t.validate(e):t}function eh(t){return t.validate?e=>t.validate(e):t}const nh={provide:Oc,useExisting:wt(()=>rh),multi:!0};let rh=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Us(qo),Us(Lo))},t.\u0275dir=ye({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Qs("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[Po([nh])]}),t})();const ih={provide:Oc,useExisting:wt(()=>oh),multi:!0};let sh=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),oh=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Bc),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(Us(qo),Us(Lo),Us(sh),Us(Ds))},t.\u0275dir=ye({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Qs("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Po([ih])]}),t})();const ah={provide:Oc,useExisting:wt(()=>uh),multi:!0};let uh=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Us(qo),Us(Lo))},t.\u0275dir=ye({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Qs("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[Po([ah])]}),t})();const lh='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',ch='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });';class hh{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+lh)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${ch}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+lh)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+ch)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n\n      Example:\n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}.\n    Support for using the ngModel input property and ngModelChange event with\n    reactive form directives has been deprecated in Angular v6 and will be removed\n    in a future version of Angular.\n\n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const dh={provide:Oc,useExisting:wt(()=>fh),multi:!0};let fh=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(Us(qo),Us(Lo))},t.\u0275dir=ye({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Qs("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Po([dh])]}),t})();const ph={provide:Oc,useExisting:wt(()=>mh),multi:!0};let mh=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(Us(qo),Us(Lo))},t.\u0275dir=ye({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Qs("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Po([ph])]}),t})();function gh(t,e){return[...e.path,t]}function yh(t,e){t||wh(e,"Cannot find control with"),e.valueAccessor||wh(e,"No value accessor for form control with"),t.validator=Qc.compose([t.validator,e.validator]),t.asyncValidator=Qc.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&_h(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&_h(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function _h(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function vh(t,e){null==t&&wh(e,"Cannot find control with"),t.validator=Qc.compose([t.validator,e.validator]),t.asyncValidator=Qc.composeAsync([t.asyncValidator,e.asyncValidator])}function bh(t){return wh(t,"There is no FormControl instance attached to form control element with")}function wh(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Eh(t){return null!=t?Qc.compose(t.map(th)):null}function Ch(t){return null!=t?Qc.composeAsync(t.map(eh)):null}const Sh=[Rc,uh,rh,fh,mh,oh];function Ah(t){const e=Th(t)?t.validators:t;return Array.isArray(e)?Eh(e):e||null}function xh(t,e){const n=Th(e)?e.asyncValidators:t;return Array.isArray(n)?Ch(n):n||null}function Th(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Dh{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=Ah(t)}setAsyncValidators(t){this.asyncValidator=xh(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=Xc(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof kh?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Oh&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Oa,this.statusChanges=new Oa}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Th(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Ih extends Dh{constructor(t=null,e,n){super(Ah(e),xh(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class kh extends Dh{constructor(t,e,n){super(Ah(e),xh(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Ih?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Oh extends Dh{constructor(t,e,n){super(Ah(e),xh(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Ih?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let Nh=(()=>{class t extends Lc{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return gh(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Eh(this._validators)}get asyncValidator(){return Ch(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return Rh(e||t)},t.\u0275dir=ye({type:t,features:[Eo]}),t})();const Rh=ar(Nh);let Ph=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Vh=new Ft("NgModelWithFormControlWarning"),Fh={provide:Lc,useExisting:wt(()=>Mh)};let Mh=(()=>{class t extends Lc{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new Oa}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return yh(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){!function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);vh(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);vh(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>bh(e)),e.valueAccessor.registerOnTouched(()=>bh(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&yh(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Eh(this._validators);this.form.validator=Qc.compose([this.form.validator,t]);const e=Ch(this._asyncValidators);this.form.asyncValidator=Qc.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||hh.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(Us(Wc,10),Us(Yc,10))},t.\u0275dir=ye({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Qs("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Po([Fh]),Eo,ke]}),t})();const Lh={provide:Lc,useExisting:wt(()=>jh)};let jh=(()=>{class t extends Nh{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){qh(this._parent)&&hh.groupParentException()}}return t.\u0275fac=function(e){return new(e||t)(Us(Lc,13),Us(Wc,10),Us(Yc,10))},t.\u0275dir=ye({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[Po([Lh]),Eo]}),t})();const Uh={provide:Lc,useExisting:wt(()=>Bh)};let Bh=(()=>{class t extends Lc{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return gh(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return Eh(this._validators)}get asyncValidator(){return Ch(this._asyncValidators)}_checkParentType(){qh(this._parent)&&hh.arrayParentException()}}return t.\u0275fac=function(e){return new(e||t)(Us(Lc,13),Us(Wc,10),Us(Yc,10))},t.\u0275dir=ye({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[Po([Uh]),Eo]}),t})();function qh(t){return!(t instanceof jh||t instanceof Mh||t instanceof Bh)}const zh={provide:Bc,useExisting:wt(()=>Hh)};let Hh=(()=>{class t extends Bc{constructor(t,e,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new Oa,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||wh(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var s;e.constructor===Fc?n=e:(s=e,Sh.some(t=>s.constructor===t)?(r&&wh(t,"More than one built-in value accessor matches form control with"),r=e):(i&&wh(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(wh(t,"No valid value accessor for form control with"),null)}(this,r)}set isDisabled(t){hh.disabledAttrWarning()}ngOnChanges(e){var n,r,i;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(e,this.viewModel)&&(n=t,r=this,i=this._ngModelWarningConfig,gr()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||r._ngModelWarningSent)||(hh.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,r._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return gh(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Eh(this._rawValidators)}get asyncValidator(){return Ch(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof jh)&&this._parent instanceof Nh?hh.ngModelGroupException():this._parent instanceof jh||this._parent instanceof Mh||this._parent instanceof Bh||hh.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(Us(Lc,13),Us(Wc,10),Us(Yc,10),Us(Oc,10),Us(Vh,8))},t.\u0275dir=ye({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Po([zh]),Eo,ke]}),t._ngModelWarningSentOnce=!1,t})(),$h=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})(),Gh=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new kh(n,{asyncValidators:i,updateOn:s,validators:r})}control(t,e,n){return new Ih(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Oh(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Ih||t instanceof kh||t instanceof Oh?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Wh=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[sh],imports:[$h]}),t})(),Yh=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Vh,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[Gh,sh],imports:[$h]}),t})();class Kh extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class Qh extends Kh{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class Zh extends Qh{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}let Xh=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Jh extends Xh{constructor(t,e=Xh.now){super(t,()=>Jh.delegate&&Jh.delegate!==this?Jh.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Jh.delegate&&Jh.delegate!==this?Jh.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class td extends Jh{}const ed=new td(Zh),nd=new Jh(Qh);function rd(){}function id(t,e,n){return function(r){return r.lift(new sd(t,e,n))}}class sd{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new od(t,this.nextOrObserver,this.error,this.complete))}}class od extends p{constructor(t,e,n,i){super(t),this._tapNext=rd,this._tapError=rd,this._tapComplete=rd,this._tapError=n||rd,this._tapComplete=i||rd,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||rd,this._tapError=e.error||rd,this._tapComplete=e.complete||rd)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}let ad=1;const ud=(()=>Promise.resolve())(),ld={};function cd(t){return t in ld&&(delete ld[t],!0)}const hd={setImmediate(t){const e=ad++;return ld[e]=!0,ud.then(()=>cd(e)&&t()),e},clearImmediate(t){cd(t)}};class dd extends Qh{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=hd.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(hd.clearImmediate(e),t.scheduled=void 0)}}class fd extends Jh{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const pd=new fd(dd);function md(t){return!u(t)&&t-parseFloat(t)+1>=0}class gd extends _{constructor(t,e=0,n=pd){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!md(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=pd)}static create(t,e=0,n=pd){return new gd(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(gd.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class yd{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new gd(e,this.delay,this.scheduler).subscribe(t)}}const _d=new _(t=>t.complete());function vd(t){return t?function(t){return new _(e=>t.schedule(()=>e.complete()))}(t):_d}function bd(...t){let e=t[t.length-1];return A(e)?(t.pop(),L(t,e)):H(t)}let wd=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return bd(this.value);case"E":return t=this.error,new _(e=>e.error(t));case"C":return vd()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function Ed(t,e=0){return function(n){return n.lift(new Cd(t,e))}}class Cd{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new Sd(t,this.scheduler,this.delay))}}class Sd extends p{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Sd.dispatch,this.delay,new Ad(t,this.destination)))}_next(t){this.scheduleMessage(wd.createNext(t))}_error(t){this.scheduleMessage(wd.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(wd.createComplete()),this.unsubscribe()}}class Ad{constructor(t,e){this.notification=t,this.destination=e}}var xd=n("Wcq6");function Td(){}class Dd{constructor(t,e=ed){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class Id{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Td,{},Td,Td)),e.pipe(id({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class kd{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Dd(Zone.current)),this.insideAngular=t.run(()=>new Dd(Zone.current,nd))}}const Od=new Ft("angularfire2.app.options"),Nd=new Ft("angularfire2.app.nameOrConfig"),Rd=new $o("6.0.2");function Pd(t,e,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",xd.apps.filter(t=>t&&t.name===r.name)[0]||e.runOutsideAngular(()=>Object(xd.initializeApp)(t,r))}const Vd={provide:class{},useFactory:Pd,deps:[Od,yu,[new nt,Nd]]};let Fd=(()=>{class t{constructor(t){Object(xd.registerVersion)("angularfire",Rd.full,t.toString()),Object(xd.registerVersion)("angular",Go.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:Od,useValue:e},{provide:Nd,useValue:n}]}}}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(Gt(nu))},providers:[Vd]}),t})();function Md(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ld(t,e,n))}}class Ld{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new jd(t,this.accumulator,this.seed,this.hasSeed))}}class jd extends p{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ud(t,e){return function(n){return n.lift(new Bd(t,e))}}class Bd{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new qd(t,this.predicate,this.thisArg))}}class qd extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var zd=n("wj3C"),Hd=n.n(zd),$d=n("6Joi");function Gd(t,e){return function(t,e=nd){return new _(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot(n)}):r=t.onSnapshot(n),()=>{null!=r&&r()}})}(t,e)}function Wd(t,e){return Gd(t,e).pipe(V(t=>({payload:t,type:"query"})))}function Yd(t,e){return Wd(t,e).pipe(V(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function Kd(t,e,n){return Wd(t,n).pipe(V(t=>t.payload.docChanges()),Md((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),V(t=>t.map(t=>({type:t.type,payload:t}))))}function Qd(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Zd{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?Yd(this.query,this.afs.schedulers.outsideAngular).pipe(V(e=>e.filter(e=>t.indexOf(e.type)>-1)),Ud(t=>t.length>0),this.afs.keepUnstableUntilFirst):Yd(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Md((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Qd(t);return Kd(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Wd(this.query,this.afs.schedulers.outsideAngular).pipe(V(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return j(this.query.get(t)).pipe(Ed(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Xd(this.ref.doc(t),this.afs)}}class Xd{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=rf(n,e);return new Zd(r,i,this.afs)}snapshotChanges(){return Gd(this.ref,this.afs.schedulers.outsideAngular).pipe(V(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(V(t=>t.payload.data()))}get(t){return j(this.ref.get(t)).pipe(Ed(this.afs.schedulers.insideAngular))}}class Jd{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Yd(this.query,this.afs.schedulers.outsideAngular).pipe(V(e=>e.filter(e=>t.indexOf(e.type)>-1)),Ud(t=>t.length>0),this.afs.keepUnstableUntilFirst):Yd(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Md((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Qd(t);return Kd(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return Wd(this.query,this.afs.schedulers.outsideAngular).pipe(V(t=>t.payload.docs.map(t=>t.data())),this.afs.keepUnstableUntilFirst)}get(t){return j(this.query.get(t)).pipe(Ed(this.afs.schedulers.insideAngular))}}const tf=new Ft("angularfire2.enableFirestorePersistence"),ef=new Ft("angularfire2.firestore.persistenceSettings"),nf=new Ft("angularfire2.firestore.settings");function rf(t,e=(t=>t)){return{query:e(t),ref:t}}let sf=(()=>{class t{constructor(t,e,n,r,i,s,o){var a;this.schedulers=new kd(s),this.keepUnstableUntilFirst=(a=this.schedulers,function(t){return(t=t.lift(new Id(a.ngZone))).pipe(function(t,e=0){return function(n){return n.lift(new yd(t,e))}}(a.outsideAngular),Ed(a.insideAngular))}),this.firestore=s.runOutsideAngular(()=>{const n=Pd(t,s,e);$d.registerFirestore&&Object($d.registerFirestore)(Hd.a);const i=n.firestore();return r&&i.settings(r),i}),this.persistenceEnabled$=n&&!function(t){return"server"===t}(i)?s.runOutsideAngular(()=>{try{return j(this.firestore.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(t){return bd(!1)}}):bd(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=rf(n,e),s=this.schedulers.ngZone.run(()=>r);return new Zd(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Jd(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Xd(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(Gt(Od),Gt(Nd,8),Gt(tf,8),Gt(nf,8),Gt(nu),Gt(yu),Gt(ef,8))},t.\u0275prov=ut({factory:function(){return new t(Gt(Od),Gt(Nd,8),Gt(tf,8),Gt(nf,8),Gt(nu),Gt(yu),Gt(ef,8))},token:t,providedIn:"any"}),t})(),of=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:tf,useValue:!0},{provide:ef,useValue:e}]}}}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[sf]}),t})();class af extends C{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new b;return this._value}next(t){super.next(this._value=t)}}const uf=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),lf={};class cf{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new hf(t,this.resultSelector))}}class hf extends P{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(lf),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(R(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const s=this.values,o=this.toRespond?s[n]===lf?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function df(t){return new _(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?j(n):vd()).subscribe(e)})}function ff(){return z(1)}const pf=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function mf(t){return function(e){return 0===t?vd():e.lift(new gf(t))}}class gf{constructor(t){if(this.total=t,this.total<0)throw new pf}call(t,e){return e.subscribe(new yf(t,this.total))}}class yf extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function _f(t=wf){return e=>e.lift(new vf(t))}class vf{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new bf(t,this.errorFactory))}}class bf extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function wf(){return new uf}function Ef(t=null){return e=>e.lift(new Cf(t))}class Cf{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Sf(t,this.defaultValue))}}class Sf extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Af(t){return function(e){const n=new xf(t),r=e.lift(n);return n.caught=r}}class xf{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Tf(t,this.selector,this.caught))}}class Tf extends P{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new x(this,void 0,void 0);this.add(r);const i=R(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function Df(t){return e=>0===t?vd():e.lift(new If(t))}class If{constructor(t){if(this.total=t,this.total<0)throw new pf}call(t,e){return e.subscribe(new kf(t,this.total))}}class kf extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Of(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ud((e,n)=>t(e,n,r)):y,Df(1),n?Ef(e):_f(()=>new uf))}class Nf{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Rf(t,this.predicate,this.thisArg,this.source))}}class Rf extends p{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Pf(t,e){return"function"==typeof e?n=>n.pipe(Pf((n,r)=>j(t(n,r)).pipe(V((t,i)=>e(n,t,r,i))))):e=>e.lift(new Vf(t))}class Vf{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ff(t,this.project))}}class Ff extends P{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new x(this,e,n),s=this.destination;s.add(i),this.innerSubscription=R(this,t,void 0,void 0,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function Mf(...t){return ff()(bd(...t))}function Lf(...t){const e=t[t.length-1];return A(e)?(t.pop(),n=>Mf(t,n,e)):e=>Mf(t,e)}function jf(t,e){return U(t,e,1)}class Uf{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Bf(t,this.callback))}}class Bf extends p{constructor(t,e){super(t),this.add(new h(e))}}class qf{constructor(t,e){this.id=t,this.url=e}}class zf extends qf{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hf extends qf{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $f extends qf{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Gf extends qf{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wf extends qf{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yf extends qf{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kf extends qf{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qf extends qf{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zf extends qf{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xf{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Jf{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tp{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ep{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class np{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rp{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ip{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let sp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=he({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Gs(0,"router-outlet")},directives:function(){return[ag]},encapsulation:2}),t})();class op{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ap(t){return new op(t)}function up(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function lp(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class cp{constructor(t,e){this.routes=t,this.module=e}}function hp(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];dp(r,fp(e,r))}}function dp(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&hp(t.children,e)}function fp(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function pp(t){const e=t.children&&t.children.map(pp),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=sp),n}function mp(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!gp(t[i],e[i]))return!1;return!0}function gp(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function yp(t){return Array.prototype.concat.apply([],t)}function _p(t){return t.length>0?t[t.length-1]:null}function vp(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function bp(t){return Ks(t)?t:Ys(t)?j(Promise.resolve(t)):bd(t)}function wp(t,e,n){return n?function(t,e){return mp(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Ap(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>gp(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Ap(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Ap(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Ap(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,s)}}(e,n,n.segments)}(t.root,e.root)}class Ep{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ap(this.queryParams)),this._queryParamMap}toString(){return Ip.serialize(this)}}class Cp{constructor(t,e){this.segments=t,this.children=e,this.parent=null,vp(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kp(this)}}class Sp{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ap(this.parameters)),this._parameterMap}toString(){return Fp(this)}}function Ap(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function xp(t,e){let n=[];return vp(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),vp(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class Tp{}class Dp{parse(t){const e=new Bp(t);return new Ep(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return kp(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return vp(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=xp(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${kp(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Np(e)}=${Np(t)}`).join("&"):`${Np(e)}=${Np(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Ip=new Dp;function kp(t){return t.segments.map(t=>Fp(t)).join("/")}function Op(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Np(t){return Op(t).replace(/%3B/gi,";")}function Rp(t){return Op(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pp(t){return decodeURIComponent(t)}function Vp(t){return Pp(t.replace(/\+/g,"%20"))}function Fp(t){return`${Rp(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Rp(t)}=${Rp(e[t])}`).join("")}`;var e}const Mp=/^[^\/()?;=#]+/;function Lp(t){const e=t.match(Mp);return e?e[0]:""}const jp=/^[^=?&#]+/,Up=/^[^?&#]+/;class Bp{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cp([],{}):new Cp([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Cp(t,e)),n}parseSegment(){const t=Lp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Sp(Pp(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Lp(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Lp(this.remaining);t&&(n=t,this.capture(n))}t[Pp(e)]=Pp(n)}parseQueryParam(t){const e=function(t){const e=t.match(jp);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Up);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Vp(e),i=Vp(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Lp(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Cp([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class qp{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=zp(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=zp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Hp(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Hp(t,this._root).map(t=>t.value)}}function zp(t,e){if(t===e.value)return e;for(const n of e.children){const e=zp(t,n);if(e)return e}return null}function Hp(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Hp(t,n);if(r.length)return r.unshift(e),r}return[]}class $p{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Gp(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Wp extends qp{constructor(t,e){super(t),this.snapshot=e,Jp(this,t)}toString(){return this.snapshot.toString()}}function Yp(t,e){const n=function(t,e){const n=new Zp([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Xp("",new $p(n,[]))}(t,e),r=new af([new Sp("",{})]),i=new af({}),s=new af({}),o=new af({}),a=new af(""),u=new Kp(r,i,o,a,s,"primary",e,n.root);return u.snapshot=n.root,new Wp(new $p(u,[]),n)}class Kp{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(V(t=>ap(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(V(t=>ap(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qp(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Zp{constructor(t,e,n,r,i,s,o,a,u,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ap(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ap(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xp extends qp{constructor(t,e){super(e),this.url=t,Jp(this,e)}toString(){return tm(this._root)}}function Jp(t,e){e.value._routerState=t,e.children.forEach(e=>Jp(t,e))}function tm(t){const e=t.children.length>0?` { ${t.children.map(tm).join(", ")} } `:"";return`${t.value}${e}`}function em(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,mp(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),mp(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!mp(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),mp(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function nm(t,e){var n,r;return mp(t.params,e.params)&&Ap(n=t.url,r=e.url)&&n.every((t,e)=>mp(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||nm(t.parent,e.parent))}function rm(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function im(t,e,n,r,i){let s={};return r&&vp(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Ep(n.root===t?e:function t(e,n,r){const i={};return vp(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new Cp(e.segments,i)}(n.root,t,e),s,i)}class sm{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&rm(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==_p(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class om{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function am(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function um(t,e,n){if(t||(t=new Cp([],{})),0===t.segments.length&&t.hasChildren())return lm(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=am(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!fm(o,a,e))return s;r+=2}else{if(!fm(o,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Cp(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Cp(t.segments.slice(r.pathIndex),t.children),lm(e,0,i)}return r.match&&0===i.length?new Cp(t.segments,{}):r.match&&!t.hasChildren()?cm(t,e,n):r.match?lm(t,0,i):cm(t,e,n)}function lm(t,e,n){if(0===n.length)return new Cp(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{primary:t}}(n),i={};return vp(r,(n,r)=>{null!==n&&(i[r]=um(t.children[r],e,n))}),vp(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Cp(t.segments,i)}}function cm(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=hm(n[i].outlets);return new Cp(r,t)}if(0===i&&rm(n[0])){r.push(new Sp(t.segments[e].path,n[0])),i++;continue}const s=am(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&rm(o)?(r.push(new Sp(s,dm(o))),i+=2):(r.push(new Sp(s,{})),i++)}return new Cp(r,{})}function hm(t){const e={};return vp(t,(t,n)=>{null!==t&&(e[n]=cm(new Cp([],{}),0,t))}),e}function dm(t){const e={};return vp(t,(t,n)=>e[n]=""+t),e}function fm(t,e,n){return t==n.path&&mp(e,n.parameters)}class pm{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),em(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Gp(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),vp(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Gp(t),i=t.value.component?n.children:e;vp(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Gp(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new rp(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ep(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(em(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),mm(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function mm(t){em(t.value),t.children.forEach(mm)}function gm(t){return"function"==typeof t}function ym(t){return t instanceof Ep}class _m{constructor(t){this.segmentGroup=t||null}}class vm{constructor(t){this.urlTree=t}}function bm(t){return new _(e=>e.error(new _m(t)))}function wm(t){return new _(e=>e.error(new vm(t)))}function Em(t){return new _(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Cm{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Zt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(V(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Af(t=>{if(t instanceof vm)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof _m)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(V(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Af(t=>{if(t instanceof _m)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Cp([],{primary:t}):t;return new Ep(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(V(t=>new Cp([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return bd({});const n=[],r=[],i={};return vp(t,(t,s)=>{const o=e(s,t).pipe(V(t=>i[s]=t));"primary"===s?n.push(o):r.push(o)}),bd.apply(null,n.concat(r)).pipe(ff(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ud((e,n)=>t(e,n,r)):y,mf(1),n?Ef(e):_f(()=>new uf))}(),V(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return bd(...n).pipe(V(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(Af(t=>{if(t instanceof _m)return bd(null);throw t}))),ff(),Of(t=>!!t),Af((t,n)=>{if(t instanceof uf||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return bd(new Cp([],{}));throw new _m(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Tm(r)!==s?bm(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):bm(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?wm(i):this.lineralizeSegments(n,i).pipe(U(n=>{const i=new Cp(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:l}=Sm(e,r,i);if(!o)return bm(e);const c=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?wm(c):this.lineralizeSegments(r,c).pipe(U(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(V(t=>(n._loadedConfig=t,new Cp(r,{})))):bd(new Cp(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=Sm(e,n,r);if(!i)return bm(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(U(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>xm(t,e,n)&&"primary"!==Tm(n))}(t,n,r)?{segmentGroup:Am(new Cp(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==Tm(r)&&(n[Tm(r)]=new Cp([],{}));return n}(r,new Cp(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>xm(t,e,n))}(t,n,r)?{segmentGroup:Am(new Cp(t.segments,function(t,e,n,r){const i={};for(const s of n)xm(t,e,s)&&!r[Tm(s)]&&(i[Tm(s)]=new Cp([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(V(t=>new Cp(s,t))):0===r.length&&0===o.length?bd(new Cp(s,{})):this.expandSegment(n,i,r,o,"primary",!0).pipe(V(t=>new Cp(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?bd(new cp(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?bd(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(U(n=>n?this.configLoader.load(t.injector,e).pipe(V(t=>(e._loadedConfig=t,t))):function(t){return new _(e=>e.error(up(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):bd(new cp([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?j(r).pipe(V(r=>{const i=t.get(r);let s;if(function(t){return t&&gm(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!gm(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return bp(s)})).pipe(ff(),id(t=>{if(!ym(t))return;const e=up(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(i=t=>!0===t,t=>t.lift(new Nf(i,void 0,t)))):bd(!0);var i}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return bd(n);if(r.numberOfChildren>1||!r.children.primary)return Em(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Ep(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return vp(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return vp(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Cp(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Sm(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||lp)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Am(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Cp(t.segments.concat(e.segments),e.children)}return t}function xm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Tm(t){return t.outlet||"primary"}class Dm{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Im{constructor(t,e){this.component=t,this.route=e}}function km(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Gp(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ap(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ap(t.url,e.url)||!mp(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nm(t,e)||!mp(t.queryParams,e.queryParams);case"paramsChange":default:return!nm(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);l?s.canActivateChecks.push(new Dm(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?u?u.children:null:r,i,s),l&&s.canDeactivateChecks.push(new Im(u&&u.outlet&&u.outlet.component||null,a))}else a&&Nm(n,u,s),s.canActivateChecks.push(new Dm(i)),t(e,null,o.component?u?u.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),vp(o,(t,e)=>Nm(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function Om(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Nm(t,e,n){const r=Gp(t),i=t.value;vp(r,(t,r)=>{Nm(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Im(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const Rm=Symbol("INITIAL_VALUE");function Pm(){return Pf(t=>function(...t){let e=null,n=null;return A(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),H(t,n).lift(new cf(e))}(...t.map(t=>t.pipe(Df(1),Lf(Rm)))).pipe(Md((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Rm)return t;if(r===Rm&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ym(r))return r}return t},t)},Rm),Ud(t=>t!==Rm),V(t=>ym(t)?t:!0===t),Df(1)))}function Vm(t,e){return null!==t&&e&&e(new np(t)),bd(!0)}function Fm(t,e){return null!==t&&e&&e(new tp(t)),bd(!0)}function Mm(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?bd(r.map(r=>df(()=>{const i=Om(r,e,n);let s;if(function(t){return t&&gm(t.canActivate)}(i))s=bp(i.canActivate(e,t));else{if(!gm(i))throw new Error("Invalid CanActivate guard");s=bp(i(e,t))}return s.pipe(Of())}))).pipe(Pm()):bd(!0)}function Lm(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>df(()=>bd(e.guards.map(i=>{const s=Om(i,e.node,n);let o;if(function(t){return t&&gm(t.canActivateChild)}(s))o=bp(s.canActivateChild(r,t));else{if(!gm(s))throw new Error("Invalid CanActivateChild guard");o=bp(s(r,t))}return o.pipe(Of())})).pipe(Pm())));return bd(i).pipe(Pm())}class jm{}class Um{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=zm(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Zp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new $p(n,e),i=new Xp(this.url,r);return this.inheritParamsAndData(i._root),bd(i)}catch(t){return new _(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Qp(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=xp(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof jm))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new jm}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new jm;if((t.outlet||"primary")!==r)throw new jm;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?_p(n).parameters:{};i=new Zp(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gm(t),r,t.component,t,Bm(e),qm(e)+n.length,Wm(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new jm;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||lp)(n,t,e);if(!r)throw new jm;const i={};vp(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new Zp(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gm(t),r,t.component,t,Bm(e),qm(e)+s.length,Wm(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:l}=zm(e,s,o,a,this.relativeLinkResolution);if(0===l.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new $p(i,t)]}if(0===a.length&&0===l.length)return[new $p(i,[])];const c=this.processSegment(a,u,l,"primary");return[new $p(i,c)]}}function Bm(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function qm(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function zm(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Hm(t,e,n)&&"primary"!==$m(n))}(t,n,r)){const i=new Cp(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==$m(s)){const n=new Cp([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[$m(s)]=n}return i}(t,e,r,new Cp(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Hm(t,e,n))}(t,n,r)){const s=new Cp(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Hm(t,n,a)&&!i[$m(a)]){const n=new Cp([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[$m(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Cp(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Hm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function $m(t){return t.outlet||"primary"}function Gm(t){return t.data||{}}function Wm(t){return t.resolve||{}}function Ym(t){return function(e){return e.pipe(Pf(e=>{const n=t(e);return n?j(n).pipe(V(()=>e)):j([e])}))}}class Km{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Qm=new Ft("ROUTES");class Zm{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(V(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new cp(yp(r.injector.get(Qm)).map(pp),r)}))}loadModuleFactory(t){return"string"==typeof t?j(this.loader.load(t)):bp(t()).pipe(U(t=>t instanceof Xt?bd(t):j(this.compiler.compileModuleAsync(t))))}}class Xm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Jm,this.attachRef=null}}class Jm{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Xm,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class tg{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function eg(t){throw t}function ng(t,e,n){return e.parse("/")}function rg(t,e){return bd(null)}let ig=(()=>{class t{constructor(t,e,n,r,i,s,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new C,this.errorHandler=eg,this.malformedUriErrorHandler=ng,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:rg,afterPreactivation:rg},this.urlHandlingStrategy=new tg,this.routeReuseStrategy=new Km,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Zt),this.console=i.get(iu);const u=i.get(yu);this.isNgZoneEnabled=u instanceof yu,this.resetConfig(a),this.currentUrlTree=new Ep(new Cp([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Zm(s,o,t=>this.triggerEvent(new Xf(t)),t=>this.triggerEvent(new Jf(t))),this.routerState=Yp(this.currentUrlTree,this.rootComponentType),this.transitions=new af({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Ud(t=>0!==t.id),V(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Pf(t=>{let n=!1,r=!1;return bd(t).pipe(id(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Pf(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return bd(t).pipe(Pf(t=>{const n=this.transitions.getValue();return e.next(new zf(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?_d:[t]}),Pf(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(Pf(t=>function(t,e,n,r,i){return new Cm(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(V(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),id(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(U(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new Um(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(V(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),id(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),id(t=>{const n=new Wf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new zf(n,this.serializeUrl(r),i,s);e.next(a);const u=Yp(r,this.rootComponentType).snapshot;return bd(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),_d}),Ym(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),id(t=>{const e=new Yf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),V(t=>Object.assign(Object.assign({},t),{guards:km(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(U(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?bd(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return j(t).pipe(U(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?bd(s.map(s=>{const o=Om(s,e,i);let a;if(function(t){return t&&gm(t.canDeactivate)}(o))a=bp(o.canDeactivate(t,e,n,r));else{if(!gm(o))throw new Error("Invalid CanDeactivate guard");a=bp(o(t,e,n,r))}return a.pipe(Of())})).pipe(Pm()):bd(!0)}(t.component,t.route,n,e,r)),Of(t=>!0!==t,!0))}(o,r,i,t).pipe(U(n=>n&&"boolean"==typeof n?function(t,e,n,r){return j(e).pipe(jf(e=>j([Fm(e.route.parent,r),Vm(e.route,r),Lm(t,e.path,n),Mm(t,e.route,n)]).pipe(ff(),Of(t=>!0!==t,!0))),Of(t=>!0!==t,!0))}(r,s,t,e):bd(n)),V(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),id(t=>{if(ym(t.guardsResult)){const e=up(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),id(t=>{const e=new Kf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Ud(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new $f(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Ym(t=>{if(t.guards.canActivateChecks.length)return bd(t).pipe(id(t=>{const e=new Qf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Pf(t=>{let n=!1;return bd(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(U(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return bd(t);let s=0;return j(n).pipe(jf(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return bd({});const s={};return j(i).pipe(U(i=>function(t,e,n,r){const i=Om(t,e,r);return bp(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(id(t=>{s[i]=t}))),mf(1),U(()=>Object.keys(s).length===i.length?bd(s):_d))}(t._resolve,t,e,r).pipe(V(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Qp(t,n).resolve),null)))}(t.route,e,r,i)),id(()=>s++),mf(1),U(e=>s===n.length?bd(t):_d))}))}),id({next:()=>n=!0,complete:()=>{if(!n){const n=new $f(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),id(t=>{const e=new Zf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Ym(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),V(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new $p(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Kp(new af((i=n.value).url),new af(i.params),new af(i.queryParams),new af(i.fragment),new af(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new $p(r,s)}}var i}(t,e._root,n?n._root:void 0);return new Wp(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),id(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),V(t=>(new pm(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),id({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new $f(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Uf(i))),Af(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ym(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new $f(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Gf(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var i;return _d}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){hp(t),this.config=t.map(pp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:a}=e;gr()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,l=a?this.currentUrlTree.fragment:i;let c=null;if(o)switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=s?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return im(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new sm(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return vp(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new sm(n,e,r)}(n);if(s.toRoot())return im(e.root,new Cp([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new om(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new om(t,t===e.root,0)}const r=rm(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new om(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?lm(o.segmentGroup,o.index,s.commands):um(o.segmentGroup,o.index,s.commands);return im(o.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,c,l)}navigateByUrl(t,e={skipLocationChange:!1}){gr()&&this.isNgZoneEnabled&&!yu.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=ym(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(ym(t))return wp(this.currentUrlTree,t,e);const n=this.parseUrl(t);return wp(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Hf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition();if(s&&"imperative"!==e&&"imperative"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"hashchange"==e&&"popstate"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"popstate"==e&&"hashchange"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o,a,u;i?(o=i.resolve,a=i.reject,u=i.promise):u=new Promise((t,e)=>{o=t,a=e});const l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(Gt(fs),Gt(Tp),Gt(Jm),Gt(cl),Gt(Ds),Gt(Lu),Gt(pu),Gt(void 0))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),sg=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof Hf&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){gr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:og(this.skipLocationChange),replaceUrl:og(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:og(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:og(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Us(ig),Us(Kp),Us(sl))},t.\u0275dir=ye({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Qs("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(vo("href",e.href,br),Ms("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[ke]}),t})();function og(t){return""===t||!!t}let ag=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new Oa,this.deactivateEvents=new Oa,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ug(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(Us(Jm),Us(ca),Us(Mo),Bs("name"),Us(hs))},t.\u0275dir=ye({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ug{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Kp?this.route:t===Jm?this.childContexts:this.parent.get(t,e)}}class lg{}class cg{preload(t,e){return bd(null)}}let hg=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Zm(e,n,e=>t.triggerEvent(new Xf(e)),e=>t.triggerEvent(new Jf(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ud(t=>t instanceof Hf),jf(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Zt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return j(n).pipe(z(),V(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(U(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Gt(ig),Gt(Lu),Gt(pu),Gt(Ds),Gt(lg))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),dg=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof zf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Hf&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ip&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new ip(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Gt(ig),Gt(tc),Gt(void 0))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const fg=new Ft("ROUTER_CONFIGURATION"),pg=new Ft("ROUTER_FORROOT_GUARD"),mg=[cl,{provide:Tp,useClass:Dp},{provide:ig,useFactory:function(t,e,n,r,i,s,o,a={},u,l){const c=new ig(null,t,e,n,r,i,s,yp(o));if(u&&(c.urlHandlingStrategy=u),l&&(c.routeReuseStrategy=l),a.errorHandler&&(c.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(c.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=Yu();c.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(c.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(c.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(c.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(c.relativeLinkResolution=a.relativeLinkResolution),c},deps:[Tp,Jm,cl,Ds,Lu,pu,Qm,fg,[class{},new nt],[class{},new nt]]},Jm,{provide:Kp,useFactory:function(t){return t.routerState.root},deps:[ig]},{provide:Lu,useClass:Bu},hg,cg,class{preload(t,e){return e().pipe(Af(()=>bd(null)))}},{provide:fg,useValue:{enableTracing:!1}}];function gg(){return new Ou("Router",ig)}let yg=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[mg,wg(e),{provide:pg,useFactory:bg,deps:[[ig,new nt,new it]]},{provide:fg,useValue:n||{}},{provide:sl,useFactory:vg,deps:[Qu,[new et(al),new nt],fg]},{provide:dg,useFactory:_g,deps:[ig,tc,fg]},{provide:lg,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:cg},{provide:Ou,multi:!0,useFactory:gg},[Eg,{provide:Qa,multi:!0,useFactory:Cg,deps:[Eg]},{provide:Ag,useFactory:Sg,deps:[Eg]},{provide:ru,multi:!0,useExisting:Ag}]]}}static forChild(e){return{ngModule:t,providers:[wg(e)]}}}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(Gt(pg,8),Gt(ig,8))}}),t})();function _g(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new dg(t,e,n)}function vg(t,e,n={}){return n.useHash?new ll(t,e):new ul(t,e)}function bg(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function wg(t){return[{provide:Is,multi:!0,useValue:t},{provide:Qm,multi:!0,useValue:t}]}let Eg=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new C}appInitializer(){return this.injector.get(Xu,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ig),r=this.injector.get(fg);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?bd(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(fg),n=this.injector.get(hg),r=this.injector.get(dg),i=this.injector.get(ig),s=this.injector.get(Fu);t===s.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ds))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Cg(t){return t.appInitializer.bind(t)}function Sg(t){return t.bootstrapListener.bind(t)}const Ag=new Ft("Router Initializer");let xg,Tg=(()=>{class t{constructor(t){this.db=t,this.clientCollectionName="clients"}getClients(){return this.db.collection(this.clientCollectionName,t=>t.orderBy("created_at","desc")).get()}saveClient(t){return this.db.collection(this.clientCollectionName).add(t)}}return t.\u0275fac=function(e){return new(e||t)(Gt(sf))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();try{xg="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(VE){xg=!1}let Dg,Ig,kg=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!xg)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(Gt(nu))},t.\u0275prov=ut({factory:function(){return new t(Gt(nu))},token:t,providedIn:"root"}),t})(),Og=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})();function Ng(t){return function(){if(null==Dg&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Dg=!0}))}finally{Dg=Dg||!1}return Dg}()?t:!!t.capture}function Rg(t){return null!=t&&""+t!="false"}function Pg(t){return Array.isArray(t)?t:[t]}function Vg(t){return null==t?"":"string"==typeof t?t:t+"px"}function Fg(t){return t instanceof Lo?t.nativeElement:t}let Mg=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Lg=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Fg(t);return new _(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new C,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(Gt(Mg))},t.\u0275prov=ut({factory:function(){return new t(Gt(Mg))},token:t,providedIn:"root"}),t})(),jg=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[Mg]}),t})(),Ug=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(VE){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){const t=e&&e.nodeName.toLowerCase();if(-1===qg(e))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===t)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=qg(t);if(t.hasAttribute("contenteditable"))return-1!==i;if("iframe"===r)return!1;if("audio"===r){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===r){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==r||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Bg(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(Gt(kg))},t.\u0275prov=ut({factory:function(){return new t(Gt(kg))},token:t,providedIn:"root"}),t})();function Bg(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function qg(t){if(!Bg(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class zg{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),gr()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(Df(1)).subscribe(t)}}let Hg=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new zg(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ug),Gt(yu),Gt(Ku))},t.\u0275prov=ut({factory:function(){return new t(Gt(Ug),Gt(yu),Gt(Ku))},token:t,providedIn:"root"}),t})(),$g=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._focusTrapFactory=e,this._previouslyFocusedElement=null,this._document=n,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=Rg(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=Rg(t)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const e=t.autoCapture;e&&!e.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return t.\u0275fac=function(e){return new(e||t)(Us(Lo),Us(Hg),Us(Ku))},t.\u0275dir=ye({type:t,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[ke]}),t})();"undefined"!=typeof Element&&Element;const Gg=new Ft("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Wg=new Ft("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Yg=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.\u0275fac=function(e){return new(e||t)(Gt(Gg,8),Gt(yu),Gt(Ku),Gt(Wg,8))},t.\u0275prov=ut({factory:function(){return new t(Gt(Gg,8),Gt(yu),Gt(Ku),Gt(Wg,8))},token:t,providedIn:"root"}),t})(),Kg=(()=>{class t{constructor(t,e,n,r){this._elementRef=t,this._liveAnnouncer=e,this._contentObserver=n,this._ngZone=r,this._politeness="off"}get politeness(){return this._politeness}set politeness(t){this._politeness="polite"===t||"assertive"===t?t:"off","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const t=this._elementRef.nativeElement.textContent;t!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(t,this._politeness),this._previousAnnouncedText=t)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Us(Lo),Us(Yg),Us(Lg),Us(yu))},t.\u0275dir=ye({type:t,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),t})();function Qg(t){return 0===t.buttons}const Zg=new Ft("cdk-focus-monitor-default-options"),Xg=Ng({passive:!0,capture:!0});let Jg=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=Qg(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=ty(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=ty(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){if(!this._platform.isBrowser)return bd(null);const n=Fg(t),r=function(t){if(function(){if(null==Ig){const t="undefined"!=typeof document?document.head:null;Ig=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Ig}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject.asObservable();const s={checkChildren:e,subject:new C,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject.asObservable()}stopMonitoring(t){const e=Fg(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=Fg(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=ty(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==ty(t))return;const r=this._getFocusOrigin(t);this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,Xg),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,Xg)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,Xg),t.addEventListener("mousedown",this._documentMousedownListener,Xg),t.addEventListener("touchstart",this._documentTouchstartListener,Xg),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Xg),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Xg),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,Xg),t.removeEventListener("mousedown",this._documentMousedownListener,Xg),t.removeEventListener("touchstart",this._documentTouchstartListener,Xg),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return t.\u0275fac=function(e){return new(e||t)(Gt(yu),Gt(kg),Gt(Ku,8),Gt(Zg,8))},t.\u0275prov=ut({factory:function(){return new t(Gt(yu),Gt(kg),Gt(Ku,8),Gt(Zg,8))},token:t,providedIn:"root"}),t})();function ty(t){return t.composedPath?t.composedPath()[0]:t.target}let ey=(()=>{class t{constructor(t,e){this._elementRef=t,this._focusMonitor=e,this.cdkFocusChange=new Oa}ngAfterViewInit(){this._monitorSubscription=this._focusMonitor.monitor(this._elementRef,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>this.cdkFocusChange.emit(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Us(Lo),Us(Jg))},t.\u0275dir=ye({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),t})(),ny=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(Gt(kg),Gt(Ku))},t.\u0275prov=ut({factory:function(){return new t(Gt(kg),Gt(Ku))},token:t,providedIn:"root"}),t})(),ry=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(Gt(ny))},imports:[[Og,jg]]}),t})();function iy(t,e,n,i){return r(n)&&(i=n,n=void 0),i?iy(t,e,n).pipe(V(t=>u(t)?i(...t):i(t))):new _(r=>{!function t(e,n,r,i,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,s),o=()=>t.removeEventListener(n,r,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),o=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),o=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,r,i,s)}i.add(o)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}class sy{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new oy(t,this.durationSelector))}}class oy extends P{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=R(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function ay(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function uy(t,e=nd){return n=()=>function(t=0,e,n){let r=-1;return md(e)?r=Number(e)<1?1:Number(e):A(e)&&(n=e),A(n)||(n=nd),new _(e=>{const i=md(t)?t:+t-n.now();return n.schedule(ay,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new sy(n))};var n}class ly{constructor(t){this.notifier=t}call(t,e){const n=new cy(t),r=R(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class cy extends P{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}const hy=new Ft("cdk-dir-doc",{providedIn:"root",factory:function(){return Wt(Ku)}});let dy=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new Oa,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(Gt(hy,8))},t.\u0275prov=ut({factory:function(){return new t(Gt(hy,8))},token:t,providedIn:"root"}),t})(),fy=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})(),py=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new C,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new _(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(uy(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):bd()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Ud(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>iy(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(Gt(yu),Gt(kg),Gt(Ku,8))},t.\u0275prov=ut({factory:function(){return new t(Gt(yu),Gt(kg),Gt(Ku,8))},token:t,providedIn:"root"}),t})(),my=(()=>{class t{constructor(t,e,n){this._platform=t,this._document=n,e.runOutsideAngular(()=>{const e=this._getWindow();this._change=t.isBrowser?$(iy(e,"resize"),iy(e,"orientationchange")):bd(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(uy(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(Gt(kg),Gt(yu),Gt(Ku,8))},t.\u0275prov=ut({factory:function(){return new t(Gt(kg),Gt(yu),Gt(Ku,8))},token:t,providedIn:"root"}),t})(),gy=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})(),yy=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[fy,Og,gy],fy,gy]}),t})();function _y(){throw Error("Host already has a portal attached")}class vy{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&_y(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class by extends vy{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class wy extends vy{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Ey extends vy{constructor(t){super(),this.element=t instanceof Lo?t.nativeElement:t}}class Cy{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&_y(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof by?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof wy?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Ey?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Sy extends Cy{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Ay=(()=>{class t extends Cy{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new Oa,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(Us(Mo),Us(ca),Us(Ku))},t.\u0275dir=ye({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Eo]}),t})(),xy=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})();class Ty{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Vg(-this._previousScrollPosition.left),t.style.top=Vg(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function Dy(){return Error("Scroll strategy has already been attached.")}class Iy{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw Dy();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ky{enable(){}disable(){}attach(){}}function Oy(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function Ny(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class Ry{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw Dy();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();Oy(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Py=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new ky,this.close=t=>new Iy(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new Ty(this._viewportRuler,this._document),this.reposition=t=>new Ry(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(Gt(py),Gt(my),Gt(yu),Gt(Ku))},t.\u0275prov=ut({factory:function(){return new t(Gt(py),Gt(my),Gt(yu),Gt(Ku))},token:t,providedIn:"root"}),t})();class Vy{constructor(t){if(this.scrollStrategy=new ky,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,this.excludeFromOutsideClick=[],t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class Fy{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class My{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function Ly(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". Expected "top", "bottom" or "center".`)}function jy(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". Expected "start", "end" or "center".`)}let Uy=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ku))},t.\u0275prov=ut({factory:function(){return new t(Gt(Ku))},token:t,providedIn:"root"}),t})(),By=(()=>{class t extends Uy{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ku))},t.\u0275prov=ut({factory:function(){return new t(Gt(Ku))},token:t,providedIn:"root"}),t})(),qy=(()=>{class t extends Uy{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays;for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)){if([...i.getConfig().excludeFromOutsideClick,i.overlayElement].some(t=>t.contains(e)))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ku),Gt(kg))},t.\u0275prov=ut({factory:function(){return new t(Gt(Ku),Gt(kg))},token:t,providedIn:"root"}),t})();const zy=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let Hy=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||zy){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),zy?e.setAttribute("platform","test"):t||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ku),Gt(kg))},t.\u0275prov=ut({factory:function(){return new t(Gt(Ku),Gt(kg))},token:t,providedIn:"root"}),t})();class $y{constructor(t,e,n,r,i,s,o,a,u){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=u,this._backdropElement=null,this._backdropClick=new C,this._attachments=new C,this._detachments=new C,this._locationChanges=h.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new C,this._outsidePointerEvents=new C,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Df(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher&&this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEvents.asObservable()}outsidePointerEvents(){return this._outsidePointerEvents.asObservable()}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Vg(this._config.width),t.height=Vg(this._config.height),t.minWidth=Vg(this._config.minWidth),t.minHeight=Vg(this._config.minHeight),t.maxWidth=Vg(this._config.maxWidth),t.maxHeight=Vg(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;Pg(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe((e=$(this._attachments,this._detachments),t=>t.lift(new ly(e)))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())});var e})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const Gy=/([A-Za-z%]+)$/;class Wy{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new C,this._resizeSubscription=h.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),u=this._getOverlayFit(a,e,n,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(u,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<u.visibleArea)&&(i={overlayFit:u,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Yy(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){let{x:i,y:s}=t,o=this._getOffset(r,"x"),a=this._getOffset(r,"y");o&&(i+=o),a&&(s+=a);let u=0-s,l=s+e.height-n.height,c=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,u,l),d=c*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:c==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=Ky(this._overlayRef.getConfig().minHeight),o=Ky(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.right,0),s=Math.max(t.y+e.height-r.bottom,0),o=Math.max(r.top-n.top-t.y,0),a=Math.max(r.left-n.left-t.x,0);let u=0,l=0;return u=e.width<=r.width?a||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,l=e.height<=r.height?o||-s:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:u,y:l},{x:t.x+u,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new My(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,u,l;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)l=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)u=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,u=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-r/2)}return{top:s,left:u,bottom:o,right:l,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=Vg(n.height),r.top=Vg(n.top),r.bottom=Vg(n.bottom),r.width=Vg(n.width),r.left=Vg(n.left),r.right=Vg(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=Vg(t)),i&&(r.maxWidth=Vg(i))}this._lastBoundingBoxSize=n,Yy(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Yy(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Yy(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();Yy(n,this._getExactOverlayY(e,t,r)),Yy(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),u=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),u&&(o+=`translateY(${u}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=Vg(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Vg(s.maxWidth):i&&(n.maxWidth="")),Yy(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=Vg(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Vg(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ny(t,n),isOriginOutsideView:Oy(t,n),isOverlayClipped:Ny(e,n),isOverlayOutsideView:Oy(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{jy("originX",t.originX),Ly("originY",t.originY),jy("overlayX",t.overlayX),Ly("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&Pg(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Lo)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Yy(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Ky(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(Gy);return n&&"px"!==n?null:parseFloat(e)}return t||null}class Qy{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new Wy(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new Fy(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class Zy{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),u=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Xy=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new Zy}connectedTo(t,e,n){return new Qy(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new Wy(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(Gt(my),Gt(Ku),Gt(kg),Gt(Hy))},t.\u0275prov=ut({factory:function(){return new t(Gt(my),Gt(Ku),Gt(kg),Gt(Hy))},token:t,providedIn:"root"}),t})(),Jy=0,t_=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u,l,c){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=u,this._location=l,this._outsideClickDispatcher=c}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new Vy(t);return i.direction=i.direction||this._directionality.value,new $y(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+Jy++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Fu)),new Sy(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Py),Gt(Hy),Gt(Mo),Gt(Xy),Gt(By),Gt(Ds),Gt(yu),Gt(Ku),Gt(dy),Gt(cl,8),Gt(qy,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const e_={provide:new Ft("cdk-connected-overlay-scroll-strategy"),deps:[t_],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let n_=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[t_,e_],imports:[[fy,xy,yy],yy]}),t})();const r_=new $o("10.1.0");class i_{}function s_(t,e){return{type:7,name:t,definitions:e,options:{}}}function o_(t,e=null){return{type:4,styles:e,timings:t}}function a_(t,e=null){return{type:2,steps:t,options:e}}function u_(t){return{type:6,styles:t,offset:null}}function l_(t,e,n){return{type:0,name:t,styles:e,options:n}}function c_(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function h_(t){Promise.resolve(null).then(t)}class d_{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){h_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class f_{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?h_(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function p_(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function m_(t){switch(t.length){case 0:return new d_;case 1:return t[0];default:return new f_(t)}}function g_(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,l=null;if(r.forEach(t=>{const n=t.offset,r=n==u,c=r&&l||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}c[r]=a}),r||a.push(c),l=c,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function y_(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&__(n,"start",t)));break;case"done":t.onDone(()=>r(n&&__(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&__(n,"destroy",t)))}}function __(t,e,n){const r=n.totalTime,i=v_(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function v_(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function b_(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function w_(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let E_=(t,e)=>!1,C_=(t,e)=>!1,S_=(t,e,n)=>[];const A_=p_();(A_||"undefined"!=typeof Element)&&(E_=(t,e)=>t.contains(e),C_=(()=>{if(A_||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):C_}})(),S_=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let x_=null,T_=!1;function D_(t){x_||(x_=("undefined"!=typeof document?document.body:null)||{},T_=!!x_.style&&"WebkitAppearance"in x_.style);let e=!0;return x_.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in x_.style,!e&&T_)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in x_.style),e}const I_=C_,k_=E_,O_=S_;function N_(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let R_=(()=>{class t{validateStyleProperty(t){return D_(t)}matchesElement(t,e){return I_(t,e)}containsElement(t,e){return k_(t,e)}query(t,e,n){return O_(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new d_(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),P_=(()=>{class t{}return t.NOOP=new R_,t})();function V_(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:F_(parseFloat(e[1]),e[2])}function F_(t,e){switch(e){case"s":return 1e3*t;default:return t}}function M_(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=F_(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=F_(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function L_(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function j_(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else L_(t,n);return n}function U_(t,e,n){return n?e+":"+n+";":""}function B_(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=U_(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=U_(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function q_(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Q_(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),p_()&&B_(t))}function z_(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Q_(e);t.style[n]=""}),p_()&&B_(t))}function H_(t){return Array.isArray(t)?1==t.length?t[0]:a_(t):t}const $_=new RegExp("{{\\s*(.+?)\\s*}}","g");function G_(t){let e=[];if("string"==typeof t){let n;for(;n=$_.exec(t);)e.push(n[1]);$_.lastIndex=0}return e}function W_(t,e,n){const r=t.toString(),i=r.replace($_,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function Y_(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const K_=/-+([a-z0-9])/g;function Q_(t){return t.replace(K_,(...t)=>t[1].toUpperCase())}function Z_(t,e){return 0===t||0===e}function X_(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=tv(t,e)}))}}return e}function J_(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function tv(t,e){return window.getComputedStyle(t)[e]}function ev(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(iv(i,o)),"<"!=s[0]||"*"==i&&"*"==o||e.push(iv(o,i))}(t,n,e)):n.push(t),n}const nv=new Set(["true","1"]),rv=new Set(["false","0"]);function iv(t,e){const n=nv.has(t)||rv.has(t),r=nv.has(e)||rv.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?nv.has(t):rv.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?nv.has(e):rv.has(e)),o&&a}}const sv=new RegExp("s*:selfs*,?","g");function ov(t,e,n){return new av(t).build(e,n)}class av{constructor(t){this._driver=t}build(t,e){const n=new uv(e);return this._resetContextStyleTimingState(n),J_(this,H_(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(lv(t)){const e=t;Object.keys(e).forEach(t=>{G_(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Y_(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=J_(this,H_(t.animation),e);return{type:1,matchers:ev(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:cv(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>J_(this,t,e)),options:cv(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=J_(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:cv(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return hv(M_(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=hv(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||M_(r,e),hv(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:u_({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=u_(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(lv(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=G_(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(lv(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(lv(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=u&&(r++,l=n.offset=u),o=o||l<0||l>1,s=s||l<a,a=l,i.push(l),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let c=0;r>0&&r<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(l-1));const h=l-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const s=c>0?r==h?1:c*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:J_(this,H_(t.animation),e),options:cv(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:cv(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:cv(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(sv,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,b_(e.collectedStyles,e.currentQuerySelector,{});const o=J_(this,H_(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:cv(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:M_(t.timings,e.errors,!0);return{type:12,animation:J_(this,H_(t.animation),e),timings:n,options:null}}}class uv{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function lv(t){return!Array.isArray(t)&&"object"==typeof t}function cv(t){var e;return t?(t=L_(t)).params&&(t.params=(e=t.params)?L_(e):null):t={},t}function hv(t,e,n){return{duration:t,delay:e,easing:n}}function dv(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class fv{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const pv=new RegExp(":enter","g"),mv=new RegExp(":leave","g");function gv(t,e,n,r,i,s={},o={},a,u,l=[]){return(new yv).buildKeyframes(t,e,n,r,i,s,o,a,u,l)}class yv{buildKeyframes(t,e,n,r,i,s,o,a,u,l=[]){u=u||new fv;const c=new vv(t,e,u,r,i,l,[]);c.options=a,c.currentTimeline.setStyles([s],null,c.errors,a),J_(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,c.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[dv(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?V_(n.duration):null,s=null!=n.delay?V_(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),J_(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=_v);const t=V_(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>J_(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?V_(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),J_(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return M_(e.params?W_(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?V_(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=_v);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),J_(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const l=u.currentTime;J_(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}const _v={};class vv{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_v,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new bv(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=V_(n.duration)),null!=n.delay&&(r.delay=V_(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=W_(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new vv(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=_v,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new wv(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(pv,"."+this._enterClassName)).replace(mv,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class bv{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new bv(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):j_(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=W_(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=j_(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?Y_(t.values()):[],s=e.size?Y_(e.values()):[];if(n){const t=r[0],e=L_(t);t.offset=0,e.offset=1,r=[t,e]}return dv(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class wv extends bv{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=j_(t[0],!1);a.offset=0,i.push(a);const u=j_(t[0],!1);u.offset=Ev(o),i.push(u);const l=t.length-1;for(let r=1;r<=l;r++){let o=j_(t[r],!1);o.offset=Ev((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return dv(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Ev(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Cv{}class Sv extends Cv{normalizePropertyName(t,e){return Q_(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(Av[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const Av=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function xv(t,e,n,r,i,s,o,a,u,l,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:d}}const Tv={};class Dv{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,l){const c=[],h=this.ast.options&&this.ast.options.params||Tv,d=this.buildStyles(n,o&&o.params||Tv,c),f=a&&a.params||Tv,p=this.buildStyles(r,f,c),m=new Set,g=new Map,y=new Map,_="void"===r,v={params:Object.assign(Object.assign({},h),f)},b=l?[]:gv(t,e,this.ast.animation,i,s,d,p,v,u,c);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return xv(e,this._triggerName,n,r,_,d,p,[],[],g,y,w,c);b.forEach(t=>{const n=t.element,r=b_(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=b_(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=Y_(m.values());return xv(e,this._triggerName,n,r,_,d,p,b,E,g,y,w)}}class Iv{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=L_(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=W_(s,r,e)),n[t]=s})}}),n}}class kv{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Iv(t.style,t.options&&t.options.params||{})}),Ov(this.states,"true","1"),Ov(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Dv(t,e,this.states))}),this.fallbackTransition=new Dv(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Ov(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Nv=new fv;class Rv{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=ov(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=g_(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=gv(this._driver,e,i,"ng-enter","ng-leave",{},{},n,Nv,r),s.forEach(t=>{const e=b_(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=m_(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=v_(e,"","","");return y_(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Pv=[],Vv={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Fv={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Mv{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=L_(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Lv=new Mv("void");class jv{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Gv(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=b_(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=b_(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Gv(t,"ng-trigger"),Gv(t,"ng-trigger-"+e),a[e]=Lv),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new Bv(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Gv(t,"ng-trigger"),Gv(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new Mv(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=Lv),"void"!==u.value&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{z_(t,n),q_(t,r)})}return}const l=b_(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!c){if(!r)return;c=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(Gv(t,"ng-animate-queued"),s.onStart(()=>{Wv(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),l.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&m_(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||Lv,o=new Mv("void"),a=new Bv(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Vv||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Gv(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=v_(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,y_(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Uv{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new jv(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(qv(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!qv(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Gv(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Wv(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(qv(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return qv(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return m_(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Vv,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Gv(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?m_(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new fv,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,l=new Set;this.disabledNodes.forEach(t=>{l.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)l.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=$v(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n="ng-enter"+p++;f.set(e,n),t.forEach(t=>Gv(t,n))});const m=[],g=new Set,y=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const t=this.collectedLeaveElements[k],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const _=new Map,v=$v(h,Array.from(g));v.forEach((t,e)=>{const n="ng-leave"+p++;_.set(e,n),t.forEach(t=>Gv(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Wv(t,n))}),v.forEach((t,e)=>{const n=_.get(e);t.forEach(t=>Wv(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(b.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const l=!c||!this.driver.containsElement(c,i),h=_.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,l);if(p.errors&&p.errors.length)w.push(p);else{if(l)return e.onStart(()=>z_(i,p.fromStyles)),e.onDestroy(()=>q_(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>z_(i,p.fromStyles)),e.onDestroy(()=>q_(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>b_(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,C=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{b_(E,e,[]).push(t),t.destroy()})});const S=m.filter(t=>Kv(t,a,u)),A=new Map;Hv(A,this.driver,y,u,"*").forEach(t=>{Kv(t,a,u)&&S.push(t)});const x=new Map;d.forEach((t,e)=>{Hv(x,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=A.get(t),n=x.get(t);A.set(t,Object.assign(Object.assign({},e),n))});const T=[],D=[],I={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(l.has(e))return s.onDestroy(()=>q_(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=I;if(C.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>C.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,x,A);if(s.setRealPlayer(n),t===I)T.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=m_(e)),r.push(s)}}else z_(e,o.fromStyles),s.onDestroy(()=>q_(e,o.toStyles)),D.push(s),l.has(e)&&r.push(s)}),D.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=m_(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let k=0;k<m.length;k++){const t=m[k],e=t.__ng_removed;if(Wv(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Yv(this,t,r):this.processLeaveNode(t)}return m.length=0,T.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),T}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=b_(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}z_(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],l=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;l.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new d_(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof f_?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||Pv).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=g_(0,this._normalizer,0,e.keyframes,m,g),_=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&c.add(h),f){const e=new Bv(t,o,h);e.setRealPlayer(_),u.push(e)}return _});u.forEach(t=>{b_(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),l.forEach(t=>Gv(t,"ng-animating"));const d=m_(h);return d.onDestroy(()=>{l.forEach(t=>Wv(t,"ng-animating")),q_(a,e.toStyles)}),c.forEach(t=>{b_(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new d_(t.duration,t.delay)}}class Bv{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new d_,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>y_(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){b_(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function qv(t){return t&&1===t.nodeType}function zv(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Hv(t,e,n,r,i){const s=[];n.forEach(t=>s.push(zv(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Fv,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>zv(t,s[a++])),o}function $v(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function Gv(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Wv(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Yv(t,e,n){m_(n).onDone(()=>t.processLeaveNode(e))}function Kv(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Qv{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Uv(t,e,n),this._timelineEngine=new Rv(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=ov(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new kv(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=w_(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=w_(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Zv(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Jv(e[0]),e.length>1&&(r=Jv(e[e.length-1]))):e&&(n=Jv(e)),n||r?new Xv(t,n,r):null}let Xv=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&q_(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(q_(this._element,this._initialStyles),this._endStyles&&(q_(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(z_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(z_(this._element,this._endStyles),this._endStyles=null),q_(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Jv(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];tb(i)&&(e=e||{},e[i]=t[i])}return e}function tb(t){return"display"===t||"position"===t}class eb{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=ab(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),ob(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),sb(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){nb(this._element,this._name,"paused")}resume(){nb(this._element,this._name,"running")}setPosition(t){const e=rb(this._element,this._name);this._position=t*this._duration,ob(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),sb(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=ab(t,"").split(","),r=ib(n,e);r>=0&&(n.splice(r,1),ob(t,"",n.join(",")))}(this._element,this._name))}}function nb(t,e,n){ob(t,"PlayState",n,rb(t,e))}function rb(t,e){const n=ab(t,"");return n.indexOf(",")>0?ib(n.split(","),e):ib([n],e)}function ib(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function sb(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function ob(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function ab(t,e){return t.style["animation"+e]}class ub{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new eb(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:tv(this.element,n))})}this.currentSnapshot=t}}class lb extends d_{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=N_(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class cb{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return D_(t)}matchesElement(t,e){return I_(t,e)}containsElement(t,e){return k_(t,e)}query(t,e,n){return O_(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>N_(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof ub),u={};Z_(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=X_(t,e,u));if(0==n)return new lb(t,l);const c="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const d=Zv(t,e),f=new ub(t,e,c,n,r,i,l,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class hb{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:tv(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class db{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(fb().toString()),this._cssKeyframesDriver=new cb}validateStyleProperty(t){return D_(t)}matchesElement(t,e){return I_(t,e)}containsElement(t,e){return k_(t,e)}query(t,e,n){return O_(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},l=s.filter(t=>t instanceof hb);Z_(n,r)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=Zv(t,e=X_(t,e=e.map(t=>j_(t,!1)),u));return new hb(t,e,a,c)}}function fb(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let pb=(()=>{class t extends i_{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:ae.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?a_(t):t;return yb(this._renderer,null,e,"register",[n]),new mb(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Uo),Gt(Ku))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class mb extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new gb(this._id,t,e||{},this._renderer)}}class gb{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return yb(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function yb(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let _b=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new vb("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new bb(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Gt(Uo),Gt(Qv),Gt(yu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class vb{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class bb extends vb{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let wb=(()=>{class t extends Qv{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ku),Gt(P_),Gt(Cv))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Eb=new Ft("AnimationModuleType"),Cb=[{provide:P_,useFactory:function(){return"function"==typeof fb()?new db:new cb}},{provide:Eb,useValue:"BrowserAnimations"},{provide:i_,useClass:pb},{provide:Cv,useFactory:function(){return new Sv}},{provide:Qv,useClass:wb},{provide:Uo,useFactory:function(t,e,n){return new _b(t,e,n)},deps:[yc,Qv,yu]}];let Sb=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:Cb,imports:[Ic]}),t})();const Ab=new $o("10.1.0"),xb=new Ft("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Tb=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return gr()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Ab.full!==r_.full&&console.warn("The Angular Material version ("+Ab.full+") does not match the Angular CDK version ("+r_.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(Gt(ny),Gt(xb,8),Gt(Ku,8))},imports:[[fy],fy]}),t})();function Db(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Rg(t)}}}function Ib(t,e){return class extends t{constructor(...t){super(...t),this.color=e}get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)}}}function kb(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Rg(t)}}}const Ob=new Ft("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Wt(su)}});class Nb{constructor(){this._localeChanges=new C}get localeChanges(){return this._localeChanges}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),r=this.isValid(e);return n&&r?!this.compareDate(t,e):n==r}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}}const Rb=new Ft("mat-date-formats");let Pb;try{Pb="undefined"!=typeof Intl}catch(VE){Pb=!1}const Vb={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},Fb=jb(31,t=>String(t+1)),Mb={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},Lb=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function jb(t,e){const n=Array(t);for(let r=0;r<t;r++)n[r]=e(r);return n}let Ub=(()=>{class t extends Nb{constructor(t,e){super(),this.useUtcForDisplay=!0,super.setLocale(t),this.useUtcForDisplay=!e.TRIDENT,this._clampDate=e.TRIDENT||e.EDGE}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){if(Pb){const e=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return jb(12,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,t,1))))}return Vb[t]}getDateNames(){if(Pb){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return jb(31,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return Fb}getDayOfWeekNames(t){if(Pb){const e=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return jb(7,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return Mb[t]}getYearName(t){if(Pb){const e=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(e,t))}return String(this.getYear(t))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,e,n){if(e<0||e>11)throw Error(`Invalid month index "${e}". Month index has to be between 0 and 11.`);if(n<1)throw Error(`Invalid date "${n}". Date has to be greater than 0.`);let r=this._createDateWithOverflow(t,e,n);if(r.getMonth()!=e)throw Error(`Invalid date "${n}" for month with index "${e}".`);return r}today(){return new Date}parse(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,e){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");if(Pb){this._clampDate&&(t.getFullYear()<1||t.getFullYear()>9999)&&(t=this.clone(t)).setFullYear(Math.max(1,Math.min(9999,t.getFullYear()))),e=Object.assign(Object.assign({},e),{timeZone:"utc"});const n=new Intl.DateTimeFormat(this.locale,e);return this._stripDirectionalityCharacters(this._format(n,t))}return this._stripDirectionalityCharacters(t.toDateString())}addCalendarYears(t,e){return this.addCalendarMonths(t,12*e)}addCalendarMonths(t,e){let n=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+e,this.getDate(t));return this.getMonth(n)!=((this.getMonth(t)+e)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(t,e){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+e)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(Lb.test(t)){let e=new Date(t);if(this.isValid(e))return e}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,e,n){const r=new Date(t,e,n);return t>=0&&t<100&&r.setFullYear(this.getYear(r)-1900),r}_2digit(t){return("00"+t).slice(-2)}_stripDirectionalityCharacters(t){return t.replace(/[\u200e\u200f]/g,"")}_format(t,e){const n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.format(n)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ob,8),Gt(kg))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Bb=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[{provide:Nb,useClass:Ub}],imports:[[Og]]}),t})();const qb={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let zb=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[{provide:Rb,useValue:qb}],imports:[[Bb]]}),t})();class Hb{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const $b={enterDuration:450,exitDuration:400},Gb=Ng({passive:!0}),Wb=["mousedown","touchstart"],Yb=["mouseup","mouseleave","touchend","touchcancel"];class Kb{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Fg(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},$b),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,u=i.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=o-s+"px",l.style.top=a-s+"px",l.style.height=2*s+"px",l.style.width=2*s+"px",null!=n.color&&(l.style.backgroundColor=n.color),l.style.transitionDuration=u+"ms",this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const c=new Hb(this,l,n);return c.state=0,this._activeRipples.add(c),n.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const t=c===this._mostRecentTransientRipple;c.state=1,n.persistent||t&&this._isPointerDown||c.fadeOut()},u),c}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},$b),t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=Fg(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Wb))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Yb),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Qg(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,Gb)})})}_removeTriggerEvents(){this._triggerElement&&(Wb.forEach(t=>{this._triggerElement.removeEventListener(t,this,Gb)}),this._pointerUpEventsRegistered&&Yb.forEach(t=>{this._triggerElement.removeEventListener(t,this,Gb)}))}}const Qb=new Ft("mat-ripple-global-options");let Zb=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new Kb(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(Us(Lo),Us(yu),Us(kg),Us(Qb,8),Us(Eb,8))},t.\u0275dir=ye({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&lo("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),Xb=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Tb,Og],Tb]}),t})();const Jb=["mat-button",""],tw=["*"],ew=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class nw{constructor(t){this._elementRef=t}}const rw=Ib(Db(kb(nw)));let iw=(()=>{class t extends rw{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of ew)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(Us(Lo),Us(Jg),Us(Eb,8))},t.\u0275cmp=he({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&za(Zb,!0),2&t&&qa(n=$a())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(Ms("disabled",e.disabled||null),lo("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Eo],attrs:Jb,ngContentSelectors:tw,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(ro(),Hs(0,"span",0),io(1),$s(),Gs(2,"div",1),Gs(3,"div",2)),2&t&&(Ur(2),lo("mat-button-ripple-round",e.isRoundButton||e.isIconButton),qs("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[Zb],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})(),sw=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Xb,Tb],Tb]}),t})();function ow(t,e){}class aw{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const uw={dialogContainer:s_("dialogContainer",[l_("void, exit",u_({opacity:0,transform:"scale(0.7)"})),l_("enter",u_({transform:"none"})),c_("* => enter",o_("150ms cubic-bezier(0, 0, 0.2, 1)",u_({transform:"none",opacity:1}))),c_("* => void, * => exit",o_("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",u_({opacity:0})))])};function lw(){throw Error("Attempting to attach dialog content after content is already attached")}let cw=(()=>{class t extends Cy{constructor(t,e,n,r,i,s){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=i,this._focusMonitor=s,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._state="enter",this._animationStateChanged=new Oa,this.attachDomPortal=t=>(this._portalOutlet.hasAttached()&&lw(),this._setupFocusTrap(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=i.ariaLabelledBy||null,this._document=r}attachComponentPortal(t){return this._portalOutlet.hasAttached()&&lw(),this._setupFocusTrap(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached()&&lw(),this._setupFocusTrap(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_containsFocus(){const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}_onAnimationDone(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(Us(Lo),Us(Hg),Us(hs),Us(Ku,8),Us(aw),Us(Jg))},t.\u0275cmp=he({type:t,selectors:[["mat-dialog-container"]],viewQuery:function(t,e){var n,r;1&t&&(r=Ay,!0,Ha(Je(),Xe(),r,!0,void 0,!0)),2&t&&qa(n=$a())&&(e._portalOutlet=n.first)},hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&Zs("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),2&t&&(Ms("id",e._id)("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),bo("@dialogContainer",e._state))},features:[Eo],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&Ls(0,ow,0,0,"ng-template",0)},directives:[Ay],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[uw.dialogContainer]}}),t})(),hw=0;class dw{constructor(t,e,n="mat-dialog-"+hw++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new C,this._afterClosed=new C,this._beforeClosed=new C,this._state=0,e._id=n,e._animationStateChanged.pipe(Ud(t=>"done"===t.phaseName&&"enter"===t.toState),Df(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Ud(t=>"done"===t.phaseName&&"exit"===t.toState),Df(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Ud(t=>27===t.keyCode&&!this.disableClose&&!function(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(t))).subscribe(t=>{t.preventDefault(),fw(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():fw(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Ud(t=>"start"===t.phaseName),Df(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._containerInstance._startExitAnimation(),this._state=1}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function fw(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const pw=new Ft("MatDialogData"),mw=new Ft("mat-dialog-default-options"),gw=new Ft("mat-dialog-scroll-strategy"),yw={provide:gw,deps:[t_],useFactory:function(t){return()=>t.scrollStrategies.block()}};let _w=(()=>{class t{constructor(t,e,n,r,i,s,o){this._overlay=t,this._injector=e,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new C,this._afterOpenedAtThisLevel=new C,this._ariaHiddenElements=new Map,this.afterAllClosed=df(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(Lf(void 0))),this._scrollStrategy=i}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get _afterAllClosed(){const t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}open(t,e){if((e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new aw)).id&&this.getDialogById(e.id))throw Error(`Dialog with id "${e.id}" exists already. The dialog id must be unique.`);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new Vy({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=Ds.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:aw,useValue:e}]}),r=new by(cw,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(r).instance}_attachDialogContent(t,e,n,r){const i=new dw(n,e,r.id);if(t instanceof ua)e.attachTemplatePortal(new wy(t,null,{$implicit:r.data,dialogRef:i}));else{const n=this._createInjector(r,i,e),s=e.attachComponentPortal(new by(t,r.viewContainerRef,n));i.componentInstance=s.instance}return i.updateSize(r.width,r.height).updatePosition(r.position),i}_createInjector(t,e,n){const r=t&&t.viewContainerRef&&t.viewContainerRef.injector,i=[{provide:cw,useValue:n},{provide:pw,useValue:t.data},{provide:dw,useValue:e}];return!t.direction||r&&r.get(dy,null)||i.push({provide:dy,useValue:{value:t.direction,change:bd()}}),Ds.create({parent:r||this._injector,providers:i})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(Gt(t_),Gt(Ds),Gt(cl,8),Gt(mw,8),Gt(gw),Gt(t,12),Gt(Hy))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),vw=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[_w,yw],imports:[[n_,xy,Tb],Tb]}),t})();const bw=new Ft("MatFormField"),ww=new Ft("MAT_INPUT_VALUE_ACCESSOR"),Ew=["mat-calendar-body",""];function Cw(t,e){if(1&t&&(Hs(0,"tr",2),Hs(1,"td",3),go(2),$s(),$s()),2&t){const t=eo();Ur(1),uo("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),Ms("colspan",t.numCols),Ur(1),_o(" ",t.label," ")}}function Sw(t,e){if(1&t&&(Hs(0,"td",7),go(1),$s()),2&t){const t=eo(2);uo("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),Ms("colspan",t._firstRowOffset),Ur(1),_o(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function Aw(t,e){if(1&t){const t=Ws();Hs(0,"td",8),Qs("click",(function(n){tn(t);const r=e.$implicit;return eo(2)._cellClicked(r,n)})),Hs(1,"div",9),go(2),$s(),Gs(3,"div",10),$s()}if(2&t){const t=e.$implicit,n=e.index,r=eo().index,i=eo();uo("width",i._cellWidth)("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),lo("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",i._isActiveCell(r,n))("mat-calendar-body-range-start",i._isRangeStart(t.compareValue))("mat-calendar-body-range-end",i._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",i._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",i._isComparisonBridgeStart(t.compareValue,r,n))("mat-calendar-body-comparison-bridge-end",i._isComparisonBridgeEnd(t.compareValue,r,n))("mat-calendar-body-comparison-start",i._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",i._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",i._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",i._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",i._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",i._isInPreview(t.compareValue)),qs("ngClass",t.cssClasses)("tabindex",i._isActiveCell(r,n)?0:-1),Ms("data-mat-row",r)("data-mat-col",n)("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-selected",i._isSelected(t)),Ur(1),lo("mat-calendar-body-selected",i._isSelected(t))("mat-calendar-body-today",i.todayValue===t.compareValue),Ur(1),_o(" ",t.displayValue," ")}}function xw(t,e){if(1&t&&(Hs(0,"tr",4),Ls(1,Sw,2,6,"td",5),Ls(2,Aw,4,44,"td",6),$s()),2&t){const t=e.$implicit,n=e.index,r=eo();Ur(1),qs("ngIf",0===n&&r._firstRowOffset),Ur(1),qs("ngForOf",t)}}function Tw(t,e){if(1&t&&(Hs(0,"th",5),go(1),$s()),2&t){const t=e.$implicit;Ms("aria-label",t.long),Ur(1),yo(t.narrow)}}const Dw=["*"];function Iw(t,e){}function kw(t,e){if(1&t){const t=Ws();Hs(0,"mat-month-view",5),Qs("activeDateChange",(function(e){return tn(t),eo().activeDate=e}))("_userSelection",(function(e){return tn(t),eo()._dateSelected(e)})),$s()}if(2&t){const t=eo();qs("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)}}function Ow(t,e){if(1&t){const t=Ws();Hs(0,"mat-year-view",6),Qs("activeDateChange",(function(e){return tn(t),eo().activeDate=e}))("monthSelected",(function(e){return tn(t),eo()._monthSelectedInYearView(e)}))("selectedChange",(function(e){return tn(t),eo()._goToDateInView(e,"month")})),$s()}if(2&t){const t=eo();qs("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)}}function Nw(t,e){if(1&t){const t=Ws();Hs(0,"mat-multi-year-view",7),Qs("activeDateChange",(function(e){return tn(t),eo().activeDate=e}))("yearSelected",(function(e){return tn(t),eo()._yearSelectedInMultiYearView(e)}))("selectedChange",(function(e){return tn(t),eo()._goToDateInView(e,"year")})),$s()}if(2&t){const t=eo();qs("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)}}const Rw=["button"];function Pw(t,e){1&t&&(Qe.lFrame.currentNamespace="http://www.w3.org/2000/svg",Hs(0,"svg",3),Gs(1,"path",4),$s())}const Vw=[[["","matDatepickerToggleIcon",""]]],Fw=["[matDatepickerToggleIcon]"];function Mw(t){return Error(`MatDatepicker: No provider found for ${t}. You must import one of the following modules at your application root: MatNativeDateModule, MatMomentDateModule, or provide a custom implementation.`)}let Lw=(()=>{class t{constructor(){this.changes=new C,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(t,e){return`${t} \u2013 ${e}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:function(){return new t},token:t,providedIn:"root"}),t})();class jw{constructor(t,e,n,r,i={},s=t,o){this.value=t,this.displayValue=e,this.ariaLabel=n,this.enabled=r,this.cssClasses=i,this.compareValue=s,this.rawValue=o}}let Uw=(()=>{class t{constructor(t,e){this._elementRef=t,this._ngZone=e,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new Oa,this.previewChange=new Oa,this._enterHandler=t=>{if(this._skipNextFocus&&"focus"===t.type)this._skipNextFocus=!1;else if(t.target&&this.isRange){const e=this._getCellFromElement(t.target);e&&this._ngZone.run(()=>this.previewChange.emit({value:e.enabled?e:null,event:t}))}},this._leaveHandler=t=>{null!==this.previewEnd&&this.isRange&&t.target&&Bw(t.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:t}))},e.runOutsideAngular(()=>{const e=t.nativeElement;e.addEventListener("mouseenter",this._enterHandler,!0),e.addEventListener("focus",this._enterHandler,!0),e.addEventListener("mouseleave",this._leaveHandler,!0),e.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(t,e){t.enabled&&this.selectedValueChange.emit({value:t.value,event:e})}_isSelected(t){return this.startValue===t.compareValue||this.endValue===t.compareValue}ngOnChanges(t){const e=t.numCols,{rows:n,numCols:r}=this;(t.rows||e)&&(this._firstRowOffset=n&&n.length&&n[0].length?r-n[0].length:0),(t.cellAspectRatio||e||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/r+"%"),!e&&this._cellWidth||(this._cellWidth=100/r+"%")}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mouseenter",this._enterHandler,!0),t.removeEventListener("focus",this._enterHandler,!0),t.removeEventListener("mouseleave",this._leaveHandler,!0),t.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(t,e){let n=t*this.numCols+e;return t&&(n-=this._firstRowOffset),n==this.activeCell}_focusActiveCell(t=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(Df(1)).subscribe(()=>{const e=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");e&&(t||(this._skipNextFocus=!0),e.focus())})})}_isRangeStart(t){return qw(t,this.startValue,this.endValue)}_isRangeEnd(t){return zw(t,this.startValue,this.endValue)}_isInRange(t){return Hw(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return qw(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,e,n){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let r=this.rows[e][n-1];if(!r){const t=this.rows[e-1];r=t&&t[t.length-1]}return r&&!this._isRangeEnd(r.compareValue)}_isComparisonBridgeEnd(t,e,n){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let r=this.rows[e][n+1];if(!r){const t=this.rows[e+1];r=t&&t[0]}return r&&!this._isRangeStart(r.compareValue)}_isComparisonEnd(t){return zw(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return Hw(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isPreviewStart(t){return qw(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return zw(t,this.previewStart,this.previewEnd)}_isInPreview(t){return Hw(t,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(t){let e;if(Bw(t)?e=t:Bw(t.parentNode)&&(e=t.parentNode),e){const t=e.getAttribute("data-mat-row"),n=e.getAttribute("data-mat-col");if(t&&n)return this.rows[parseInt(t)][parseInt(n)]}return null}}return t.\u0275fac=function(e){return new(e||t)(Us(Lo),Us(yu))},t.\u0275cmp=he({type:t,selectors:[["","mat-calendar-body",""]],hostAttrs:["role","grid","aria-readonly","true",1,"mat-calendar-body"],inputs:{numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",previewStart:"previewStart",previewEnd:"previewEnd",label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[ke],attrs:Ew,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["aria-hidden","true","class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","mat-calendar-body-range-start","mat-calendar-body-range-end","mat-calendar-body-in-range","mat-calendar-body-comparison-bridge-start","mat-calendar-body-comparison-bridge-end","mat-calendar-body-comparison-start","mat-calendar-body-comparison-end","mat-calendar-body-in-comparison-range","mat-calendar-body-preview-start","mat-calendar-body-preview-end","mat-calendar-body-in-preview","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["aria-hidden","true",1,"mat-calendar-body-label"],["role","gridcell",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],[1,"mat-calendar-body-cell-preview"]],template:function(t,e){1&t&&(Ls(0,Cw,3,6,"tr",0),Ls(1,xw,3,2,"tr",1)),2&t&&(qs("ngIf",e._firstRowOffset<e.labelMinRequiredCells),Ur(1),qs("ngForOf",e.rows))},directives:[Gl,Hl,ql],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media(hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n'],encapsulation:2,changeDetection:0}),t})();function Bw(t){return"TD"===t.nodeName}function qw(t,e,n){return null!==n&&e!==n&&t<n&&t===e}function zw(t,e,n){return null!==e&&e!==n&&t>=e&&t===n}function Hw(t,e,n,r){return r&&null!==e&&null!==n&&e!==n&&t>=e&&t<=n}class $w{constructor(t,e){this.start=t,this.end=e}}let Gw=(()=>{class t{constructor(t,e){this.selection=t,this._adapter=e,this._selectionChanged=new C,this.selectionChanged=this._selectionChanged.asObservable(),this.selection=t}updateSelection(t,e){this.selection=t,this._selectionChanged.next({selection:t,source:e})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}}return t.\u0275fac=function(e){return new(e||t)(Us(void 0),Us(Nb))},t.\u0275dir=ye({type:t}),t})(),Ww=(()=>{class t extends Gw{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}}return t.\u0275fac=function(e){return new(e||t)(Gt(Nb))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Yw={provide:Gw,deps:[[new nt,new it,Gw],Nb],useFactory:function(t,e){return t||new Ww(e)}},Kw=new Ft("MAT_DATE_RANGE_SELECTION_STRATEGY");let Qw=(()=>{class t{constructor(t){this._dateAdapter=t}selectionFinished(t,e){let{start:n,end:r}=e;return null==n?n=t:null==r&&t&&this._dateAdapter.compareDate(t,n)>=0?r=t:(n=t,r=null),new $w(n,r)}createPreview(t,e){let n=null,r=null;return e.start&&!e.end&&t&&(n=e.start,r=t),new $w(n,r)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Nb))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Zw=(()=>{class t{constructor(t,e,n,r,i){if(this._changeDetectorRef=t,this._dateFormats=e,this._dateAdapter=n,this._dir=r,this._rangeStrategy=i,this._rerenderSubscription=h.EMPTY,this.selectedChange=new Oa,this._userSelection=new Oa,this.activeDateChange=new Oa,!this._dateAdapter)throw Mw("DateAdapter");if(!this._dateFormats)throw Mw("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){const e=this._activeDate,n=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(e,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof $w?t:this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Lf(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){const e=t.value,n=this._dateAdapter.getYear(this.activeDate),r=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.createDate(n,r,e);let s,o;this._selected instanceof $w?(s=this._getDateInCurrentMonth(this._selected.start),o=this._getDateInCurrentMonth(this._selected.end)):s=o=this._getDateInCurrentMonth(this._selected),s===e&&o===e||this.selectedChange.emit(i),this._userSelection.emit({value:i,event:t.event})}_handleCalendarBodyKeydown(t){const e=this._activeDate,n=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return void(this.dateFilter&&!this.dateFilter(this._activeDate)||(this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),t.preventDefault()));case 27:return void(null!=this._previewEnd&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t}),t.preventDefault(),t.stopPropagation()));default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_previewChanged({event:t,value:e}){if(this._rangeStrategy){const n=this._rangeStrategy.createPreview(e?e.rawValue:null,this.selected,t);this._previewStart=this._getCellCompareValue(n.start),this._previewEnd=this._getCellCompareValue(n.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),e=this._dateAdapter.getDayOfWeekNames("narrow");let n=this._dateAdapter.getDayOfWeekNames("long").map((t,n)=>({long:t,narrow:e[n]}));this._weekdays=n.slice(t).concat(n.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),e=this._dateAdapter.getDateNames();this._weeks=[[]];for(let n=0,r=this._firstWeekOffset;n<t;n++,r++){7==r&&(this._weeks.push([]),r=0);const t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),i=this._shouldEnableDate(t),s=this._dateAdapter.format(t,this._dateFormats.display.dateA11yLabel),o=this.dateClass?this.dateClass(t):void 0;this._weeks[this._weeks.length-1].push(new jw(n+1,e[n],s,i,o,this._getCellCompareValue(t),t))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,e){return!(!t||!e||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(e)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(e))}_getCellCompareValue(t){if(t){const e=this._dateAdapter.getYear(t),n=this._dateAdapter.getMonth(t),r=this._dateAdapter.getDate(t);return new Date(e,n,r).getTime()}return null}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(t){t instanceof $w?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}}return t.\u0275fac=function(e){return new(e||t)(Us(hs),Us(Rb,8),Us(Nb,8),Us(dy,8),Us(Kw,8))},t.\u0275cmp=he({type:t,selectors:[["mat-month-view"]],viewQuery:function(t,e){var n;1&t&&za(Uw,!0),2&t&&qa(n=$a())&&(e._matCalendarBody=n.first)},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],decls:7,vars:13,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["colspan","7","aria-hidden","true",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keydown"],["scope","col"]],template:function(t,e){1&t&&(Hs(0,"table",0),Hs(1,"thead",1),Hs(2,"tr"),Ls(3,Tw,2,2,"th",2),$s(),Hs(4,"tr"),Gs(5,"th",3),$s(),$s(),Hs(6,"tbody",4),Qs("selectedValueChange",(function(t){return e._dateSelected(t)}))("previewChange",(function(t){return e._previewChanged(t)}))("keydown",(function(t){return e._handleCalendarBodyKeydown(t)})),$s(),$s()),2&t&&(Ur(3),qs("ngForOf",e._weekdays),Ur(3),qs("label",e._monthLabel)("rows",e._weeks)("todayValue",e._todayDate)("startValue",e._rangeStart)("endValue",e._rangeEnd)("comparisonStart",e._comparisonRangeStart)("comparisonEnd",e._comparisonRangeEnd)("previewStart",e._previewStart)("previewEnd",e._previewEnd)("isRange",e._isRange)("labelMinRequiredCells",3)("activeCell",e._dateAdapter.getDate(e.activeDate)-1))},directives:[Hl,Uw],encapsulation:2,changeDetection:0}),t})(),Xw=(()=>{class t{constructor(t,e,n){if(this._changeDetectorRef=t,this._dateAdapter=e,this._dir=n,this._rerenderSubscription=h.EMPTY,this.selectedChange=new Oa,this.yearSelected=new Oa,this.activeDateChange=new Oa,!this._dateAdapter)throw Mw("DateAdapter");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let e=this._activeDate;const n=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),Jw(this._dateAdapter,e,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof $w?t:this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Lf(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const t=this._dateAdapter.getYear(this._activeDate)-tE(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let e=0,n=[];e<24;e++)n.push(t+e),4==n.length&&(this._years.push(n.map(t=>this._createCellForYear(t))),n=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){const e=t.value;this.yearSelected.emit(this._dateAdapter.createDate(e,0,1));let n=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,n,1));this.selectedChange.emit(this._dateAdapter.createDate(e,n,Math.min(this._dateAdapter.getDate(this.activeDate),r)))}_handleCalendarBodyKeydown(t){const e=this._activeDate,n=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-tE(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-tE(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?240:24);break;case 13:case 32:this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t});break;default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_getActiveCell(){return tE(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(t){let e=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1));return new jw(t,e,e,this._shouldEnableYear(t))}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let e=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(e)==t;e=this._dateAdapter.addCalendarDays(e,1))if(this.dateFilter(e))return!0;return!1}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(t){if(this._selectedYear=null,t instanceof $w){const e=t.start||t.end;e&&(this._selectedYear=this._dateAdapter.getYear(e))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}}return t.\u0275fac=function(e){return new(e||t)(Us(hs),Us(Nb,8),Us(dy,8))},t.\u0275cmp=he({type:t,selectors:[["mat-multi-year-view"]],viewQuery:function(t,e){var n;1&t&&za(Uw,!0),2&t&&qa(n=$a())&&(e._matCalendarBody=n.first)},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keydown"]],template:function(t,e){1&t&&(Hs(0,"table",0),Hs(1,"thead",1),Hs(2,"tr"),Gs(3,"th",2),$s(),$s(),Hs(4,"tbody",3),Qs("selectedValueChange",(function(t){return e._yearSelected(t)}))("keydown",(function(t){return e._handleCalendarBodyKeydown(t)})),$s(),$s()),2&t&&(Ur(4),qs("rows",e._years)("todayValue",e._todayYear)("startValue",e._selectedYear)("endValue",e._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",e._getActiveCell()))},directives:[Uw],encapsulation:2,changeDetection:0}),t})();function Jw(t,e,n,r,i){const s=t.getYear(e),o=t.getYear(n),a=eE(t,r,i);return Math.floor((s-a)/24)===Math.floor((o-a)/24)}function tE(t,e,n,r){return((t.getYear(e)-eE(t,n,r))%24+24)%24}function eE(t,e,n){let r=0;return n?r=t.getYear(n)-24+1:e&&(r=t.getYear(e)),r}let nE=(()=>{class t{constructor(t,e,n,r){if(this._changeDetectorRef=t,this._dateFormats=e,this._dateAdapter=n,this._dir=r,this._rerenderSubscription=h.EMPTY,this.selectedChange=new Oa,this.monthSelected=new Oa,this.activeDateChange=new Oa,!this._dateAdapter)throw Mw("DateAdapter");if(!this._dateFormats)throw Mw("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let e=this._activeDate;const n=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(e)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof $w?t:this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Lf(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){const e=t.value,n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1);this.monthSelected.emit(n);const r=this._dateAdapter.getNumDaysInMonth(n);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r)))}_handleCalendarBodyKeydown(t){const e=this._activeDate,n=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case 13:case 32:this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t});break;default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(e=>e.map(e=>this._createCellForMonth(e,t[e]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_createCellForMonth(t,e){let n=this._dateAdapter.format(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),this._dateFormats.display.monthYearA11yLabel);return new jw(t,e.toLocaleUpperCase(),n,this._shouldEnableMonth(t))}_shouldEnableMonth(t){const e=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(e,t)||this._isYearAndMonthBeforeMinDate(e,t))return!1;if(!this.dateFilter)return!0;for(let n=this._dateAdapter.createDate(e,t,1);this._dateAdapter.getMonth(n)==t;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}_isYearAndMonthAfterMaxDate(t,e){if(this.maxDate){const n=this._dateAdapter.getYear(this.maxDate),r=this._dateAdapter.getMonth(this.maxDate);return t>n||t===n&&e>r}return!1}_isYearAndMonthBeforeMinDate(t,e){if(this.minDate){const n=this._dateAdapter.getYear(this.minDate),r=this._dateAdapter.getMonth(this.minDate);return t<n||t===n&&e<r}return!1}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(t){this._selectedMonth=t instanceof $w?this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._getMonthInCurrentYear(t)}}return t.\u0275fac=function(e){return new(e||t)(Us(hs),Us(Rb,8),Us(Nb,8),Us(dy,8))},t.\u0275cmp=he({type:t,selectors:[["mat-year-view"]],viewQuery:function(t,e){var n;1&t&&za(Uw,!0),2&t&&qa(n=$a())&&(e._matCalendarBody=n.first)},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keydown"]],template:function(t,e){1&t&&(Hs(0,"table",0),Hs(1,"thead",1),Hs(2,"tr"),Gs(3,"th",2),$s(),$s(),Hs(4,"tbody",3),Qs("selectedValueChange",(function(t){return e._monthSelected(t)}))("keydown",(function(t){return e._handleCalendarBodyKeydown(t)})),$s(),$s()),2&t&&(Ur(4),qs("label",e._yearLabel)("rows",e._months)("todayValue",e._todayMonth)("startValue",e._selectedMonth)("endValue",e._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",e._dateAdapter.getMonth(e.activeDate)))},directives:[Uw],encapsulation:2,changeDetection:0}),t})(),rE=(()=>{class t{constructor(t,e,n,r,i){this._intl=t,this.calendar=e,this._dateAdapter=n,this._dateFormats=r,this.calendar.stateChanges.subscribe(()=>i.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const t=this._dateAdapter.getYear(this.calendar.activeDate)-tE(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),e=t+24-1,n=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1)),r=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1));return this._intl.formatYearRange(n,r)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,e){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(e)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(e):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(e):Jw(this._dateAdapter,t,e,this.calendar.minDate,this.calendar.maxDate)}}return t.\u0275fac=function(e){return new(e||t)(Us(Lw),Us(wt(()=>iE)),Us(Nb,8),Us(Rb,8),Us(hs))},t.\u0275cmp=he({type:t,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Dw,decls:9,vars:8,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],[1,"mat-calendar-arrow"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(t,e){1&t&&(ro(),Hs(0,"div",0),Hs(1,"div",1),Hs(2,"button",2),Qs("click",(function(){return e.currentPeriodClicked()})),go(3),Gs(4,"div",3),$s(),Gs(5,"div",4),io(6),Hs(7,"button",5),Qs("click",(function(){return e.previousClicked()})),$s(),Hs(8,"button",6),Qs("click",(function(){return e.nextClicked()})),$s(),$s(),$s()),2&t&&(Ur(2),Ms("aria-label",e.periodButtonLabel),Ur(1),_o(" ",e.periodButtonText," "),Ur(1),lo("mat-calendar-invert","month"!=e.calendar.currentView),Ur(3),qs("disabled",!e.previousEnabled()),Ms("aria-label",e.prevButtonLabel),Ur(1),qs("disabled",!e.nextEnabled()),Ms("aria-label",e.nextButtonLabel))},directives:[iw,Kg],encapsulation:2,changeDetection:0}),t})(),iE=(()=>{class t{constructor(t,e,n,r){if(this._dateAdapter=e,this._dateFormats=n,this._changeDetectorRef=r,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new Oa,this.yearSelected=new Oa,this.monthSelected=new Oa,this._userSelection=new Oa,this.stateChanges=new C,!this._dateAdapter)throw Mw("DateAdapter");if(!this._dateFormats)throw Mw("MAT_DATE_FORMATS");this._intlChanges=t.changes.subscribe(()=>{r.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(t){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=t instanceof $w?t:this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck()}ngAfterContentInit(){this._calendarHeaderPortal=new by(this.headerComponent||rE),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const e=t.minDate||t.maxDate||t.dateFilter;if(e&&!e.firstChange){const t=this._getCurrentViewComponent();t&&(this._changeDetectorRef.detectChanges(),t._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){const t=this.currentView;let e;e="month"===t?this.monthView:"year"===t?this.yearView:this.multiYearView,e._init()}_dateSelected(t){const e=t.value;(this.selected instanceof $w||e&&!this._dateAdapter.sameDate(e,this.selected))&&this.selectedChange.emit(e),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,e){this.activeDate=t,this.currentView=e}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return t.\u0275fac=function(e){return new(e||t)(Us(Lw),Us(Nb,8),Us(Rb,8),Us(hs))},t.\u0275cmp=he({type:t,selectors:[["mat-calendar"]],viewQuery:function(t,e){var n;1&t&&(za(Zw,!0),za(nE,!0),za(Xw,!0)),2&t&&(qa(n=$a())&&(e.monthView=n.first),qa(n=$a())&&(e.yearView=n.first),qa(n=$a())&&(e.multiYearView=n.first))},hostAttrs:[1,"mat-calendar"],inputs:{startView:"startView",startAt:"startAt",selected:"selected",minDate:"minDate",maxDate:"maxDate",headerComponent:"headerComponent",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[Po([Yw]),ke],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","activeDateChange","yearSelected","selectedChange"]],template:function(t,e){1&t&&(Ls(0,Iw,0,0,"ng-template",0),Hs(1,"div",1),Ls(2,kw,1,8,"mat-month-view",2),Ls(3,Ow,1,5,"mat-year-view",3),Ls(4,Nw,1,5,"mat-multi-year-view",4),$s()),2&t&&(qs("cdkPortalOutlet",e._calendarHeaderPortal),Ur(1),qs("ngSwitch",e.currentView),Ur(1),qs("ngSwitchCase","month"),Ur(1),qs("ngSwitchCase","year"),Ur(1),qs("ngSwitchCase","multi-year"))},directives:[Ay,ey,Ql,Zl,Zw,nE,Xw],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),t})();const sE={transformPanel:s_("transformPanel",[l_("void",u_({opacity:0,transform:"scale(1, 0.8)"})),c_("void => enter",o_("120ms cubic-bezier(0, 0, 0.2, 1)",u_({opacity:1,transform:"scale(1, 1)"}))),c_("* => void",o_("100ms linear",u_({opacity:0})))]),fadeInCalendar:s_("fadeInCalendar",[l_("void",u_({opacity:0})),l_("enter",u_({opacity:1})),c_("void => *",o_("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let oE=0;const aE=new Ft("mat-datepicker-scroll-strategy"),uE={provide:aE,deps:[t_],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class lE{constructor(t){this._elementRef=t}}const cE=Ib(lE);let hE=(()=>{class t extends cE{constructor(t,e,n,r,i){super(t),this._changeDetectorRef=e,this._model=n,this._dateAdapter=r,this._rangeSelectionStrategy=i,this._animationState="enter",this._animationDone=new C}ngAfterViewInit(){this._calendar.focusActiveCell()}ngOnDestroy(){this._animationDone.complete()}_handleUserSelection(t){if(this._model&&this._dateAdapter){const e=this._model.selection,n=t.value,r=e instanceof $w;if(r&&this._rangeSelectionStrategy){const r=this._rangeSelectionStrategy.selectionFinished(n,e,t.event);this._model.updateSelection(r,this)}else!n||!r&&this._dateAdapter.sameDate(n,e)||this._model.add(n)}this._model&&!this._model.isComplete()||this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}_getSelected(){return this._model?this._model.selection:null}}return t.\u0275fac=function(e){return new(e||t)(Us(Lo),Us(hs),Us(Gw),Us(Nb),Us(Kw,8))},t.\u0275cmp=he({type:t,selectors:[["mat-datepicker-content"]],viewQuery:function(t,e){var n;1&t&&za(iE,!0),2&t&&qa(n=$a())&&(e._calendar=n.first)},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(t,e){1&t&&Zs("@transformPanel.done",(function(){return e._animationDone.next()})),2&t&&(bo("@transformPanel",e._animationState),lo("mat-datepicker-content-touch",e.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[Eo],decls:1,vars:13,consts:[["cdkTrapFocus","",3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","_userSelection"]],template:function(t,e){1&t&&(Hs(0,"mat-calendar",0),Qs("yearSelected",(function(t){return e.datepicker._selectYear(t)}))("monthSelected",(function(t){return e.datepicker._selectMonth(t)}))("_userSelection",(function(t){return e._handleUserSelection(t)})),$s()),2&t&&qs("id",e.datepicker.id)("ngClass",e.datepicker.panelClass)("startAt",e.datepicker.startAt)("startView",e.datepicker.startView)("minDate",e.datepicker._minDate)("maxDate",e.datepicker._maxDate)("dateFilter",e.datepicker._dateFilter)("headerComponent",e.datepicker.calendarHeaderComponent)("selected",e._getSelected())("dateClass",e.datepicker.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("@fadeInCalendar","enter")},directives:[iE,$g,ql],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content-touch{display:block;max-height:80vh;overflow:auto;margin:-24px}.mat-datepicker-content-touch .mat-calendar{min-width:250px;min-height:312px;max-width:750px;max-height:788px}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-calendar{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-calendar{width:80vw;height:100vw}}\n"],encapsulation:2,data:{animation:[sE.transformPanel,sE.fadeInCalendar]},changeDetection:0}),t})(),dE=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){if(this._dialog=t,this._overlay=e,this._ngZone=n,this._viewContainerRef=r,this._dateAdapter=s,this._dir=o,this._document=a,this._model=u,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this.yearSelected=new Oa,this.monthSelected=new Oa,this.openedStream=new Oa,this.closedStream=new Oa,this._opened=!1,this.id="mat-datepicker-"+oE++,this._focusedElementBeforeOpen=null,this._disabledChange=new C,!this._dateAdapter)throw Mw("DateAdapter");this._scrollStrategy=i}get startAt(){return this._startAt||(this._datepickerInput?this._datepickerInput.getStartValue():null)}set startAt(t){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get color(){return this._color||(this._datepickerInput?this._datepickerInput.getThemePalette():void 0)}set color(t){this._color=t}get touchUi(){return this._touchUi}set touchUi(t){this._touchUi=Rg(t)}get disabled(){return void 0===this._disabled&&this._datepickerInput?this._datepickerInput.disabled:!!this._disabled}set disabled(t){const e=Rg(t);e!==this._disabled&&(this._disabled=e,this._disabledChange.next(e))}get opened(){return this._opened}set opened(t){t?this.open():this.close()}get _minDate(){return this._datepickerInput&&this._datepickerInput.min}get _maxDate(){return this._datepickerInput&&this._datepickerInput.max}get _dateFilter(){return this._datepickerInput&&this._datepickerInput.dateFilter}ngOnChanges(t){const e=t.xPosition||t.yPosition;e&&!e.firstChange&&this._popupRef&&(this._setConnectedPositions(this._popupRef.getConfig().positionStrategy),this.opened&&this._popupRef.updatePosition())}ngOnDestroy(){this._destroyPopup(),this.close(),this._disabledChange.complete()}select(t){this._model.add(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_registerInput(t){if(this._datepickerInput)throw Error("A MatDatepicker can only be associated with a single input.");return this._datepickerInput=t,this._model}open(){if(!this._opened&&!this.disabled){if(!this._datepickerInput)throw Error("Attempted to open an MatDatepicker with no associated input.");this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit()}}close(){if(!this._opened)return;if(this._popupComponentRef&&this._popupRef){const t=this._popupComponentRef.instance;t._startExitAnimation(),t._animationDone.pipe(Df(1)).subscribe(()=>this._destroyPopup())}this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null);const t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(t)):t()}_openAsDialog(){this._dialogRef&&this._dialogRef.close(),this._dialogRef=this._dialog.open(hE,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"mat-datepicker-dialog",hasBackdrop:!0,disableClose:!1,width:"",height:"",minWidth:"",minHeight:"",maxWidth:"80vw",maxHeight:"",position:{},autoFocus:!0,restoreFocus:!1}),this._dialogRef.afterClosed().subscribe(()=>this.close()),this._forwardContentValues(this._dialogRef.componentInstance)}_openAsPopup(){const t=new by(hE,this._viewContainerRef);this._destroyPopup(),this._createPopup(),this._popupComponentRef=this._popupRef.attach(t),this._forwardContentValues(this._popupComponentRef.instance),this._ngZone.onStable.asObservable().pipe(Df(1)).subscribe(()=>{this._popupRef.updatePosition()})}_forwardContentValues(t){t.datepicker=this,t.color=this.color}_createPopup(){const t=this._overlay.position().flexibleConnectedTo(this._datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition(),e=new Vy({positionStrategy:this._setConnectedPositions(t),hasBackdrop:!0,backdropClass:"mat-overlay-transparent-backdrop",direction:this._dir,scrollStrategy:this._scrollStrategy(),panelClass:"mat-datepicker-popup"});this._popupRef=this._overlay.create(e),this._popupRef.overlayElement.setAttribute("role","dialog"),$(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe(Ud(t=>27===t.keyCode||this._datepickerInput&&t.altKey&&38===t.keyCode))).subscribe(t=>{t&&t.preventDefault(),this.close()})}_destroyPopup(){this._popupRef&&(this._popupRef.dispose(),this._popupRef=this._popupComponentRef=null)}_setConnectedPositions(t){const e="end"===this.xPosition?"end":"start",n="start"===e?"end":"start",r="above"===this.yPosition?"bottom":"top",i="top"===r?"bottom":"top";return t.withPositions([{originX:e,originY:i,overlayX:e,overlayY:r},{originX:e,originY:r,overlayX:e,overlayY:i},{originX:n,originY:i,overlayX:n,overlayY:r},{originX:n,originY:r,overlayX:n,overlayY:i}])}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}}return t.\u0275fac=function(e){return new(e||t)(Us(_w),Us(t_),Us(yu),Us(ca),Us(aE),Us(Nb,8),Us(dy,8),Us(Ku,8),Us(Gw))},t.\u0275dir=ye({type:t,inputs:{startView:"startView",xPosition:"xPosition",yPosition:"yPosition",startAt:"startAt",color:"color",touchUi:"touchUi",disabled:"disabled",opened:"opened",calendarHeaderComponent:"calendarHeaderComponent",panelClass:"panelClass",dateClass:"dateClass"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",openedStream:"opened",closedStream:"closed"},features:[ke]}),t})(),fE=(()=>{class t extends dE{}return t.\u0275fac=function(e){return pE(e||t)},t.\u0275cmp=he({type:t,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[Po([Yw]),Eo],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0}),t})();const pE=ar(fE);class mE{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let gE=(()=>{class t{constructor(t,e,n){if(this._elementRef=t,this._dateAdapter=e,this._dateFormats=n,this.dateChange=new Oa,this.dateInput=new Oa,this._valueChange=new Oa,this._disabledChange=new Oa,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=h.EMPTY,this._localeSubscription=h.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=t=>{const e=this._getValidDateOrNull(this._dateAdapter.deserialize(t.value)),n=this._getDateFilter();return n&&e&&!n(e)?{matDatepickerFilter:!0}:null},this._minValidator=t=>{const e=this._getValidDateOrNull(this._dateAdapter.deserialize(t.value)),n=this._getMinDate();return!n||!e||this._dateAdapter.compareDate(n,e)<=0?null:{matDatepickerMin:{min:n,actual:e}}},this._maxValidator=t=>{const e=this._getValidDateOrNull(this._dateAdapter.deserialize(t.value)),n=this._getMaxDate();return!n||!e||this._dateAdapter.compareDate(n,e)>=0?null:{matDatepickerMax:{max:n,actual:e}}},this._lastValueValid=!1,!this._dateAdapter)throw Mw("DateAdapter");if(!this._dateFormats)throw Mw("MAT_DATE_FORMATS");this._localeSubscription=e.localeChanges.subscribe(()=>{this.value=this.value})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._getValidDateOrNull(t);const e=this.value;this._assignValue(t),this._formatValue(t),this._dateAdapter.sameDate(e,t)||this._valueChange.emit(t)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(t){const e=Rg(t),n=this._elementRef.nativeElement;this._disabled!==e&&(this._disabled=e,this._disabledChange.emit(e)),e&&this._isInitialized&&n.blur&&n.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(t){this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(t=>{if(t.source!==this){const e=this._getValueFromModel(t.selection);this._lastValueValid=this._isValidValue(e),this._cvaOnChange(e),this._onTouched(),this._formatValue(e),this.dateInput.emit(new mE(this,this._elementRef.nativeElement)),this.dateChange.emit(new mE(this,this._elementRef.nativeElement)),this._outsideValueChanged&&this._outsideValueChanged()}})}ngAfterViewInit(){this._isInitialized=!0}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this._valueChange.complete(),this._disabledChange.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}writeValue(t){this.value=t}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){t.altKey&&40===t.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}_onInput(t){const e=this._lastValueValid;let n=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(n),n=this._getValidDateOrNull(n),this._dateAdapter.sameDate(n,this.value)?(t&&!this.value&&this._cvaOnChange(n),e!==this._lastValueValid&&this._validatorOnChange()):(this._assignValue(n),this._cvaOnChange(n),this._valueChange.emit(n),this.dateInput.emit(new mE(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new mE(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_assignValue(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}_isValidValue(t){return!t||this._dateAdapter.isValid(t)}_parentDisabled(){return!1}}return t.\u0275fac=function(e){return new(e||t)(Us(Lo),Us(Nb,8),Us(Rb,8))},t.\u0275dir=ye({type:t,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"}}),t})();const yE={provide:Oc,useExisting:wt(()=>vE),multi:!0},_E={provide:Wc,useExisting:wt(()=>vE),multi:!0};let vE=(()=>{class t extends gE{constructor(t,e,n,r){super(t,e,n),this._formField=r,this._validator=Qc.compose(super._getValidators())}set matDatepicker(t){t&&(this._datepicker=t,this._registerModel(t._registerInput(this)))}get min(){return this._min}set min(t){this._min=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._validatorOnChange()}get max(){return this._max}set max(t){this._max=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._validatorOnChange()}get dateFilter(){return this._dateFilter}set dateFilter(t){this._dateFilter=t,this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}getPopupConnectionElementRef(){return this.getConnectedOverlayOrigin()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(t){return t}_assignValueToModel(t){this._model&&this._model.updateSelection(t,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}}return t.\u0275fac=function(e){return new(e||t)(Us(Lo),Us(Nb,8),Us(Rb,8),Us(bw,8))},t.\u0275dir=ye({type:t,selectors:[["input","matDatepicker",""]],hostVars:5,hostBindings:function(t,e){1&t&&Qs("input",(function(t){return e._onInput(t.target.value)}))("change",(function(){return e._onChange()}))("blur",(function(){return e._onBlur()}))("keydown",(function(t){return e._onKeydown(t)})),2&t&&(vo("disabled",e.disabled),Ms("aria-haspopup",e._datepicker?"dialog":null)("aria-owns",(null==e._datepicker?null:e._datepicker.opened)&&e._datepicker.id||null)("min",e.min?e._dateAdapter.toIso8601(e.min):null)("max",e.max?e._dateAdapter.toIso8601(e.max):null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[Po([yE,_E,{provide:ww,useExisting:t}]),Eo]}),t})(),bE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["","matDatepickerToggleIcon",""]]}),t})(),wE=(()=>{class t{constructor(t,e,n){this._intl=t,this._changeDetectorRef=e,this._stateChanges=h.EMPTY;const r=Number(n);this.tabIndex=r||0===r?r:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=Rg(t)}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.datepicker?this.datepicker._disabledChange:bd(),e=this.datepicker&&this.datepicker._datepickerInput?this.datepicker._datepickerInput._disabledChange:bd(),n=this.datepicker?$(this.datepicker.openedStream,this.datepicker.closedStream):bd();this._stateChanges.unsubscribe(),this._stateChanges=$(this._intl.changes,t,e,n).subscribe(()=>this._changeDetectorRef.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(Us(Lw),Us(hs),Bs("tabindex"))},t.\u0275cmp=he({type:t,selectors:[["mat-datepicker-toggle"]],contentQueries:function(t,e,n){var r,i,s,o,a;1&t&&(i=n,s=bE,o=!0,function(t,e,n,r,i,s,o,a){t.firstCreatePass&&(Wa(t,new Fa(n,r,!1,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),Ga(t,e)}(Je(),Xe(),s,o,a,0,en(),i)),2&t&&qa(r=$a())&&(e._customIcon=r.first)},viewQuery:function(t,e){var n;1&t&&za(Rw,!0),2&t&&qa(n=$a())&&(e._button=n.first)},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:7,hostBindings:function(t,e){1&t&&Qs("focus",(function(){return e._button.focus()})),2&t&&(Ms("tabindex",e.disabled?null:-1),lo("mat-datepicker-toggle-active",e.datepicker&&e.datepicker.opened)("mat-accent",e.datepicker&&"accent"===e.datepicker.color)("mat-warn",e.datepicker&&"warn"===e.datepicker.color))},inputs:{tabIndex:"tabIndex",disabled:"disabled",datepicker:["for","datepicker"],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[ke],ngContentSelectors:Fw,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple","click"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(t,e){1&t&&(ro(Vw),Hs(0,"button",0,1),Qs("click",(function(t){return e._open(t)})),Ls(2,Pw,2,0,"svg",2),io(3),$s()),2&t&&(qs("disabled",e.disabled)("disableRipple",e.disableRipple),Ms("aria-haspopup",e.datepicker?"dialog":null)("aria-label",e._intl.openCalendarLabel)("tabindex",e.disabled?-1:e.tabIndex),Ur(2),qs("ngIf",!e._customIcon))},directives:[iw,Gl],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),EE=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[Lw,uE,{provide:Kw,useClass:Qw}],imports:[[Jl,sw,vw,n_,ry,xy],gy]}),t})();function CE(t,e){1&t&&(Hs(0,"span",16),go(1,"El nombre es requerido. "),$s())}function SE(t,e){1&t&&(Hs(0,"span",16),go(1,"El apellido es requerido. "),$s())}function AE(t,e){1&t&&(Hs(0,"span",16),go(1,"La fecha de nacimiento es requerido. "),$s())}function xE(t,e){1&t&&(Hs(0,"span",16),go(1,"La edad es requerido. "),$s())}function TE(t,e){if(1&t&&(Hs(0,"tr"),Hs(1,"td"),go(2),$s(),Hs(3,"td"),go(4),$s(),Hs(5,"td"),go(6),$s(),Hs(7,"td"),go(8),Ia(9,"date"),$s(),Hs(10,"td"),go(11),Ia(12,"date"),$s(),$s()),2&t){const t=e.$implicit;Ur(2),yo(t.name),Ur(2),yo(t.lastname),Ur(2),yo(t.age),Ur(2),yo(ka(9,5,t.birthdate)),Ur(3),yo(ka(12,7,t.rip_date))}}function DE(t,e){if(1&t&&(Hs(0,"table",7),Hs(1,"thead"),Hs(2,"tr"),Hs(3,"th"),go(4,"Nombre"),$s(),Hs(5,"th"),go(6,"Apellidos"),$s(),Hs(7,"th"),go(8,"Edad"),$s(),Hs(9,"th"),go(10,"Fecha de nacimiento"),$s(),Hs(11,"th"),go(12,"Fecha probable de fallecimiento"),$s(),$s(),$s(),Hs(13,"tbody"),Ls(14,TE,13,9,"tr",8),$s(),$s()),2&t){const t=eo();Ur(14),qs("ngForOf",t.clients)}}function IE(t,e){1&t&&(Hs(0,"span",4),go(1,"No hay datos"),$s())}const kE=[{path:"",component:(()=>{class t{constructor(t,e,n){this.formBuilder=t,this.clientService=e,this.router=n,this.maxBirthdate=new Date(Date.now())}ngOnInit(){this.ageCtrl=this.formBuilder.control("",Qc.required),this.clientForm=this.formBuilder.group({name:["",Qc.required],lastname:["",Qc.required],age:this.ageCtrl,birthdate:["",Qc.required]})}handleChangeBirthdate(t){this.ageCtrl.setValue(this.getAgeFromBirthday(t.value)),console.log(this.getRipDate(t.value))}saveClient(){console.log("form",this.clientForm.value);let t=this.clientForm.value;t.created_at=new Date,t.age=this.getAgeFromBirthday(t.birthdate),t.rip_date=this.getRipDate(t.birthdate),this.clientService.saveClient(t).then(t=>{this.router.navigate(["/list"]),console.log("response",t)}).catch(t=>console.error(t))}getAgeFromBirthday(t){const e=Date.now()-t.getTime(),n=new Date(e);return Math.abs(n.getUTCFullYear()-1970)}getRipDate(t){const e=new Date(Number(t));return e.setDate(t.getDate()+this.getRandomInt(21600,28800)),e}getRandomInt(t,e){return Math.floor(Math.random()*(e-t))+t}}return t.\u0275fac=function(e){return new(e||t)(Us(Gh),Us(Tg),Us(ig))},t.\u0275cmp=he({type:t,selectors:[["app-form"]],decls:30,vars:9,consts:[[1,"main__form"],[3,"formGroup","ngSubmit"],[1,"main__title","main__title--center"],[1,"main__row"],["for","name"],["type","text","id","name","formControlName","name",1,"main__input"],["class","main__input--error",4,"ngIf"],["for","lastname"],["type","text","id","lastname","formControlName","lastname",1,"main__input"],["for","birthdate"],["readonly","readonly","type","text","id","birthdate","matInput","","formControlName","birthdate",1,"main__input","main__input--datepicker",3,"max","matDatepicker","dateChange"],["matSuffix","",3,"for"],["picker",""],["for","age"],["type","text","id","age","readonly","readonly","formControlName","age",1,"main__input"],["type","submit",1,"main__button","main__button--gray","main__button--width-full",3,"disabled"],[1,"main__input--error"]],template:function(t,e){if(1&t&&(Hs(0,"div",0),Hs(1,"form",1),Qs("ngSubmit",(function(){return e.saveClient()})),Hs(2,"h2",2),go(3,"Registro de clientes"),$s(),Hs(4,"span",3),Hs(5,"label",4),go(6,"Nombre:"),$s(),Gs(7,"input",5),Ls(8,CE,2,0,"span",6),$s(),Hs(9,"span",3),Hs(10,"label",7),go(11,"Apellidos:"),$s(),Gs(12,"input",8),Ls(13,SE,2,0,"span",6),$s(),Hs(14,"span",3),Hs(15,"label",9),go(16,"Fecha de nacimiento:"),$s(),Hs(17,"input",10),Qs("dateChange",(function(t){return e.handleChangeBirthdate(t)})),$s(),Gs(18,"mat-datepicker-toggle",11),Gs(19,"mat-datepicker",null,12),Ls(21,AE,2,0,"span",6),$s(),Hs(22,"span",3),Hs(23,"label",13),go(24,"Edad:"),$s(),Gs(25,"input",14),Ls(26,xE,2,0,"span",6),$s(),Hs(27,"span",3),Hs(28,"button",15),go(29,"Enviar"),$s(),$s(),$s(),$s()),2&t){const t=js(20);Ur(1),qs("formGroup",e.clientForm),Ur(7),qs("ngIf",e.clientForm.get("name").touched&&e.clientForm.get("name").hasError("required")),Ur(5),qs("ngIf",e.clientForm.controls.lastname.touched&&(null==e.clientForm.controls.lastname.errors?null:e.clientForm.controls.lastname.errors.required)),Ur(4),qs("max",e.maxBirthdate)("matDatepicker",t),Ur(1),qs("for",t),Ur(3),qs("ngIf",e.clientForm.controls.birthdate.touched&&(null==e.clientForm.controls.birthdate.errors?null:e.clientForm.controls.birthdate.errors.required)),Ur(5),qs("ngIf",e.clientForm.controls.age.touched&&(null==e.clientForm.controls.age.errors?null:e.clientForm.controls.age.errors.required)),Ur(2),qs("disabled",e.clientForm.invalid)}},directives:[Ph,Hc,Mh,Fc,zc,Hh,Gl,vE,wE,fE],styles:[".main__form[_ngcontent-%COMP%]{padding:1.5rem;border:.2rem solid #f8f9fa}.main__title[_ngcontent-%COMP%]{color:#6c757d}.main__title--center[_ngcontent-%COMP%]{text-align:center}.main__row[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;flex-wrap:wrap}.main__row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:.5rem}.main__input[_ngcontent-%COMP%]{display:block;width:100%;height:calc(2rem + 2px);padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;border:1px solid #ced4da;border-radius:.25rem}.main__input--datepicker[_ngcontent-%COMP%]{width:calc(100% - 70px)}.main__input--error[_ngcontent-%COMP%]{color:red;padding-top:5px}.main__button[_ngcontent-%COMP%]{display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;background-color:initial;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem}.main__button--gray[_ngcontent-%COMP%]{color:#fff;background-color:#6c757d;border-color:#6c757d}.main__button--width-full[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]:disabled, button[disabled][_ngcontent-%COMP%]{border:1px solid #999;background-color:#ccc;color:#666}"]}),t})()},{path:"list",component:(()=>{class t{constructor(t){this.clientService=t,this.clients=[],this.averageAge=0,this.standarDeviationAge=0}ngOnInit(){this.processList()}processList(){this.clientService.getClients().subscribe(t=>{this.clients=[],t.docs.forEach(t=>{const e=t.data(),n={name:e.name,lastname:e.lastname,age:e.age,birthdate:e.birthdate.toDate(),rip_date:e.rip_date.toDate(),created_at:e.created_at.toDate()};this.clients.push(n)}),this.averageAge=this.getAverageAge(this.clients),this.standarDeviationAge=this.getStandardDeviationAge(this.clients)})}getStandardDeviationAge(t){return Math.sqrt(this.getSumLengthAge(t)/this.getTotalItemsAge(t))}getSumLengthAge(t){let e=0;return t.forEach(n=>{e+=this.getLengthAge(n.age,this.getAverageAge(t))}),e||0}getAverageAge(t){let e=0;return t.forEach(t=>{e+=t.age}),console.log("getAverageAge",e,this.getTotalItemsAge(t)),e/this.getTotalItemsAge(t)}getTotalItemsAge(t){return t.length||0}getLengthAge(t,e){return Math.pow(t-e,2)||0}}return t.\u0275fac=function(e){return new(e||t)(Us(Tg))},t.\u0275cmp=he({type:t,selectors:[["app-list"]],decls:17,vars:4,consts:[[1,"main__list"],[1,"main__title","main__title--center"],["class","main__table",4,"ngIf","ngIfElse"],["emptyClients",""],[1,"main__result"],[1,"main__row"],["href","","routerLink","/",1,"main__button","main__button--gray","main__button--width-full"],[1,"main__table"],[4,"ngFor","ngForOf"]],template:function(t,e){if(1&t&&(Hs(0,"div",0),Hs(1,"h2",1),go(2,"Listado de clientes"),$s(),Ls(3,DE,15,1,"table",2),Ls(4,IE,2,0,"ng-template",null,3,Ka),Hs(6,"h2",1),go(7,"Promedio de edad"),$s(),Hs(8,"span",4),go(9),$s(),Hs(10,"h2",1),go(11,"Desviaci\xf3n de estandar de la edad"),$s(),Hs(12,"span",4),go(13),$s(),Hs(14,"span",5),Hs(15,"a",6),go(16,"Regresar a registro de clientes"),$s(),$s(),$s()),2&t){const t=js(5);Ur(3),qs("ngIf",e.clients&&e.clients.length>0)("ngIfElse",t),Ur(6),yo(e.averageAge),Ur(4),yo(e.standarDeviationAge)}},directives:[Gl,sg,Hl],pipes:[Xl],styles:[".main__list[_ngcontent-%COMP%]{margin:10px}.main__title[_ngcontent-%COMP%]{color:#6c757d}.main__title--center[_ngcontent-%COMP%]{text-align:center}.main__table[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem;color:#212529;border-collapse:collapse}.main__table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:rgba(0,0,0,.05)}.main__table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .main__table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.75rem;vertical-align:top;border:1px solid #dee2e6}.main__table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center}.main__result[_ngcontent-%COMP%]{font-weight:700;margin-bottom:20px}.main__result[_ngcontent-%COMP%], .main__row[_ngcontent-%COMP%]{text-align:center;display:block}.main__row[_ngcontent-%COMP%]{margin-bottom:1rem}.main__button[_ngcontent-%COMP%]{display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;background-color:initial;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem}.main__button--gray[_ngcontent-%COMP%]{color:#fff;background-color:#6c757d;border-color:#6c757d}a[_ngcontent-%COMP%]{text-decoration:none}"]}),t})()}];let OE=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[yg.forRoot(kE)],yg]}),t})(),NE=(()=>{class t{constructor(){this.title="intercorp-retail"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=he({type:t,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"main"],[1,"main__header","p-10"],[1,"main__title","main__title--center"],[1,"main__footer","p-10","text-center"]],template:function(t,e){1&t&&(Hs(0,"div",0),Hs(1,"header",1),Hs(2,"h1",2),go(3,"INTERCORP RETAIL"),$s(),$s(),Gs(4,"router-outlet"),Hs(5,"footer",3),go(6," Desarrollado por Rolly Sanchez M. "),$s(),$s())},directives:[ag],styles:[".main[_ngcontent-%COMP%]{margin:0 auto;max-width:600px}.main__header[_ngcontent-%COMP%]{background-color:#e9ecef;border-radius:.25rem;color:#6c757d}.main__title[_ngcontent-%COMP%]{font-size:1rem}.main__title--center[_ngcontent-%COMP%]{text-align:center}.main__footer[_ngcontent-%COMP%]{background-color:#000;color:#fff}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin:0!important}.p-10[_ngcontent-%COMP%]{padding:10px}.text-center[_ngcontent-%COMP%]{text-align:center}"]}),t})(),RE=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Tb],Tb]}),t})(),PE=(()=>{class t{}return t.\u0275mod=me({type:t,bootstrap:[NE]}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[],imports:[[Ic,Wh,Yh,Fd.initializeApp(Gu),of,OE,Sb,EE,zb,RE]]}),t})();(function(){if(mr)throw new Error("Cannot enable prod mode after platform setup.");pr=!1})(),Tc().bootstrapModule(PE).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("os0x"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=(15&a)<<2|l>>6,h=63&l;u||(h=64,o||(c=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==u)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function f(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}var p=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,m.prototype.create),i}return r.__extends(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?g(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new p(i,a),l=0,c=Object.keys(r);l<c.length;l++){var h=c[l];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function g(t,e){return t.replace(y,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function _(t){return JSON.parse(t)}var v=function(t){var e={},n={},r={},i="";try{var s=t.split(".");e=_(l(s[0])||""),n=_(l(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(o){}return{header:e,claims:n,data:r,signature:i}},b=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,s,o=this.chain_[0],a=this.chain_[1],u=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=l^a&(u^l),s=1518500249):(i=a^u^l,s=1859775393):r<60?(i=a&u|l&(a|u),s=2400959708):(i=a^u^l,s=3395469782);var h=(o<<5|o>>>27)+i+c+s+n[r]&4294967295;c=l,l=u,u=4294967295&(a<<30|a>>>2),a=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,s=this.inbuf_;r<e;){if(0===s)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[s]=t.charCodeAt(r),++r,++s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<e;)if(i[s]=t[r],++r,++s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function E(){}function C(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=m,e.FirebaseError=p,e.Sha1=b,e.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},e.assert=s,e.assertionError=o,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=l,e.base64Encode=function(t){var e=a(t);return u.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=v,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=C,e.getUA=d,e.isAdmin=function(t){var e=v(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return d().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isIndexedDBAvailable=function(){return"indexedDB"in window&&null!==indexedDB},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=f,e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return d().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=v(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=v(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=v(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=_,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var s=i[r];n(s[0],s[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,s(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(C(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(C(t,e,r)+"must be a valid context object.")},e.validateIndexedDBOpenable=function(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(s){e(s)}}))},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(C(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);